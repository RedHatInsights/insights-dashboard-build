"use strict";(self.webpackChunkinsights_dashboard=self.webpackChunkinsights_dashboard||[]).push([[7639],{5964:(e,t,n)=>{n.d(t,{VA:()=>l,ZP:()=>s,kc:()=>r});var a=n(40400);const r={name:"CaretDownIcon",height:512,width:320,svgPath:"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z",yOffset:0,xOffset:0},l=(0,a.I)(r),s=l},5978:(e,t,n)=>{n.d(t,{Mx:()=>l,ZP:()=>s,pP:()=>r});var a=n(40400);const r={name:"SortUpIcon",height:512,width:320,svgPath:"M279 224H41c-21.4 0-32.1-25.9-17-41L143 64c9.4-9.4 24.6-9.4 33.9 0l119 119c15.2 15.1 4.5 41-16.9 41z",yOffset:0,xOffset:0},l=(0,a.I)(r),s=l},47639:(e,t,n)=>{n.r(t),n.d(t,{default:()=>I});var a=n(70885),r=n(57149),l=n(59303),s=n(4001),c=n(32747),i=n.n(c),o=n(86896),m=n(10358),f=n(66794),d=n(28191),u=n(92298),p=n(45697),E=n.n(p),g=n(5964),h=n(26318),y=function(e){var t=e.fetchDriftData,n=e.selectedFilter,r=(0,o.Z)(),l=(0,c.useRef)([]),m=(0,c.useState)(!1),f=(0,a.Z)(m,2),d=f[0],u=f[1];return(0,c.useEffect)((function(){l.current=(0,s.J1)(r)}),[r]),i().createElement(h.Dropdown,{toggle:i().createElement(h.DropdownToggle,{onToggle:function(e,t){return u(t)},toggleIndicator:g.ZP},n.description),isOpen:d,dropdownItems:l.current.map((function(e,n){return i().createElement(h.DropdownItem,{key:n,ref:function(e){return l.current[n].el=e},onClick:function(){return function(e,n){t(e),u((function(e){return!e})),n.focus()}(e,l.current[n].el)}},e.description)}))})};y.propTypes={fetchDriftData:E().func,selectedFilter:E().shape({description:E().string})};const v=y;var D=n(30893),_=n(5978),b=function(){var e=(0,o.Z)();return i().createElement(h.EmptyState,null,i().createElement(h.EmptyStateHeader,{titleText:i().createElement(i().Fragment,null,e.formatMessage(D.Z.driftEmptyStateTitle)),headingLevel:"h4"}),i().createElement(h.EmptyStateBody,null,i().createElement(h.Text,null,e.formatMessage(D.Z.driftEmptyStateBodyCreateBaseline)),i().createElement(h.Text,null,e.formatMessage(D.Z.driftEmptyStateBodyEnableNotif))),i().createElement(h.EmptyStateFooter,null,i().createElement(h.Button,{href:"".concat(l.fz),component:"a",variant:"primary"},"Go to Baselines")))},C=n(65422),Z=n(55140),x=function(){var e,t="prod"===(0,Z.Z)().getEnvironment()?"2212b1ce-4ed0-49a3-ba3c-bc147f1690fd":"ccb37fde-8564-4a7c-8720-d78a07e2fbde",n=(0,o.Z)(),p=(0,C.I0)(),E=(0,c.useState)({id:"hours-24",description:n.formatMessage(D.Z.driftDropDown24hours),startDate:(0,s._3)(1),endDate:(0,s._3)(0)}),g=(0,a.Z)(E,2),y=g[0],x=g[1],I=(0,c.useState)(!0),k=(0,a.Z)(I,2),w=k[0],N=k[1],T=(0,C.v9)((function(e){return e.DashboardStore.driftEvents})),M=(0,C.v9)((function(e){return e.DashboardStore.driftEventFetchStatus})),S=(0,c.useCallback)((function(e){p(r.fP({appIds:t,startDate:e.startDate,endDate:e.endDate,includePayload:!0})),x(e)}),[p,t]);return(0,c.useEffect)((function(){S(y)}),[S,y]),i().createElement(m.t,{className:"insd-m-toggle-right-on-md",appName:"Drift",isExpanded:w,isExpandedCallback:N,title:i().createElement(d.k,null,i().createElement(u.B,null,n.formatMessage(D.Z.driftCardTitle)),w?i().createElement(u.B,{className:"ins-c-drift__drop_down",align:{default:"alignRight"}},i().createElement(v,{fetchDriftData:S,selectedFilter:y})):null),body:i().createElement(i().Fragment,null,"pending"===M?i().createElement(i().Fragment,null,i().createElement(h.Bullseye,null,i().createElement(h.Spinner,{className:"ins-c-drift__drift_spinner"}))):i().createElement(i().Fragment,null,(null===(e=T.baselineDetail)||void 0===e?void 0:e.length)>0?i().createElement(f.jA,null,i().createElement(d.k,{direction:{default:"column"},alignItems:{default:"alignItemsCenter"}},i().createElement(u.B,null,i().createElement(d.k,{alignItems:{default:"alignItemsFlexCenter"},justifyContent:{default:"justifyContentCenter"}},i().createElement("span",{className:"pf-v5-u-font-size-2xl pf-v5-u-text-align-center pf-v5-u-font-weight-normal"},T.numEvents)),i().createElement(h.TextContent,{className:"insd-c-width-limiter pf-v5-u-text-align-center"},i().createElement("p",{className:"pf-v5-u-font-size-sm"},n.formatMessage(D.Z.driftNumberOfEvents)))),i().createElement(h.Button,{variant:"secondary",component:"a",className:"ins-c-drift__investigate_button",href:l.Ld},n.formatMessage(D.Z.driftInventigateButtton))),i().createElement(h.Divider,null),i().createElement(h.TextContent,{className:"insd-c-width-limiter ins-c-drift__top_5"},i().createElement("p",{className:"pf-v5-u-font-size-sm pf-v5-u-font-weight-bold"},n.formatMessage(D.Z.driftTop5))),i().createElement(h.DataList,{className:"insd-m-no-padding insd-m-no-top-border insd-m-no-bottom-border",isCompact:!0},T.baselineDetail.slice(0,l.ds).map((function(e,t){return i().createElement(h.DataListItem,{key:t},i().createElement(h.DataListItemRow,null,i().createElement(h.DataListItemCells,{dataListCells:[i().createElement(i().Fragment,{key:t},i().createElement(h.DataListCell,{key:"title-".concat(t),wrapModifier:h.DataListWrapModifier.truncate},i().createElement(h.Text,{component:h.TextVariants.a,href:"".concat(l.fz,"/").concat(e.baselineId)},e.baselineName)),i().createElement(h.DataListCell,{key:"system-".concat(t),className:"ins-c-drift__data_list_cell_system_len"},i().createElement("span",{className:"pf-v5-u-font-weight-normal ins-c-drift__system_len"},i().createElement(_.ZP,{color:"black"}),n.formatMessage(D.Z.driftSystems,{systems:e.systems.length}))),i().createElement(h.DataListCell,{key:"compare-".concat(t),className:"ins-c-drift__data_list_cell_compare"},i().createElement(h.Tooltip,{content:i().createElement("div",null,n.formatMessage(D.Z.driftCompareTooltip))},i().createElement(h.Text,{component:h.TextVariants.a,href:(0,s.My)(e.baselineId,e.systems),className:"ins-c-drift__text_compare"},n.formatMessage(D.Z.driftCompare)))))]})))})))):i().createElement(b,null)))})};x.propTypes={fetchDrift:E().func,driftEvents:E().object,driftEventFetchStatus:E().string,intl:E().any};const I=x}}]);
//# sourceMappingURL=../sourcemaps/7639.e16e94e0b150560a4ae35772915e5e7d.js.map