{"version":3,"sources":["webpack:///./src/PresentationalComponents/VerticalDivider/VerticalDivider.scss?0722","webpack:///./src/PresentationalComponents/VerticalDivider/VerticalDivider.js","webpack:///./src/SmartComponents/Vulnerability/Constants.js","webpack:///./src/SmartComponents/Vulnerability/VulnerabilityCard.js","webpack:///./src/PresentationalComponents/VerticalDivider/VerticalDivider.scss"],"names":["api","content","__esModule","default","module","i","options","update","exported","locals","hot","accept","newContent","dispose","exports","VerticalDivider","Divider","className","CVSS_MAP","VulnerabilityCard","fetchVulnerabilities","vulnerabilities","vulnerabilitiesFetchStatus","useEffect","chartData","stackChartLegendData","intl","useIntl","bySeverity","cves_by_severity","cvesTotal","cves_total","name","x","y","count","fill","map","item","class","symbol","type","TemplateCard","isFilled","data-ouia-safe","title","formatMessage","messages","vulnerabilitiesTitle","Loading","NumberDescription","data","vulnerabilitiesTotalItems","total","dataSize","linkDescription","cvesImpactingSystems","cves","layout","link","UI_BASE","StackChartTemplate","ariaDesc","ariaTitle","height","width","maxWidth","legendHeight","legendWidth","legendData","legendClick","target","mutation","cvss","datum","split","window","location","href","isHorizontalLayout","recent_cves","last90days","lastxdays","days","last30days","latestVulnerabilitiesTotal","totalLatest","last7days","propTypes","PropTypes","func","object","string","connect","DashboardStore","dispatch","url","AppActions","___CSS_LOADER_API_IMPORT___","push"],"mappings":"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","file":"js/12.js","sourcesContent":["var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./VerticalDivider.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\nif (module.hot) {\n  if (!content.locals) {\n    module.hot.accept(\n      \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./VerticalDivider.scss\",\n      function () {\n        var newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./VerticalDivider.scss\");\n\n              newContent = newContent.__esModule ? newContent.default : newContent;\n\n              if (typeof newContent === 'string') {\n                newContent = [[module.id, newContent, '']];\n              }\n\n              update(newContent);\n      }\n    )\n  }\n\n  module.hot.dispose(function() { \n    update();\n  });\n}\n\nmodule.exports = exported;","import React from 'react';\nimport { Divider } from '@patternfly/react-core/dist/js/components/Divider/Divider';\nimport './VerticalDivider.scss';\n\nexport const VerticalDivider = () => (\n    <Divider className=\"pf-m-vertical\"/>\n);\n\nexport default VerticalDivider;\n","export const CVSS_MAP = {\n    '0.0 - 3.9': 'less4',\n    '4.0 - 7.9': 'from4to8',\n    '8.0 - 10': 'from8to10'\n};\n","import * as AppActions from '../../AppActions';\nimport { Divider } from '@patternfly/react-core/dist/js/components/Divider/Divider';\nimport {\n    TemplateCard,\n    TemplateCardBody,\n    TemplateCardHeader\n} from '../../PresentationalComponents/Template/TemplateCard';\nimport React, { useEffect } from 'react';\nimport Loading from '../../PresentationalComponents/Loading/Loading';\nimport PropTypes from 'prop-types';\nimport { UI_BASE } from '../../AppConstants';\nimport { useIntl } from 'react-intl';\nimport messages from '../../Messages';\nimport { connect } from 'react-redux';\nimport { NumberDescription } from '../../../../insights-dashboard/src/PresentationalComponents/NumberDescription/NumberDescription';\nimport { VerticalDivider } from '../../../../insights-dashboard/src/PresentationalComponents/VerticalDivider/VerticalDivider';\nimport StackChartTemplate from '../../ChartTemplates/StackChart/StackChartTemplate';\nimport { CVSS_MAP } from './Constants';\n/**\n * Vulnerability Card for showing number of critical vulnerabilities\n */\n\nconst VulnerabilityCard = ({ fetchVulnerabilities, vulnerabilities, vulnerabilitiesFetchStatus }) => {\n    useEffect(() => {\n        fetchVulnerabilities();\n    }, [fetchVulnerabilities]);\n\n    let  chartData = [];\n    let stackChartLegendData = [];\n    const intl = useIntl();\n\n    if (vulnerabilitiesFetchStatus === 'fulfilled') {\n        let { cves_by_severity: bySeverity, cves_total: cvesTotal } = vulnerabilities;\n        chartData = [\n            {\n                name: 'CVSS 8.0 - 10',\n                x: cvesTotal,\n                y: bySeverity['8to10'].count,\n                fill: '#a30000'\n            },\n            {\n                name: 'CVSS 4.0 - 7.9',\n                x: cvesTotal,\n                y: bySeverity['4to7.9'].count,\n                fill: '#ec7a08'\n            },\n            {\n                name: 'CVSS 0.0 - 3.9',\n                x: cvesTotal,\n                y: bySeverity['0to3.9'].count,\n                fill: '#f0ab00'\n            }\n        ];\n\n        stackChartLegendData = chartData.map(item => ({ name: `${item.name}`, class: item.name,  symbol: { fill: `${item.fill}`, type: 'circle' } }));\n    }\n\n    const legendClick = () => [{\n        target: 'labels',\n        mutation: (data) => {\n            const cvss = data.datum.name.split('CVSS ')[1];\n            window.location.href =\n                `${UI_BASE}/vulnerability/cves?cvss_filter=${CVSS_MAP[cvss]}`;\n        }\n    }];\n\n    return (\n        <TemplateCard isFilled={ false } className='ins-c-card__vulnerability' data-ouia-safe={ vulnerabilitiesFetchStatus !== 'pending' }>\n            <TemplateCardHeader title={ intl.formatMessage(messages.vulnerabilitiesTitle) }/>\n            <TemplateCardBody>\n                {vulnerabilitiesFetchStatus !== 'fulfilled' ? <Loading /> :\n                    <NumberDescription\n                        data={ intl.formatMessage(messages.vulnerabilitiesTotalItems, { total: vulnerabilities.cves_total }) }\n                        dataSize=\"md\"\n                        linkDescription={ intl.formatMessage(messages.cvesImpactingSystems, { cves: vulnerabilities.cves_total }) }\n                        layout=\"horizontal\"\n                        link={ `${UI_BASE}/vulnerability/` }\n                    />\n                }\n                {vulnerabilitiesFetchStatus !== 'fulfilled' ? <Loading /> :\n                    <StackChartTemplate\n                        ariaDesc={ intl.formatMessage(messages.cvesImpactingSystems, { cves: vulnerabilities.cves_total }) }\n                        ariaTitle=\"Vulnerabilities chart\"\n                        height={ 40 }\n                        width={ 600 }\n                        maxWidth={ 600 }\n                        legendHeight={ 36 }\n                        legendWidth={ 600 }\n                        data={ chartData }\n                        legendData={ stackChartLegendData }\n                        legendClick={ legendClick }\n                    />\n                }\n            </TemplateCardBody>\n            <Divider/>\n            {vulnerabilitiesFetchStatus !== 'fulfilled' ? <Loading /> :\n                <TemplateCardBody isFilled={ false } isHorizontalLayout=\"true\">\n                    <NumberDescription\n                        data={ vulnerabilities.recent_cves.last90days }\n                        dataSize=\"md\"\n                        linkDescription={ intl.formatMessage(messages.lastxdays, { days: 90 }) }\n                        link={ `${UI_BASE}/vulnerability/cves?publish_date=last90` }\n                    />\n                    <VerticalDivider/>\n                    <NumberDescription\n                        data={ vulnerabilities.recent_cves.last30days }\n                        dataSize=\"md\"\n                        linkDescription={ intl.formatMessage(messages.lastxdays, { days: 30 }) }\n                        link={ `${UI_BASE}/vulnerability/cves?publish_date=last30` }\n                    />\n                    <VerticalDivider/>\n                    <NumberDescription\n                        data={ intl.formatMessage(messages.latestVulnerabilitiesTotal,\n                            { totalLatest: vulnerabilities.recent_cves.last7days }\n                        ) }\n                        dataSize=\"md\"\n                        linkDescription={ intl.formatMessage(messages.lastxdays, { days: 7 }) }\n                        link={ `${UI_BASE}/vulnerability/cves?publish_date=last7` }\n                    />\n                </TemplateCardBody>\n            }\n        </TemplateCard>\n    );\n};\n\nVulnerabilityCard.propTypes = {\n    fetchVulnerabilities: PropTypes.func,\n    vulnerabilities: PropTypes.object,\n    vulnerabilitiesFetchStatus: PropTypes.string\n};\n\nexport default connect(\n    ({ DashboardStore }) => ({\n        vulnerabilities: DashboardStore.vulnerabilities,\n        vulnerabilitiesFetchStatus: DashboardStore.vulnerabilitiesFetchStatus\n    }),\n    dispatch => ({\n        fetchVulnerabilities: (url) => dispatch(AppActions.fetchVulnerabilities(url))\n    })\n)(VulnerabilityCard);\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".pf-c-divider{--pf-c-divider--Height: var(--pf-global--BorderWidth--sm);--pf-c-divider--BackgroundColor: var(--pf-global--BorderColor--100);--pf-c-divider--after--Height: var(--pf-c-divider--Height);--pf-c-divider--after--BackgroundColor: var(--pf-c-divider--BackgroundColor);--pf-c-divider--after--FlexBasis: 100%;--pf-c-divider--after--Inset: 0%;--pf-c-divider--m-vertical--after--FlexBasis: 100%;--pf-c-divider--m-vertical--after--Width: var(--pf-global--BorderWidth--sm);display:flex;align-items:center;align-self:stretch;justify-content:center;width:100%;border:0}.pf-c-divider::after{flex-basis:calc(var(--pf-c-divider--after--FlexBasis) - calc(var(--pf-c-divider--after--Inset) * 2));align-self:stretch;height:var(--pf-c-divider--after--Height);content:\\\"\\\";background-color:var(--pf-c-divider--after--BackgroundColor);justify-self:center}.pf-c-divider.pf-m-vertical{display:inline-flex;flex-direction:column;margin-left:24px;width:auto;height:inherit;min-height:100%;max-height:100%}.pf-c-divider.pf-m-vertical::after{flex-basis:calc(var(--pf-c-divider--m-vertical--after--FlexBasis) - var(--pf-c-divider--after--Inset));width:var(--pf-c-divider--m-vertical--after--Width)}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n"],"sourceRoot":""}