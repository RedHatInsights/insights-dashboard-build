{"version":3,"sources":["webpack:///./src/PresentationalComponents/VerticalDivider/VerticalDivider.js","webpack:///./src/SmartComponents/Vulnerability/Constants.js","webpack:///./src/SmartComponents/Vulnerability/VulnerabilityCard.js","webpack:///./src/PresentationalComponents/VerticalDivider/VerticalDivider.scss","webpack:///./src/PresentationalComponents/VerticalDivider/VerticalDivider.scss?0722"],"names":["VerticalDivider","Divider","className","CVSS_MAP","VulnerabilityCard","fetchVulnerabilities","vulnerabilities","vulnerabilitiesFetchStatus","useEffect","chartData","stackChartLegendData","intl","useIntl","bySeverity","cves_by_severity","cvesTotal","cves_total","name","x","y","count","fill","map","item","class","symbol","type","legendClick","data","cvss","split","UI_BASE","TemplateCard","isFilled","data-ouia-safe","title","formatMessage","messages","vulnerabilitiesTitle","FailState","appName","Loading","NumberDescription","vulnerabilitiesTotalItems","total","dataSize","linkDescription","cvesImpactingSystems","cves","layout","link","StackChartTemplate","ariaDesc","ariaTitle","height","width","maxWidth","legendHeight","legendWidth","legendData","isHorizontalLayout","recent_cves","last90days","lastxdays","days","last30days","latestVulnerabilitiesTotal","totalLatest","last7days","propTypes","PropTypes","func","object","string","connect","DashboardStore","dispatch","url","AppActions","exports","___CSS_LOADER_API_IMPORT___","push","module","i","api","content","__esModule","default","options","update","locals","hot","invalidate","oldLocals","accept","a","b","p","isEqualLocals","dispose"],"mappings":"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","file":"js/12.js","sourcesContent":["import React from 'react';\nimport { Divider } from '@patternfly/react-core/dist/js/components/Divider/Divider';\nimport './VerticalDivider.scss';\n\nexport const VerticalDivider = () => (\n    <Divider className=\"pf-m-vertical\"/>\n);\n\nexport default VerticalDivider;\n","export const CVSS_MAP = {\n    '0.0 - 3.9': 'less4',\n    '4.0 - 7.9': 'from4to8',\n    '8.0 - 10': 'from8to10'\n};\n","import * as AppActions from '../../AppActions';\nimport { Divider } from '@patternfly/react-core/dist/js/components/Divider/Divider';\nimport {\n    TemplateCard,\n    TemplateCardBody,\n    TemplateCardHeader\n} from '../../PresentationalComponents/Template/TemplateCard';\nimport React, { useEffect } from 'react';\nimport Loading from '../../PresentationalComponents/Loading/Loading';\nimport PropTypes from 'prop-types';\nimport { UI_BASE } from '../../AppConstants';\nimport { useIntl } from 'react-intl';\nimport messages from '../../Messages';\nimport { connect } from 'react-redux';\nimport { NumberDescription } from '../../../../insights-dashboard/src/PresentationalComponents/NumberDescription/NumberDescription';\nimport { VerticalDivider } from '../../../../insights-dashboard/src/PresentationalComponents/VerticalDivider/VerticalDivider';\nimport StackChartTemplate from '../../ChartTemplates/StackChart/StackChartTemplate';\nimport { CVSS_MAP } from './Constants';\n\nimport FailState from '../../PresentationalComponents/FailState/FailState';\n\n/**\n * Vulnerability Card for showing number of critical vulnerabilities\n */\n\nconst VulnerabilityCard = ({ fetchVulnerabilities, vulnerabilities, vulnerabilitiesFetchStatus }) => {\n    useEffect(() => {\n        fetchVulnerabilities();\n    }, [fetchVulnerabilities]);\n\n    let  chartData = [];\n    let stackChartLegendData = [];\n    const intl = useIntl();\n\n    if (vulnerabilitiesFetchStatus === 'fulfilled') {\n        let { cves_by_severity: bySeverity, cves_total: cvesTotal } = vulnerabilities;\n        chartData = [\n            {\n                name: 'CVSS 8.0 - 10',\n                x: cvesTotal,\n                y: bySeverity['8to10'].count,\n                fill: '#a30000'\n            },\n            {\n                name: 'CVSS 4.0 - 7.9',\n                x: cvesTotal,\n                y: bySeverity['4to7.9'].count,\n                fill: '#ec7a08'\n            },\n            {\n                name: 'CVSS 0.0 - 3.9',\n                x: cvesTotal,\n                y: bySeverity['0to3.9'].count,\n                fill: '#f0ab00'\n            }\n        ];\n\n        stackChartLegendData = chartData.map(item => ({ name: `${item.name}`, class: item.name,  symbol: { fill: `${item.fill}`, type: 'circle' } }));\n    }\n\n    const legendClick = chartData.map((data) => {\n        const cvss = data.name.split('CVSS ')[1];\n        return `${UI_BASE}/vulnerability/cves?cvss_filter=${CVSS_MAP[cvss]}`;\n    });\n\n    if (vulnerabilitiesFetchStatus === 'rejected') {\n        return (\n            <TemplateCard isFilled={ false } className='ins-c-card__vulnerability' data-ouia-safe>\n                <TemplateCardHeader title={ intl.formatMessage(messages.vulnerabilitiesTitle) }/>\n                <TemplateCardBody><FailState appName='Vulnerability'/></TemplateCardBody>\n            </TemplateCard>\n        );\n    }\n\n    return (\n        <TemplateCard isFilled={ false } className='ins-c-card__vulnerability' data-ouia-safe={ vulnerabilitiesFetchStatus !== 'pending' }>\n            <TemplateCardHeader title={ intl.formatMessage(messages.vulnerabilitiesTitle) }/>\n            <TemplateCardBody>\n                {vulnerabilitiesFetchStatus !== 'fulfilled' ? <Loading /> :\n                    <NumberDescription\n                        data={ intl.formatMessage(messages.vulnerabilitiesTotalItems, { total: vulnerabilities.cves_total }) }\n                        dataSize=\"md\"\n                        linkDescription={ intl.formatMessage(messages.cvesImpactingSystems, { cves: vulnerabilities.cves_total }) }\n                        layout=\"horizontal\"\n                        link={ `${UI_BASE}/vulnerability/` }\n                    />\n                }\n                {vulnerabilitiesFetchStatus !== 'fulfilled' ? <Loading /> :\n                    <StackChartTemplate\n                        ariaDesc={ intl.formatMessage(messages.cvesImpactingSystems, { cves: vulnerabilities.cves_total }) }\n                        ariaTitle=\"Vulnerabilities chart\"\n                        height={ 40 }\n                        width={ 600 }\n                        maxWidth={ 600 }\n                        legendHeight={ 36 }\n                        legendWidth={ 600 }\n                        data={ chartData }\n                        legendData={ stackChartLegendData }\n                        legendClick={ legendClick }\n                    />\n                }\n            </TemplateCardBody>\n            <Divider/>\n            {vulnerabilitiesFetchStatus !== 'fulfilled' ? <Loading /> :\n                <TemplateCardBody isFilled={ false } isHorizontalLayout=\"true\">\n                    <NumberDescription\n                        data={ vulnerabilities.recent_cves.last90days }\n                        dataSize=\"md\"\n                        linkDescription={ intl.formatMessage(messages.lastxdays, { days: 90 }) }\n                        link={ `${UI_BASE}/vulnerability/cves?publish_date=last90` }\n                    />\n                    <VerticalDivider/>\n                    <NumberDescription\n                        data={ vulnerabilities.recent_cves.last30days }\n                        dataSize=\"md\"\n                        linkDescription={ intl.formatMessage(messages.lastxdays, { days: 30 }) }\n                        link={ `${UI_BASE}/vulnerability/cves?publish_date=last30` }\n                    />\n                    <VerticalDivider/>\n                    <NumberDescription\n                        data={ intl.formatMessage(messages.latestVulnerabilitiesTotal,\n                            { totalLatest: vulnerabilities.recent_cves.last7days }\n                        ) }\n                        dataSize=\"md\"\n                        linkDescription={ intl.formatMessage(messages.lastxdays, { days: 7 }) }\n                        link={ `${UI_BASE}/vulnerability/cves?publish_date=last7` }\n                    />\n                </TemplateCardBody>\n            }\n        </TemplateCard>\n    );\n};\n\nVulnerabilityCard.propTypes = {\n    fetchVulnerabilities: PropTypes.func,\n    vulnerabilities: PropTypes.object,\n    vulnerabilitiesFetchStatus: PropTypes.string\n};\n\nexport default connect(\n    ({ DashboardStore }) => ({\n        vulnerabilities: DashboardStore.vulnerabilities,\n        vulnerabilitiesFetchStatus: DashboardStore.vulnerabilitiesFetchStatus\n    }),\n    dispatch => ({\n        fetchVulnerabilities: (url) => dispatch(AppActions.fetchVulnerabilities(url))\n    })\n)(VulnerabilityCard);\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".pf-c-divider{--pf-c-divider--Height: var(--pf-global--BorderWidth--sm);--pf-c-divider--BackgroundColor: var(--pf-global--BorderColor--100);--pf-c-divider--after--Height: var(--pf-c-divider--Height);--pf-c-divider--after--BackgroundColor: var(--pf-c-divider--BackgroundColor);--pf-c-divider--after--FlexBasis: 100%;--pf-c-divider--after--Inset: 0%;--pf-c-divider--m-vertical--after--FlexBasis: 100%;--pf-c-divider--m-vertical--after--Width: var(--pf-global--BorderWidth--sm);display:flex;align-items:center;align-self:stretch;justify-content:center;width:100%;border:0}.pf-c-divider::after{flex-basis:calc(var(--pf-c-divider--after--FlexBasis) - calc(var(--pf-c-divider--after--Inset) * 2));align-self:stretch;height:var(--pf-c-divider--after--Height);content:\\\"\\\";background-color:var(--pf-c-divider--after--BackgroundColor);justify-self:center}.pf-c-divider.pf-m-vertical{display:inline-flex;flex-direction:column;margin-left:24px;width:auto;height:inherit;min-height:100%;max-height:100%}.pf-c-divider.pf-m-vertical::after{flex-basis:calc(var(--pf-c-divider--m-vertical--after--FlexBasis) - var(--pf-c-divider--after--Inset));width:var(--pf-c-divider--m-vertical--after--Width)}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./VerticalDivider.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\nif (module.hot) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = function isEqualLocals(a, b) {\n  if (!a && b || a && !b) {\n    return false;\n  }\n\n  var p;\n\n  for (p in a) {\n    if (a[p] !== b[p]) {\n      return false;\n    }\n  }\n\n  for (p in b) {\n    if (!a[p]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n    var oldLocals = content.locals;\n\n    module.hot.accept(\n      \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./VerticalDivider.scss\",\n      function () {\n        content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./VerticalDivider.scss\");\n\n              content = content.__esModule ? content.default : content;\n\n              if (typeof content === 'string') {\n                content = [[module.id, content, '']];\n              }\n\n              if (!isEqualLocals(oldLocals, content.locals)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              update(content);\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\nmodule.exports = content.locals || {};"],"sourceRoot":""}