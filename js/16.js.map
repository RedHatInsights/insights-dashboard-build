{"version":3,"sources":["webpack:///./src/SmartComponents/Advisor/Constants.js","webpack:///./src/SmartComponents/Advisor/Advisor.js","webpack:///./src/PresentationalComponents/NumberDescription/NumberDescription.scss","webpack:///./src/PresentationalComponents/NumberData/NumberData.scss","webpack:///./src/ChartTemplates/StackChart/_StackChartTemplate.scss","webpack:///./src/PresentationalComponents/NumberDescription/NumberDescription.scss?ddcd","webpack:///./src/PresentationalComponents/NumberData/NumberData.scss?63e1","webpack:///./src/PresentationalComponents/NumberData/NumberData.js","webpack:///./src/PresentationalComponents/NumberDescription/NumberDescription.js","webpack:///./src/ChartTemplates/StackChart/_StackChartTemplate.scss?b8ea","webpack:///./src/Utilities/Common.js","webpack:///./src/ChartTemplates/StackChart/StackChartTemplate.js"],"names":["SEVERITY_MAP","critical","important","moderate","low","Advisor","recStats","recStatsStatus","advisorFetchStatsRecs","advisorFetchStatsSystems","advisorIncidents","advisorIncidentsStatus","advisorFetchIncidents","systemsStats","systemsStatsStatus","intl","useIntl","useState","chartData","setChartData","useEffect","name","formatMessage","messages","y","total_risk","legendClick","map","data","risk","toLowerCase","UI_BASE","TemplateCard","appName","data-ouia-safe","title","FailState","Loading","NumberDescription","meta","count","dataSize","layout","linkDescription","incidentsDetected","incidents","link","StackChartTemplate","ariaDesc","advisorChartDescription","ariaTitle","height","width","maxWidth","legendHeight","legendWidth","Button","component","href","variant","isInline","recsImpactingSystems","totalRecs","total","systems","propTypes","PropTypes","func","object","string","connect","DashboardStore","advisorStatsRecs","advisorStatsRecsStatus","advisorStatsSystems","advisorStatsSystemsStatus","dispatch","url","AppActions","exports","___CSS_LOADER_API_IMPORT___","push","module","i","api","content","__esModule","default","options","update","locals","hot","invalidate","oldLocals","accept","a","b","p","isEqualLocals","dispose","NumberData","percentageData","iconTooltipText","className","Tooltip","position","TooltipPosition","top","aria-label","InfoIcon","any","node","CriticalIcon","capitalize","toUpperCase","substring","StackChart","props","colorScale","global_palette_red_200","value","global_palette_orange_300","global_palette_gold_400","global_palette_gold_200","legendData","item","symbol","type","rawData","length","filter","el","dataMin","reduce","acc","curr","Math","min","LegendLabel","index","rest","ChartLabel","Fragment","Chart","padding","bottom","left","right","ChartAxis","axisComponent","ChartStack","horizontal","ChartBar","key","barWidth","labelComponent","ChartTooltip","style","fontSize","dx","orientation","x","label","datum","tabIndex","d","ChartLegend","responsive","gutter","labels","fill","c_button_m_control_active_after_BorderBottomColor","events","target","eventHandlers","onMouseOver","mutation","Object","assign","global_primary_color_200","textDecoration","onMouseOut","onClick","number","array"],"mappings":"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","file":"js/16.js","sourcesContent":["export const INCIDENT_URL = `/advisor/recommendations?reports_shown=undefined&impacting=true&offset=0&limit=10&sort=-publish_date&incident=true`;\nexport const NEW_REC_URL = `/advisor/recommendations?reports_shown=undefined&impacting=true&offset=0&limit=10&sort=-publish_date`;\n\nexport const SEVERITY_MAP = {\n    critical: 4,\n    important: 3,\n    moderate: 2,\n    low: 1\n};\n","import * as AppActions from '../../AppActions';\n\nimport { INCIDENT_URL, NEW_REC_URL } from './Constants';\nimport React, { useEffect, useState } from 'react';\nimport { TemplateCard, TemplateCardBody, TemplateCardHeader } from '../../PresentationalComponents/Template/TemplateCard';\n\nimport { Button } from '@patternfly/react-core/dist/js/components/Button/Button';\nimport FailState from '../../PresentationalComponents/FailState/FailState';\nimport Loading from '../../PresentationalComponents/Loading/Loading';\nimport { NumberDescription } from '../../PresentationalComponents/NumberDescription/NumberDescription';\nimport PropTypes from 'prop-types';\nimport { SEVERITY_MAP } from './Constants';\nimport StackChartTemplate from '../../ChartTemplates/StackChart/StackChartTemplate';\nimport { UI_BASE } from '../../AppConstants';\nimport { connect } from 'react-redux';\nimport messages from '../../Messages';\nimport { useIntl } from 'react-intl';\n\n/**\n * Advisor Card for showing count/severity of rec hits\n */\nconst Advisor = ({ recStats, recStatsStatus, advisorFetchStatsRecs, advisorFetchStatsSystems,\n    advisorIncidents, advisorIncidentsStatus, advisorFetchIncidents, systemsStats, systemsStatsStatus }) => {\n\n    const intl = useIntl();\n    const [chartData, setChartData] = useState([]);\n\n    useEffect(() => {\n        advisorFetchStatsRecs();\n        advisorFetchStatsSystems();\n        advisorFetchIncidents();\n    }, [advisorFetchIncidents, advisorFetchStatsRecs, advisorFetchStatsSystems]);\n\n    useEffect(() => {\n        recStatsStatus === 'fulfilled' && setChartData([\n            { name: intl.formatMessage(messages.critical), y: recStats.total_risk[SEVERITY_MAP.critical] },\n            { name: intl.formatMessage(messages.important), y: recStats.total_risk[SEVERITY_MAP.important] },\n            { name: intl.formatMessage(messages.moderate), y: recStats.total_risk[SEVERITY_MAP.moderate] },\n            { name: intl.formatMessage(messages.low), y: recStats.total_risk[SEVERITY_MAP.low] }\n        ]);\n    }, [intl, recStats, recStatsStatus]);\n\n    const legendClick = chartData.map((data) => {\n        const risk = data.name.toLowerCase();\n        return `${UI_BASE}/advisor/recommendations?total_risk=${SEVERITY_MAP[risk]}&reports_shown=true&impacting=true&offset=0&limit=10`;\n    });\n\n    return <TemplateCard appName='Advisor' data-ouia-safe>\n        <TemplateCardHeader title='Advisor recommendations' />\n        {advisorIncidentsStatus === 'rejected' ?\n            <TemplateCardBody><FailState appName='Advisor' /></TemplateCardBody>\n            : <TemplateCardBody>\n                {advisorIncidentsStatus !== 'fulfilled' ? <Loading /> :\n                    <NumberDescription\n                        data={ advisorIncidents.meta.count }\n                        dataSize=\"md\"\n                        layout=\"horizontal\"\n                        linkDescription={ intl.formatMessage(messages.incidentsDetected, { incidents: advisorIncidents.meta.count }) }\n                        critical={ advisorIncidents.meta.count > 50 ? 'true' : 'false' }\n                        link={ `${UI_BASE}${INCIDENT_URL}` }\n                    />\n                }\n                {recStatsStatus !== 'fulfilled' ? <Loading /> :\n                    <StackChartTemplate\n                        ariaDesc={ intl.formatMessage(messages.advisorChartDescription) }\n                        ariaTitle=\"Advisor recommendations chart\"\n                        height={ 40 }\n                        width={ 600 }\n                        maxWidth={ 600 }\n                        legendHeight={ 36 }\n                        legendWidth={ 600 }\n                        data={ chartData }\n                        legendClick={ legendClick }\n                    />\n                }\n                {systemsStatsStatus !== 'fulfilled' ? <Loading /> :\n                    <Button component=\"a\" href={ `${UI_BASE}${NEW_REC_URL}` } variant=\"link\" isInline>\n                        {intl.formatMessage(messages.recsImpactingSystems, { totalRecs: recStats.total, systems: systemsStats.total })}\n                    </Button>}\n            </TemplateCardBody>\n        }\n\n    </TemplateCard>;\n};\n\nAdvisor.propTypes = {\n    advisorFetchStatsRecs: PropTypes.func,\n    recStats: PropTypes.object,\n    recStatsStatus: PropTypes.string,\n    advisorFetchStatsSystems: PropTypes.func,\n    systemsStats: PropTypes.object,\n    systemsStatsStatus: PropTypes.string,\n    advisorIncidents: PropTypes.object,\n    advisorIncidentsStatus: PropTypes.string,\n    advisorFetchIncidents: PropTypes.func\n};\n\nexport default connect(\n    ({ DashboardStore }) => ({\n        recStats: DashboardStore.advisorStatsRecs,\n        recStatsStatus: DashboardStore.advisorStatsRecsStatus,\n        systemsStats: DashboardStore.advisorStatsSystems,\n        systemsStatsStatus: DashboardStore.advisorStatsSystemsStatus,\n        advisorIncidents: DashboardStore.advisorIncidents,\n        advisorIncidentsStatus: DashboardStore.advisorIncidentsStatus\n    }),\n    dispatch => ({\n        advisorFetchStatsRecs: (url) => dispatch(AppActions.advisorFetchStatsRecs(url)),\n        advisorFetchStatsSystems: (url) => dispatch(AppActions.advisorFetchStatsSystems(url)),\n        advisorFetchIncidents: (url) => dispatch(AppActions.advisorFetchIncidents(url))\n    })\n)(Advisor);\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".ins-c-dashboard__number-description>*{text-align:left}.ins-c-dashboard__number-description .pf-c-button.pf-m-link{font-size:var(--pf-global--FontSize--sm);padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;line-height:var(--pf-global--FontSize--sm);text-align:left}.ins-c-dashboard__number-description .pf-c-button.pf-m-link>.pf-c-button__text{display:flex;flex-direction:column;align-items:baseline;min-width:0;max-width:100%}.ins-c-dashboard__number-description.pf-m-horizontal svg{margin-right:var(--pf-global--spacer--sm)}.ins-c-dashboard__number-description.pf-m-horizontal .pf-c-button.pf-m-link .pf-c-button__text{flex-direction:row}.ins-c-dashboard__number-description.pf-m-horizontal .pf-c-button.pf-m-link .pf-c-button__text>:first-child{padding-right:var(--pf-global--spacer--sm)}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".ins-c-dashboard__number-data--xl{font-size:calc(var(--pf-global--FontSize--2xl) * 2);line-height:40px}.ins-c-dashboard__number-data--lg{font-size:30px;line-height:30px}.ins-c-dashboard__number-data--md{font-size:var(--pf-global--FontSize--lg);line-height:var(--pf-global--FontSize--lg)}.ins-c-dashboard__number-data--xl,.ins-c-dashboard__number-data--lg,.ins-c-dashboard__number-data--md{font-family:var(--pf-global--FontFamily--redhatfont--heading--sans-serif)}.ins-c-dashboard__number-data--number-percentage{display:flex;flex-direction:row;align-items:flex-end}.ins-c-dashboard__number-data--number-percentage>*{color:#000}.ins-c-dashboard__number-percentage{display:flex;align-items:baseline;margin-left:var(--pf-global--spacer--sm);font-size:var(--pf-global--FontSize--sm);white-space:nowrap;text-overflow:ellipsis;overflow:hidden;width:100%}.ins-c-dashboard__number-percentage span{display:inline-block;max-width:80%;margin-right:var(--pf-global--spacer--sm);overflow:hidden;text-overflow:ellipsis}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".stackChartLegend{left:-9px;position:relative}.pf-c-chart{height:unset !important}.visually-hidden{position:absolute !important;top:-40px;font-size:10px;height:1px;width:1px;overflow:hidden;clip:rect(1px 1px 1px 1px);clip:rect(1px, 1px, 1px, 1px);white-space:nowrap}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./NumberDescription.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\nif (module.hot) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = function isEqualLocals(a, b) {\n  if (!a && b || a && !b) {\n    return false;\n  }\n\n  var p;\n\n  for (p in a) {\n    if (a[p] !== b[p]) {\n      return false;\n    }\n  }\n\n  for (p in b) {\n    if (!a[p]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n    var oldLocals = content.locals;\n\n    module.hot.accept(\n      \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./NumberDescription.scss\",\n      function () {\n        content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./NumberDescription.scss\");\n\n              content = content.__esModule ? content.default : content;\n\n              if (typeof content === 'string') {\n                content = [[module.id, content, '']];\n              }\n\n              if (!isEqualLocals(oldLocals, content.locals)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              update(content);\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./NumberData.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\nif (module.hot) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = function isEqualLocals(a, b) {\n  if (!a && b || a && !b) {\n    return false;\n  }\n\n  var p;\n\n  for (p in a) {\n    if (a[p] !== b[p]) {\n      return false;\n    }\n  }\n\n  for (p in b) {\n    if (!a[p]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n    var oldLocals = content.locals;\n\n    module.hot.accept(\n      \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./NumberData.scss\",\n      function () {\n        content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./NumberData.scss\");\n\n              content = content.__esModule ? content.default : content;\n\n              if (typeof content === 'string') {\n                content = [[module.id, content, '']];\n              }\n\n              if (!isEqualLocals(oldLocals, content.locals)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              update(content);\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\nmodule.exports = content.locals || {};","import '../../../src/PresentationalComponents/NumberData/NumberData.scss';\n\nimport { Tooltip, TooltipPosition } from '@patternfly/react-core/dist/js/components/Tooltip/Tooltip';\n\nimport { Button } from '@patternfly/react-core/dist/js/components/Button/Button';\nimport InfoIcon from '../../Icons/InfoIcon';\nimport React from 'react';\nimport propTypes from 'prop-types';\n\nexport const NumberData = ({ data, dataSize, percentageData, iconTooltipText }) => (\n    <div className=\"ins-c-dashboard__number-data--number-percentage\">\n        <span className={ `ins-c-dashboard__number-data--${dataSize}` }>\n            {data}\n        </span>\n        { percentageData &&\n            <span className=\"ins-c-dashboard__number-percentage\">\n                <span>{percentageData}</span>\n                <Tooltip\n                    position={ TooltipPosition.top }\n                    content={ <div>{ iconTooltipText }</div> }>\n                    <Button variant=\"plain\" aria-label=\"Action\" className='ins-c-info-icon'>\n                        <InfoIcon />\n                    </Button>\n                </Tooltip>\n            </span>\n        }\n    </div>\n);\n\nNumberData.propTypes = {\n    data: propTypes.any,\n    dataSize: propTypes.string,\n    linkDescription: propTypes.string,\n    percentageData: propTypes.string,\n    iconTooltipText: propTypes.node\n};\n\nexport default NumberData;\n","import React from 'react';\nimport { Button } from '@patternfly/react-core/dist/js/components/Button/Button';\nimport propTypes from 'prop-types';\nimport '../../../src/PresentationalComponents/NumberDescription/NumberDescription.scss';\nimport { NumberData } from '../../PresentationalComponents/NumberData/NumberData';\nimport CriticalIcon from '../../Icons/CriticalIcon';\n\nexport const NumberDescription = ({ data, dataSize, percentageData, link, linkDescription, layout, critical, iconTooltipText }) => (\n    <div className={ `ins-c-dashboard__number-description ${layout ? `pf-m-${layout}` : ''}` }>\n        { critical === 'true' && (\n            <CriticalIcon />\n        )}\n        <Button component=\"a\" variant=\"link\" href={ link }>\n            <NumberData data={ data } dataSize={ dataSize } percentageData={ percentageData } iconTooltipText={ iconTooltipText }/>\n            { linkDescription }\n        </Button>\n    </div>\n);\n\nNumberDescription.propTypes = {\n    data: propTypes.any,\n    dataSize: propTypes.string,\n    percentageData: propTypes.string,\n    link: propTypes.any,\n    linkDescription: propTypes.string,\n    layout: propTypes.string,\n    critical: propTypes.string,\n    iconTooltipText: propTypes.node\n};\n\nexport default NumberDescription;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./_StackChartTemplate.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\nif (module.hot) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = function isEqualLocals(a, b) {\n  if (!a && b || a && !b) {\n    return false;\n  }\n\n  var p;\n\n  for (p in a) {\n    if (a[p] !== b[p]) {\n      return false;\n    }\n  }\n\n  for (p in b) {\n    if (!a[p]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n    var oldLocals = content.locals;\n\n    module.hot.accept(\n      \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./_StackChartTemplate.scss\",\n      function () {\n        content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./_StackChartTemplate.scss\");\n\n              content = content.__esModule ? content.default : content;\n\n              if (typeof content === 'string') {\n                content = [[module.id, content, '']];\n              }\n\n              if (!isEqualLocals(oldLocals, content.locals)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              update(content);\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\nmodule.exports = content.locals || {};","// For common helpers used throughout app\n\nexport const capitalize = (string) => string[0].toUpperCase() + string.substring(1);\n","/* eslint-disable camelcase */\nimport './_StackChartTemplate.scss';\n\nimport { Chart, ChartAxis, ChartBar, ChartLabel, ChartLegend, ChartStack, ChartTooltip } from '@patternfly/react-charts';\nimport {\n    c_button_m_control_active_after_BorderBottomColor,\n    global_palette_gold_200,\n    global_palette_gold_400,\n    global_palette_orange_300,\n    global_palette_red_200,\n    global_primary_color_200\n} from '@patternfly/react-tokens';\n\nimport React from 'react';\nimport { capitalize } from '../../Utilities/Common';\nimport propTypes from 'prop-types';\n\nexport const StackChart = ({ ...props }) => {\n\n    const colorScale = [\n        global_palette_red_200.value,\n        global_palette_orange_300.value,\n        global_palette_gold_400.value,\n        global_palette_gold_200.value\n    ];\n    const barWidth = 25;\n    const chartLegendFontSize = 12;\n    const legendData = props.data.map(item => ({ name: `${item.y} ${capitalize(item.name)}`, symbol: { type: null } }));\n    const stackChartPadding = { bottom: 0, left: 0, right: 0, top: 0 };\n    const rawData = props.data.length && props.data.filter(item => item.y > 0).map(el => el.y);\n    const dataMin = rawData.length && rawData.reduce((acc, curr) => Math.min(acc, curr));\n\n    // eslint-disable-next-line react/prop-types\n    const LegendLabel = ({ index, ...rest }) =>\n        <a href={ props.legendClick[index] } className=\"pf-c-button pf-m-link pf-m-inline\"><ChartLabel { ...rest } /></a>;\n\n    return <React.Fragment>\n        <Chart\n            ariaDesc={ props.ariaDesc }\n            ariaTitle={ props.ariaTitle }\n            padding={ stackChartPadding }\n            width={ props.width }\n            height={ props.height }\n            maxWidth={ props.maxWidth }>\n            <ChartAxis axisComponent={ <React.Fragment /> } />\n            <ChartStack horizontal\n                colorScale={ colorScale }>\n                {props.data.map(item => <ChartBar key={ item }\n                    barWidth={ barWidth } labelComponent={ <ChartTooltip\n                        style={ { fontSize: '12px', padding: '10' } }\n                        dx={ dataMin ? (-(item.y / dataMin) * 5) : 0 } orientation='top' /> }\n                    data={ [{ name: item.name, y: item.y, x: 1, label: ({ datum }) => `${capitalize(datum.name)}: ${datum.y}` }] }\n                />)}\n            </ChartStack>\n        </Chart>\n        <span className='stackChartLegend' aria-label=\"Chart legend\">\n            <table tabIndex=\"0\" className=\"visually-hidden\" aria-label={ props.ariaTitle + ` data` }>\n                {props.data.map((d, index) => {\n                    return [\n                        <tr key={ index }>\n                            <td>{d.y}</td>\n                            <td>{d.name}</td>\n                        </tr>\n                    ];\n                })}\n            </table>\n            <ChartLegend\n                data={ legendData }\n                responsive={ false }\n                height={ props.legendHeight }\n                width={ props.legendWidth }\n                fontSize={ chartLegendFontSize }\n                className='pf-m-redhat-font'\n                labelComponent={ <LegendLabel /> }\n                orientation='horizontal'\n                gutter={ 0 }\n                style={ {\n                    labels: {\n                        fill: c_button_m_control_active_after_BorderBottomColor.value\n                    }\n                } }\n                events={ [{\n                    target: 'labels',\n                    eventHandlers: {\n                        onMouseOver: () => {\n                            return [{\n                                mutation: (props) => {\n                                    return {\n                                        style: Object.assign({}, props.style, { fill: global_primary_color_200.value, textDecoration: 'underline' })\n                                    };\n                                }\n                            }];\n                        },\n                        onMouseOut: () => {\n                            return [{\n                                mutation: () => {\n                                    return null;\n                                }\n                            }];\n                        },\n                        onClick: () => {\n                            return [{\n                                mutation: (props) => {\n                                    return {\n                                        style: Object.assign({}, props.style, { fill: global_primary_color_200.value, textDecoration: 'underline' })\n                                    };\n                                }\n                            }];\n                        }\n                    }\n                }] }\n                colorScale={ colorScale } />\n        </span>\n    </React.Fragment>;\n};\n\nStackChart.propTypes = {\n    maxWidth: propTypes.number,\n    ariaDesc: propTypes.string,\n    ariaTitle: propTypes.string,\n    data: propTypes.array,\n    height: propTypes.number,\n    width: propTypes.number,\n    legendHeight: propTypes.number,\n    legendWidth: propTypes.number,\n    legendClick: propTypes.any,\n    style: propTypes.any\n};\n\nexport default StackChart;\n"],"sourceRoot":""}