(self.webpackChunkinsights_dashboard=self.webpackChunkinsights_dashboard||[]).push([[5817,5467,9477],{48926:e=>{function t(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(a,o){var i=e.apply(n,r);function s(e){t(i,a,o,s,c,"next",e)}function c(e){t(i,a,o,s,c,"throw",e)}s(void 0)}))}},e.exports.default=e.exports,e.exports.__esModule=!0},31876:(e,t,n)=>{"use strict";var r=n(95318);t.T=function(e,t){var n=(0,s.useState)({isLoading:!0}),r=(0,i.default)(n,2),l=r[0],u=r[1];return(0,s.useEffect)((function(){u({isLoading:!0}),(0,o.default)(a.default.mark((function n(){var r,o,i;return a.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,c.getRBAC)(e);case 2:r=n.sent,o=r.isOrgAdmin,i=r.permissions,u({isLoading:!1,isOrgAdmin:o,permissions:i,hasAccess:(0,c.doesHavePermissions)(i,t)});case 6:case"end":return n.stop()}}),n)})))()}),[e]),l};var a=r(n(87757)),o=r(n(48926)),i=r(n(63038)),s=n(93264),c=n(64862)},64862:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.default,doesHavePermissions:()=>l,getRBAC:()=>s});var r={};n.r(r),n.d(r,{C:()=>l,_:()=>s});var a=n(15861),o=n(87757),i=n.n(o);function s(){return c.apply(this,arguments)}function c(){return c=(0,a.Z)(i().mark((function e(){var t,n,r,a,o,s,c,l,u=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=u.length>0&&void 0!==u[0]?u[0]:"",c=window.insights,e.next=4,null==c||null===(t=c.chrome)||void 0===t||null===(n=t.auth)||void 0===n?void 0:n.getUser();case 4:return l=e.sent,e.t0=(null==l||null===(r=l.identity)||void 0===r||null===(a=r.user)||void 0===a?void 0:a.is_org_admin)||!1,e.next=8,null==c||null===(o=c.chrome)||void 0===o?void 0:o.getUserPermissions(s);case 8:if(e.t1=e.sent,e.t1){e.next=11;break}e.t1=null;case 11:return e.t2=e.t1,e.abrupt("return",{isOrgAdmin:e.t0,permissions:e.t2});case 13:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}function l(e,t){return!!e&&e.some((function(e){return t.includes((null==e?void 0:e.permission)||e)}))}},85333:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(93264),a=n.n(r),o=n(14938),i=n(52017),s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},s.apply(this,arguments)},c=function(){return a().createElement(a().Fragment,null,"Contact your organization administrator(s) for more information or visit ",a().createElement("a",{href:"./settings/my-user-access"},"My User Access"),"  to learn more about your permissions.")};const l=function(e){var t=e.prevPageButtonText,n=void 0===t?"Return to previous page":t,r=e.toLandingPageText,l=void 0===r?"Go to landing page":r,u=e.title,m=e.actions,v=void 0===m?null:m,y=e.serviceName,f=e.icon,d=void 0===f?i.LockIcon:f,p=e.description,g=void 0===p?a().createElement(c,null):p,h=e.showReturnButton,S=void 0===h||h,E=e.className,I=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["prevPageButtonText","toLandingPageText","title","actions","serviceName","icon","description","showReturnButton","className"]),b=u||"You do not have access to ".concat(y);return a().createElement(o.EmptyState,s({variant:o.EmptyStateVariant.full,className:"ins-c-not-authorized ".concat(E||"")},I),a().createElement(o.EmptyStateIcon,{icon:d}),a().createElement(o.Title,{headingLevel:"h5",size:"lg"},b),a().createElement(o.EmptyStateBody,null,g),v,S&&(document.referrer?a().createElement(o.Button,{variant:"primary",onClick:function(){return history.back()}},n):a().createElement(o.Button,{variant:"primary",component:"a",href:"."},l)))}},10984:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>D});var r=n(4942),a=n(57149),o=n(28191),i=n(92298),s=n(93264),c=n.n(s),l=n(98756),u=n(47173),m=n(37486),v=n(90098),y=n(85333),f=n(52564),d=n(75824),p=n(91727),g=n(45697),h=n.n(g),S=function(e){var t=e.data,n=e.dataSize,r=e.percentageData,a=e.iconTooltipText;return c().createElement("div",null,c().createElement("span",{className:"insd-c-dashboard__number-data--".concat(n)},t),r&&c().createElement("span",{className:"insd-c-dashboard__number-percentage"},c().createElement("span",null,r),c().createElement(d.u,{key:"".concat(a),position:d.D.top,content:c().createElement("div",null,a)},c().createElement(u.zx,{variant:"plain","aria-label":"Action",className:"insd-c-info-icon"},c().createElement(p.Z,null)))))};S.propTypes={data:h().any,dataSize:h().string,linkDescription:h().string,percentageData:h().string,iconTooltipText:h().node};var E=n(89319),I=function(e){var t=e.data,n=e.dataSize,r=e.link,a=e.linkDescription,s=e.layout,l=e.critical,m=e.iconTooltipText,v=(0,E.s)();return c().createElement("div",{className:"".concat(s?"pf-m-".concat(s):"")},"true"===l&&c().createElement(f.Z,null),c().createElement(o.k,{direction:{default:"column"},spaceItems:{default:"spaceItemsXs"}},c().createElement(i.B,null,c().createElement(S,{data:t,dataSize:n,iconTooltipText:m})),c().createElement(i.B,null,c().createElement(u.zx,{component:"a",onClick:function(e){return v(e,r)},isInline:!0,variant:"link",href:r},a))))};I.propTypes={data:h().any,dataSize:h().string,percentageData:h().string,link:h().any,linkDescription:h().string,layout:h().string,critical:h().string,iconTooltipText:h().node,flexDirection:h().object};var b=n(59303),k=n(28216),T=n(30893),w=n(86896),O=n(31876);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=function(e){var t=e.fetchInventory,n=e.inventoryFetchStatus,r=e.inventorySummary,a=e.fetchInventoryStale,f=e.inventoryStaleFetchStatus,d=e.inventoryStaleSummary,p=e.fetchInventoryWarning,g=e.inventoryWarningFetchStatus,h=e.inventoryWarningSummary,S=e.fetchInventoryTotal,k=e.inventoryTotalFetchStatus,x=(e.inventoryTotalSummary,e.selectedTags),P=e.workloads,D=e.SID,F=(0,O.T)("inventory",["inventory:*:*","inventory:*:read","inventory:hosts:*","inventory:hosts:read"]).hasAccess;(0,s.useEffect)((function(){var e=j(j({},(0,l.Rm)(P,D)),(null==x?void 0:x.length)>0&&{tags:x});S(e),t(e),a(e),p(e)}),[S,t,a,p,x,P,D]);var z=(0,w.Z)(),B=(0,E.s)();return c().createElement(c().Fragment,null,!1===F?c().createElement(y.Z,{showReturnButton:!1,serviceName:"Inventory",icon:function(){return""},variant:"xs",description:c().createElement("div",null,z.formatMessage(T.Z.systemInventoryNoAccess))}):c().createElement(o.k,{spaceItems:{md:"spaceItemsXl"},alignItems:{md:"alignItemsCenter"},direction:{default:"column",md:"row"}},c().createElement(o.k,{spaceItems:{default:"spaceItemsXl"}},"fulfilled"===n&&"fulfilled"===k&&c().createElement(I,{data:r.total.toLocaleString()||0,dataSize:"lg",linkDescription:z.formatMessage(T.Z.systemInventoryDescription,{count:r.total||0}),link:"./insights/inventory/?source=puptoo"})),c().createElement(o.k,{spaceItems:{default:"spaceItemsXl"},alignItems:{md:"alignItemsCenter"},flex:{default:"flex_1"},direction:{default:"column",md:"row"}},c().createElement(o.k,{direction:{default:"column"},spaceItems:{default:"spaceItemsNone"}},c().createElement(i.B,null,"fulfilled"===f&&c().createElement(u.zx,{component:"a",variant:"link",onClick:function(e){return B(e,"./insights/inventory/?status=stale&source=puptoo")},href:"./insights/inventory/?status=stale&source=puptoo",isInline:!0},c().createElement(v.w,{message:z.formatMessage(T.Z.systemInventoryStale,{count:d.total||0}),state:"warning",systemInventory:!0}))),c().createElement(i.B,null,"fulfilled"===g&&c().createElement(u.zx,{component:"a",variant:"link",onClick:function(e){return B(e,"./insights/inventory/?status=stale_warning&source=puptoo")},href:"./insights/inventory/?status=stale_warning&source=puptoo",isInline:!0},c().createElement(v.w,{message:z.formatMessage(T.Z.systemInventoryStaleWarning,{count:h.total||0}),state:"critical",systemInventory:!0}))),"rejected"===k&&c().createElement(m.Z,{appName:"Inventory",isSmall:!0})),c().createElement(i.B,{align:{md:"alignRight"}},c().createElement(u.zx,{className:"pf-u-mr-sm pf-u-font-size-md",component:"a",variant:"secondary",isSmall:!0,onClick:function(e){return B(e,"settings/integrations")},href:"settings/integrations"},z.formatMessage(T.Z.configureIntegrations)),c().createElement(u.zx,{component:"a",variant:"primary",onClick:function(e){return B(e,"".concat(b.Pu,"/registration"))},href:"".concat(b.Pu,"/registration")},z.formatMessage(T.Z.systemInventoryCTA))))))};P.propTypes={fetchInventory:h().func,inventorySummary:h().object,inventoryFetchStatus:h().string,fetchInventoryStale:h().func,inventoryStaleSummary:h().object,inventoryStaleFetchStatus:h().string,fetchInventoryWarning:h().func,inventoryWarningSummary:h().object,inventoryWarningFetchStatus:h().string,fetchInventoryTotal:h().func,inventoryTotalSummary:h().object,inventoryTotalFetchStatus:h().string,intl:h().any,selectedTags:h().arrayOf(h().string),workloads:l.ib,SID:h().arrayOf(h().string)};const D=(0,k.$j)((function(e){var t=e.DashboardStore;return{inventorySummary:t.inventorySummary,inventoryFetchStatus:t.inventoryFetchStatus,inventoryStaleSummary:t.inventoryStaleSummary,inventoryStaleFetchStatus:t.inventoryStaleFetchStatus,inventoryWarningSummary:t.inventoryWarningSummary,inventoryWarningFetchStatus:t.inventoryWarningFetchStatus,inventoryTotalSummary:t.inventoryTotalSummary,inventoryTotalFetchStatus:t.inventoryTotalFetchStatus,selectedTags:t.selectedTags,workloads:t.workloads,SID:t.SID}}),(function(e){return{fetchInventory:function(t){return e(a.r7(t))},fetchInventoryStale:function(t){return e(a.n(t))},fetchInventoryWarning:function(t){return e(a.Qo(t))},fetchInventoryTotal:function(t){return e(a.nB(t))}}}))(P)},45467:()=>{}}]);
//# sourceMappingURL=../sourcemaps/5817.66d292764c3201d831580a70d36676b8.js.map