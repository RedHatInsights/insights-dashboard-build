{"version":3,"sources":["webpack:///./src/SmartComponents/Remediations/RemediationsCard.scss?1396","webpack:///./src/SmartComponents/Remediations/RemediationsEmptyState.scss?c07e","webpack:///./src/SmartComponents/Remediations/RunStatus.scss?961d","webpack:///./src/PresentationalComponents/TimeStamp/TimeStamp.scss?a3d8","webpack:///./src/SmartComponents/Remediations/RemediationsEmptyState.js","webpack:///./src/Icons/QuestionIcon.js","webpack:///./src/PresentationalComponents/TimeStamp/TimeStamp.js","webpack:///./src/SmartComponents/Remediations/RunStatus.js","webpack:///./src/SmartComponents/Remediations/RemediationsCard.js","webpack:///./src/SmartComponents/Remediations/RemediationsCard.scss","webpack:///./src/SmartComponents/Remediations/RemediationsEmptyState.scss","webpack:///./src/SmartComponents/Remediations/RunStatus.scss","webpack:///./src/PresentationalComponents/TimeStamp/TimeStamp.scss"],"names":["options","update","locals","module","hot","invalidate","oldLocals","accept","a","b","isNamedExport","p","isEqualLocals","undefined","dispose","RemediationsEmptyState","intl","useIntl","EmptyState","variant","EmptyStateVariant","small","Title","headingLevel","size","formatMessage","messages","remediationsNoDataTitle","EmptyStateBody","remediationsNoDataBody","propTypes","PropTypes","any","QuestionIcon","className","TimeStamp","timestamp","string","normalizeStatus","status","running","pending","acked","failure","canceled","success","statusIconClass","RunStatus","id","name","index","useState","playbookRun","setPlaybookRun","hasData","setHasData","loaded","setLoaded","isCriticalError","setIsCriticalError","useEffect","API","get","REMEDIATIONS_PLAYBOOK_RUNS_FETCH_URL","response","data","length","console","error","fetchPlaybookRun","Fragment","aria-label","remediationsPlaybookStatus","remediationsPlaybookNoActivity","remediationsPlaybookFailure","Tooltip","content","Button","component","isInline","href","substring","type","date","created_at","RemediationsCard","fetchRemediations","remediationsFetchStatus","remediations","TemplateCard","appName","title","Array","isArray","map","element","key","meta","total","count","remediationsTotal","FailState","func","object","routerParams","connect","state","ownProps","DashboardStore","dispatch","AppActions","exports","___CSS_LOADER_API_IMPORT___","push","i"],"mappings":"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","file":"js/16.54e35f7a8ea4c324f779.js","sourcesContent":["import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./RemediationsCard.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\nif (module.hot) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = function isEqualLocals(a, b, isNamedExport) {\n  if (!a && b || a && !b) {\n    return false;\n  }\n\n  var p;\n\n  for (p in a) {\n    if (isNamedExport && p === 'default') {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n\n    if (a[p] !== b[p]) {\n      return false;\n    }\n  }\n\n  for (p in b) {\n    if (isNamedExport && p === 'default') {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n\n    if (!a[p]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n    var oldLocals = content.locals;\n\n    module.hot.accept(\n      \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./RemediationsCard.scss\",\n      function () {\n        if (!isEqualLocals(oldLocals, content.locals, undefined)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              update(content);\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\nexport default content.locals || {};","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./RemediationsEmptyState.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\nif (module.hot) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = function isEqualLocals(a, b, isNamedExport) {\n  if (!a && b || a && !b) {\n    return false;\n  }\n\n  var p;\n\n  for (p in a) {\n    if (isNamedExport && p === 'default') {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n\n    if (a[p] !== b[p]) {\n      return false;\n    }\n  }\n\n  for (p in b) {\n    if (isNamedExport && p === 'default') {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n\n    if (!a[p]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n    var oldLocals = content.locals;\n\n    module.hot.accept(\n      \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./RemediationsEmptyState.scss\",\n      function () {\n        if (!isEqualLocals(oldLocals, content.locals, undefined)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              update(content);\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\nexport default content.locals || {};","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./RunStatus.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\nif (module.hot) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = function isEqualLocals(a, b, isNamedExport) {\n  if (!a && b || a && !b) {\n    return false;\n  }\n\n  var p;\n\n  for (p in a) {\n    if (isNamedExport && p === 'default') {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n\n    if (a[p] !== b[p]) {\n      return false;\n    }\n  }\n\n  for (p in b) {\n    if (isNamedExport && p === 'default') {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n\n    if (!a[p]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n    var oldLocals = content.locals;\n\n    module.hot.accept(\n      \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./RunStatus.scss\",\n      function () {\n        if (!isEqualLocals(oldLocals, content.locals, undefined)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              update(content);\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\nexport default content.locals || {};","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./TimeStamp.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\nif (module.hot) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = function isEqualLocals(a, b, isNamedExport) {\n  if (!a && b || a && !b) {\n    return false;\n  }\n\n  var p;\n\n  for (p in a) {\n    if (isNamedExport && p === 'default') {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n\n    if (a[p] !== b[p]) {\n      return false;\n    }\n  }\n\n  for (p in b) {\n    if (isNamedExport && p === 'default') {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n\n    if (!a[p]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n    var oldLocals = content.locals;\n\n    module.hot.accept(\n      \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./TimeStamp.scss\",\n      function () {\n        if (!isEqualLocals(oldLocals, content.locals, undefined)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              update(content);\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\nexport default content.locals || {};","import React from 'react';\n\nimport { EmptyState, EmptyStateVariant } from '@patternfly/react-core/dist/js/components/EmptyState/EmptyState';\nimport { EmptyStateBody } from '@patternfly/react-core/dist/js/components/EmptyState/EmptyStateBody';\nimport { Title } from '@patternfly/react-core/dist/js/components/Title/Title';\n\nimport PropTypes from 'prop-types';\n\nimport { useIntl } from 'react-intl';\nimport messages from '../../Messages';\n\nimport './RemediationsEmptyState.scss';\n\nexport const RemediationsEmptyState = () => {\n\n    const intl = useIntl();\n\n    return (\n        <EmptyState variant={ EmptyStateVariant.small }>\n            <Title headingLevel=\"h6\" size=\"md\">\n                { intl.formatMessage(messages.remediationsNoDataTitle)}\n            </Title>\n            <EmptyStateBody>\n                { intl.formatMessage(messages.remediationsNoDataBody)}\n            </EmptyStateBody>\n        </EmptyState>\n    );\n};\n\nRemediationsEmptyState.propTypes = {\n    intl: PropTypes.any\n};\n","import React from 'react';\nimport QuestionCircleIcon from '@patternfly/react-icons/dist/js/icons/question-circle-icon';\nimport './Icons.scss';\n\nconst QuestionIcon = () => <QuestionCircleIcon className=\"ins-c-dashboard__icon-question\"/>;\n\nexport default QuestionIcon;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport './TimeStamp.scss';\n\nexport const TimeStamp = ({ timestamp }) => (\n    <p className=\"ins-c-dashboard__time-stamp\">\n        { timestamp }\n    </p>\n);\n\nTimeStamp.propTypes = {\n    timestamp: propTypes.string\n};\n\nexport default TimeStamp;\n","import './RunStatus.scss';\n\nimport { DateFormat, Skeleton } from '@redhat-cloud-services/frontend-components';\nimport React, { useEffect, useState } from 'react';\n\nimport API from '../../Utilities/Api';\nimport { Button } from '@patternfly/react-core/dist/js/components/Button/Button';\nimport CheckCircleIcon from '@patternfly/react-icons/dist/js/icons/check-circle-icon';\nimport InProgressIcon from '@patternfly/react-icons/dist/js/icons/in-progress-icon';\nimport PropTypes from 'prop-types';\nimport QuestionIcon from './../../Icons/QuestionIcon';\nimport { REMEDIATIONS_PLAYBOOK_RUNS_FETCH_URL } from '../../AppConstants';\nimport TimeStamp from './../../PresentationalComponents/TimeStamp/TimeStamp';\nimport TimesCircleIcon from '@patternfly/react-icons/dist/js/icons/times-circle-icon';\nimport { Tooltip } from '@patternfly/react-core/dist/esm/components/Tooltip/Tooltip';\nimport messages from '../../Messages';\nimport { useIntl } from 'react-intl';\n\n// Normalize the status so we don't show all API statuses\nconst normalizeStatus = (status) => ({\n    running: 'running',\n    pending: 'running',\n    acked: 'running',\n    failure: 'failure',\n    canceled: 'failure',\n    success: 'success'\n})[status];\n\n// Render the correct icon based on normalized status\nconst statusIconClass = 'ins-c-remediation__status-icon';\nconst renderStatusIcon = (status) => ({\n    running: <InProgressIcon\n        className={ `${statusIconClass} ${statusIconClass}--running` }\n        aria-label=\"Remediation in progress\" />,\n    success: <CheckCircleIcon\n        className={ `${statusIconClass} ${statusIconClass}--passed` }\n        aria-label=\"Remediation passed\" />,\n    failure: <TimesCircleIcon\n        className={ `${statusIconClass} ${statusIconClass}--failed` }\n        aria-label=\"Remediation failed\" />\n})[status];\n\nconst RunStatus = ({ id, name, index }) => {\n    const [playbookRun, setPlaybookRun] = useState({});\n    const [hasData, setHasData] = useState();\n    const [loaded, setLoaded] = useState();\n    const [isCriticalError, setIsCriticalError] = useState(false);\n\n    const intl = useIntl();\n\n    useEffect(() => {\n        const fetchPlaybookRun = async () => {\n            try {\n                const response = await API.get(`${REMEDIATIONS_PLAYBOOK_RUNS_FETCH_URL}${id}/playbook_runs?limit=1&offset=0&sort=-updated_at`);\n                setPlaybookRun(response.data.data);\n                setLoaded(true);\n                setHasData(response.data.data.length);\n            } catch (error) {\n                setLoaded(false);\n                setHasData(false);\n                setIsCriticalError(true);\n                // eslint-disable-next-line no-console\n                console.error('Error contacting remediations API');\n            }\n        };\n\n        fetchPlaybookRun();\n    }, [id]);\n\n    return <div className=\"ins-c-remediations-container\">\n        <div className=\"ins-c-remediation__status\">\n            { loaded === undefined && <Skeleton size='md' /> }\n            { (loaded && hasData) ?\n                <React.Fragment>\n                    {renderStatusIcon(normalizeStatus(playbookRun[0].status))}\n                    <p className='ins-c-remediation__status-text'>\n                        { intl.formatMessage(messages.remediationsPlaybookStatus, { status: normalizeStatus(playbookRun[0].status) }) }\n                    </p>\n                </React.Fragment>\n                : null\n            }\n            { loaded && !hasData &&\n                <React.Fragment>\n                    <QuestionIcon />\n                    <p>{intl.formatMessage(messages.remediationsPlaybookNoActivity)}</p>\n                </React.Fragment>\n            }\n            { isCriticalError &&\n                <React.Fragment>\n                    <span>{intl.formatMessage(messages.remediationsPlaybookFailure)}</span> {/* TODO Later for absolute failure */}\n                </React.Fragment>\n            }\n        </div>\n        <div className=\"ins-c-remediation__timestamp\">\n            {name.length > 20 ? <Tooltip content={ name }>\n                <Button id={ `remediation-link-${index}` } component=\"a\" variant=\"link\" isInline href={ `./insights/remediations/${id}` }>\n                    {`${name.substring(0, 20)}...`} {/* do not intl this */}\n                </Button>\n            </Tooltip> :\n                <Button id={ `remediation-link-${index}` } component=\"a\" variant=\"link\" isInline href={ `./insights/remediations/${id}` }>\n                    {name} {/* do not intl this */}\n                </Button>}\n            { loaded === undefined && <Skeleton size='md' /> }\n            { loaded && hasData\n                ? <TimeStamp timestamp={ <DateFormat type='exact' date={ playbookRun[0].created_at } /> } />\n                : null\n            }\n        </div>\n    </div>;\n};\n\nRunStatus.propTypes = {\n    id: PropTypes.string,\n    name: PropTypes.string,\n    intl: PropTypes.any,\n    index: PropTypes.any\n};\n\nexport default RunStatus;\n","import './RemediationsCard.scss';\n\nimport * as AppActions from '../../AppActions';\n\nimport React, { useEffect } from 'react';\nimport {\n    TemplateCard,\n    TemplateCardBody,\n    TemplateCardHeader\n} from '../../PresentationalComponents/Template/TemplateCard';\n\nimport { Button } from '@patternfly/react-core/dist/js/components/Button/Button';\nimport FailState from '../../PresentationalComponents/FailState/FailState';\nimport PropTypes from 'prop-types';\nimport { RemediationsEmptyState } from './RemediationsEmptyState';\nimport RunStatus from './RunStatus';\nimport { connect } from 'react-redux';\nimport messages from '../../Messages';\nimport routerParams from '@redhat-cloud-services/frontend-components-utilities/files/RouterParams';\nimport { useIntl } from 'react-intl';\n\n/**\n * Remediations card.\n */\nconst RemediationsCard = ({\n    fetchRemediations, remediationsFetchStatus, remediations\n}) => {\n\n    const intl = useIntl();\n\n    useEffect(() => {\n        fetchRemediations();\n    }, [fetchRemediations]);\n\n    return (\n        <TemplateCard appName='Remediations'>\n            <TemplateCardHeader title='Remediations' />\n            <TemplateCardBody>\n                {remediationsFetchStatus === 'fulfilled' &&\n                    (Array.isArray(remediations.data) &&\n                        (remediations.data.length > 0 ?\n                            <React.Fragment>\n                                {remediations.data.map((element, index) =>\n                                    <RunStatus id={ element.id } name={ element.name } key={ element.id } index={ index + 1 } />\n                                )}\n                                {remediations.meta.total > remediations.meta.count &&\n                                    <div className='ins-c-remediations-container'>\n                                        <div className='ins-c-remediation__status'>\n                                        </div>\n                                        <div className='ins-c-remediation__timestamp'>\n                                            <Button\n                                                id='remediations-link-more'\n                                                component='a'\n                                                href='./insights/remediations'\n                                                variant='link'\n                                                isInline\n                                            >\n                                                {intl.formatMessage(messages.remediationsTotal,\n                                                    { total: remediations.meta.total - remediations.meta.count }\n                                                )}\n                                            </Button>\n                                        </div>\n                                    </div>\n                                }\n                            </React.Fragment>\n                            : <RemediationsEmptyState />)\n                    )\n                }\n                {remediationsFetchStatus === 'rejected' &&\n                    <FailState appName='Remediations' />\n                }\n            </TemplateCardBody>\n        </TemplateCard>\n    );\n};\n\nRemediationsCard.propTypes = {\n    fetchRemediations: PropTypes.func,\n    remediations: PropTypes.object,\n    remediationsFetchStatus: PropTypes.string,\n    intl: PropTypes.any\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n    remediations: state.DashboardStore.remediations,\n    remediationsFetchStatus: state.DashboardStore.remediationsFetchStatus,\n    ...ownProps\n});\n\nconst mapDispatchToProps = dispatch => ({\n    fetchRemediations: () => dispatch(AppActions.fetchRemediations())\n});\n\nexport default routerParams(connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(RemediationsCard));\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".ins-c-remediations-container{display:flex;flex-direction:row}.ins-c-remediations-container:not(:last-child){padding-bottom:var(--pf-global--spacer--md)}.ins-c-remediation__status{display:flex;flex-direction:row;padding-top:2px;padding-right:16px;min-width:110px}.ins-c-remediation__status>p{margin-left:var(--pf-global--spacer--sm);font-size:var(--pf-global--FontSize--sm)}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".ins-c-dashboard__card--Remediations .pf-c-empty-state{margin-left:auto;margin-right:auto}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".ins-c-remediation__status-icon--passed{color:var(--pf-global--success-color--200)}.ins-c-remediation__status-icon--failed{color:var(--pf-global--danger-color--100)}.ins-c-remediation__status-icon--running{color:var(--pf-global--default-color--300)}.ins-c-remediation__status-text{text-transform:capitalize}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".ins-c-dashboard__time-stamp{color:var(--pf-global--disabled-color--100);font-size:var(--pf-global--FontSize--sm)}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n"],"sourceRoot":""}