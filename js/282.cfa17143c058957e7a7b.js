(self.webpackChunkinsights_dashboard=self.webpackChunkinsights_dashboard||[]).push([[282],{48926:e=>{function t(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(a,o){var i=e.apply(n,r);function s(e){t(i,a,o,s,c,"next",e)}function c(e){t(i,a,o,s,c,"throw",e)}s(void 0)}))}},e.exports.default=e.exports,e.exports.__esModule=!0},31876:(e,t,n)=>{"use strict";var r=n(95318);t.T=function(e,t){var n=(0,s.useState)({isLoading:!0}),r=(0,i.default)(n,2),l=r[0],u=r[1];return(0,s.useEffect)((function(){u({isLoading:!0}),(0,o.default)(a.default.mark((function n(){var r,o,i;return a.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,c.getRBAC)(e);case 2:r=n.sent,o=r.isOrgAdmin,i=r.permissions,u({isLoading:!1,isOrgAdmin:o,permissions:i,hasAccess:(0,c.doesHavePermissions)(i,t)});case 6:case"end":return n.stop()}}),n)})))()}),[e]),l};var a=r(n(87757)),o=r(n(48926)),i=r(n(63038)),s=n(93264),c=n(64862)},64862:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.default,doesHavePermissions:()=>l,getRBAC:()=>s});var r={};n.r(r),n.d(r,{C:()=>l,_:()=>s});var a=n(15861),o=n(87757),i=n.n(o);function s(){return c.apply(this,arguments)}function c(){return c=(0,a.Z)(i().mark((function e(){var t,n,r,a,o,s,c,l,u=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=u.length>0&&void 0!==u[0]?u[0]:"",c=window.insights,e.next=4,null==c||null===(t=c.chrome)||void 0===t||null===(n=t.auth)||void 0===n?void 0:n.getUser();case 4:return l=e.sent,e.t0=(null==l||null===(r=l.identity)||void 0===r||null===(a=r.user)||void 0===a?void 0:a.is_org_admin)||!1,e.next=8,null==c||null===(o=c.chrome)||void 0===o?void 0:o.getUserPermissions(s);case 8:if(e.t1=e.sent,e.t1){e.next=11;break}e.t1=null;case 11:return e.t2=e.t1,e.abrupt("return",{isOrgAdmin:e.t0,permissions:e.t2});case 13:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}function l(e,t){return!!e&&e.some((function(e){return t.includes((null==e?void 0:e.permission)||e)}))}},56067:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(87462),a=n(45987),o=n(93264),i=n.n(o),s=n(45697),c=n.n(s),l=n(60485),u=n(47173),m=n(9947),v=n(38424),d=n(75106);const f=(0,n(40400).IU)({name:"LockIcon",height:512,width:448,svgPath:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z",yOffset:0,xOffset:0});var y=function(){return i().createElement(i().Fragment,null,"Contact your organization administrator(s) for more information or visit ",i().createElement("a",{href:"./settings/my-user-access"},"My User Access"),"  to learn more about your permissions.")},g=function(e){var t=e.prevPageButtonText,n=e.toLandingPageText,o=e.title,s=e.actions,c=e.serviceName,f=e.icon,y=e.description,g=e.showReturnButton,p=e.className,h=(0,a.Z)(e,["prevPageButtonText","toLandingPageText","title","actions","serviceName","icon","description","showReturnButton","className"]),S=o||"You do not have access to ".concat(c);return i().createElement(m.u,(0,r.Z)({variant:m.I.full,className:"ins-c-not-authorized ".concat(p||"")},h),i().createElement(v.k,{icon:f}),i().createElement(l.D,{headingLevel:"h5",size:"lg"},S),i().createElement(d.B,null,y),s,g&&(document.referrer?i().createElement(u.zx,{variant:"primary",onClick:function(){return history.back()}},t):i().createElement(u.zx,{variant:"primary",component:"a",href:"."},n)))};g.propTypes={serviceName:function(e,t,n){if(void 0===e.title){for(var r,a=arguments.length,o=new Array(a>3?a-3:0),i=3;i<a;i++)o[i-3]=arguments[i];return(r=c().node).isRequired.apply(r,[e,t,n].concat(o))}},icon:c().func,description:c().node,showReturnButton:c().bool,className:c().string,title:c().node,actions:c().oneOfType([c().node,c().arrayOf(c().node)]),prevPageButtonText:c().node,toLandingPageText:c().node},g.defaultProps={icon:f,showReturnButton:!0,description:i().createElement(y,null),actions:null,prevPageButtonText:"Return to previous page",toLandingPageText:"Go to landing page"};const p=g},10984:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>j});var r=n(4942),a=n(57149),o=n(28191),i=n(92298),s=n(93264),c=n.n(s),l=n(98756),u=n(47173),m=n(37486),v=n(90098),d=n(56067),f=n(52564),y=n(35224),g=n(91727),p=n(45697),h=n.n(p),S=function(e){var t=e.data,n=e.dataSize,r=e.percentageData,a=e.iconTooltipText;return c().createElement("div",null,c().createElement("span",{className:"insd-c-dashboard__number-data--".concat(n)},t),r&&c().createElement("span",{className:"insd-c-dashboard__number-percentage"},c().createElement("span",null,r),c().createElement(y.u,{key:"".concat(a),position:y.D.top,content:c().createElement("div",null,a)},c().createElement(u.zx,{variant:"plain","aria-label":"Action",className:"insd-c-info-icon"},c().createElement(g.Z,null)))))};S.propTypes={data:h().any,dataSize:h().string,linkDescription:h().string,percentageData:h().string,iconTooltipText:h().node};var E=n(89319),I=function(e){var t=e.data,n=e.dataSize,r=e.link,a=e.linkDescription,s=e.layout,l=e.critical,m=e.iconTooltipText,v=(0,E.s)();return c().createElement("div",{className:"".concat(s?"pf-m-".concat(s):"")},"true"===l&&c().createElement(f.Z,null),c().createElement(o.k,{direction:{default:"column"},spaceItems:{default:"spaceItemsXs"}},c().createElement(i.B,null,c().createElement(S,{data:t,dataSize:n,iconTooltipText:m})),c().createElement(i.B,null,c().createElement(u.zx,{component:"a",onClick:function(e){return v(e,r)},isInline:!0,variant:"link",href:r},a))))};I.propTypes={data:h().any,dataSize:h().string,percentageData:h().string,link:h().any,linkDescription:h().string,layout:h().string,critical:h().string,iconTooltipText:h().node,flexDirection:h().object};var T=n(59303),k=n(28216),x=n(30893),b=n(86896),w=n(31876);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=function(e){var t=e.fetchInventory,n=e.inventoryFetchStatus,r=e.inventorySummary,a=e.fetchInventoryStale,f=e.inventoryStaleFetchStatus,y=e.inventoryStaleSummary,g=e.fetchInventoryWarning,p=e.inventoryWarningFetchStatus,h=e.inventoryWarningSummary,S=e.fetchInventoryTotal,k=e.inventoryTotalFetchStatus,O=(e.inventoryTotalSummary,e.selectedTags),D=e.workloads,j=e.SID,z=(0,w.T)("inventory",["inventory:*:*","inventory:*:read","inventory:hosts:*","inventory:hosts:read"]).hasAccess;(0,s.useEffect)((function(){var e=P(P({},(0,l.nY)(D,j)),(null==O?void 0:O.length)>0&&{tags:O});S(e),t(e),a(e),g(e)}),[S,t,a,g,O,D,j]);var B=(0,b.Z)(),F=(0,E.s)();return c().createElement(c().Fragment,null,!1===z?c().createElement(d.Z,{showReturnButton:!1,serviceName:"Inventory",icon:function(){return""},variant:"xs",description:c().createElement("div",null,B.formatMessage(x.Z.systemInventoryNoAccess))}):c().createElement(o.k,{spaceItems:{md:"spaceItemsXl"},alignItems:{md:"alignItemsCenter"},direction:{default:"column",md:"row"}},c().createElement(o.k,{spaceItems:{default:"spaceItemsXl"}},"fulfilled"===n&&"fulfilled"===k&&c().createElement(I,{data:r.total.toLocaleString()||0,dataSize:"lg",linkDescription:B.formatMessage(x.Z.systemInventoryDescription,{count:r.total||0}),link:"./insights/inventory/?status=fresh&status=stale&source=insights"})),c().createElement(o.k,{spaceItems:{default:"spaceItemsXl"},alignItems:{md:"alignItemsCenter"},flex:{default:"flex_1"},direction:{default:"column",md:"row"}},c().createElement(o.k,{direction:{default:"column"},spaceItems:{default:"spaceItemsNone"}},c().createElement(i.B,null,"fulfilled"===f&&c().createElement(u.zx,{component:"a",variant:"link",onClick:function(e){return F(e,"./insights/inventory/?status=stale")},href:"./insights/inventory/?status=stale",isInline:!0},c().createElement(v.w,{message:B.formatMessage(x.Z.systemInventoryStale,{count:y.total||0}),state:"warning",systemInventory:!0}))),c().createElement(i.B,null,"fulfilled"===p&&c().createElement(u.zx,{component:"a",variant:"link",onClick:function(e){return F(e,"./insights/inventory/?status=stale_warning")},href:"./insights/inventory/?status=stale_warning",isInline:!0},c().createElement(v.w,{message:B.formatMessage(x.Z.systemInventoryStaleWarning,{count:h.total||0}),state:"critical",systemInventory:!0}))),"rejected"===k&&c().createElement(m.Z,{appName:"Inventory",isSmall:!0})),c().createElement(i.B,{align:{md:"alignRight"}},c().createElement(u.zx,{component:"a",variant:"primary",onClick:function(e){return F(e,"".concat(T.Pu,"/registration"))},href:"".concat(T.Pu,"/registration")},B.formatMessage(x.Z.systemInventoryCTA))))))};D.propTypes={fetchInventory:h().func,inventorySummary:h().object,inventoryFetchStatus:h().string,fetchInventoryStale:h().func,inventoryStaleSummary:h().object,inventoryStaleFetchStatus:h().string,fetchInventoryWarning:h().func,inventoryWarningSummary:h().object,inventoryWarningFetchStatus:h().string,fetchInventoryTotal:h().func,inventoryTotalSummary:h().object,inventoryTotalFetchStatus:h().string,intl:h().any,selectedTags:h().arrayOf(h().string),workloads:l.ib,SID:h().arrayOf(h().string)};const j=(0,k.$j)((function(e){var t=e.DashboardStore;return{inventorySummary:t.inventorySummary,inventoryFetchStatus:t.inventoryFetchStatus,inventoryStaleSummary:t.inventoryStaleSummary,inventoryStaleFetchStatus:t.inventoryStaleFetchStatus,inventoryWarningSummary:t.inventoryWarningSummary,inventoryWarningFetchStatus:t.inventoryWarningFetchStatus,inventoryTotalSummary:t.inventoryTotalSummary,inventoryTotalFetchStatus:t.inventoryTotalFetchStatus,selectedTags:t.selectedTags,workloads:t.workloads,SID:t.SID}}),(function(e){return{fetchInventory:function(t){return e(a.r7(t))},fetchInventoryStale:function(t){return e(a.n(t))},fetchInventoryWarning:function(t){return e(a.Qo(t))},fetchInventoryTotal:function(t){return e(a.nB(t))}}}))(D)},45467:()=>{},49854:()=>{}}]);
//# sourceMappingURL=../sourcemaps/282.eea9ea22a3936d31f3468fa89530a31e.js.map