"use strict";(self.webpackChunkinsights_dashboard=self.webpackChunkinsights_dashboard||[]).push([[4400],{5964:(e,t,n)=>{n.d(t,{ZP:()=>a});const a=(0,n(40400).IU)({name:"CaretDownIcon",height:512,width:320,svgPath:"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z",yOffset:0,xOffset:0})},94400:(e,t,n)=>{n.r(t),n.d(t,{default:()=>M});var a=n(29439),r=n(57149),l=n(59303),s=n(4001),i=n(93264),c=n.n(i),o=n(86896),m=n(10358),f=n(66794),d=n(28191),u=n(92298),p=n(45697),E=n.n(p),g=n(84669),h=n(5964),_=function(e){var t=e.fetchDriftData,n=e.selectedFilter,r=(0,o.Z)(),l=(0,i.useRef)([]),m=(0,i.useState)(!1),f=(0,a.Z)(m,2),d=f[0],u=f[1];return(0,i.useEffect)((function(){l.current=(0,s.J1)(r)}),[]),c().createElement(g.Dropdown,{toggle:c().createElement(g.DropdownToggle,{onToggle:u,toggleIndicator:h.ZP},n.description),isOpen:d,dropdownItems:l.current.map((function(e,n){return c().createElement(g.DropdownItem,{key:n,ref:function(e){return l.current[n].el=e},onClick:function(){return function(e,n){t(e),u((function(e){return!e})),n.focus()}(e,l.current[n].el)}},e.description)}))})};_.propTypes={fetchDriftData:E().func,selectedFilter:E().shape({description:E().string})};var y=n(30893);const D=(0,n(40400).IU)({name:"SortUpIcon",height:512,width:320,svgPath:"M279 224H41c-21.4 0-32.1-25.9-17-41L143 64c9.4-9.4 24.6-9.4 33.9 0l119 119c15.2 15.1 4.5 41-16.9 41z",yOffset:0,xOffset:0});var C=function(){var e=(0,o.Z)();return c().createElement(g.EmptyState,null,c().createElement(g.Title,{headingLevel:"h4",size:"lg"},e.formatMessage(y.Z.driftEmptyStateTitle)),c().createElement(g.EmptyStateBody,null,e.formatMessage(y.Z.driftEmptyStateBody)),c().createElement(g.Button,{variant:"primary"},"Go to Baselines"))},v=n(28216),b=n(36873),I=n(89319),k=function(){var e,t=(0,o.Z)(),n=(0,v.I0)(),p=(0,I.s)(),E=(0,i.useState)({id:"days-7",description:t.formatMessage(y.Z.driftDropDown7days),startDate:(0,s._3)(7),endDate:(0,s._3)(0)}),h=(0,a.Z)(E,2),b=h[0],k=h[1],M=(0,v.v9)((function(e){return e.DashboardStore.driftEvents})),Z=(0,v.v9)((function(e){return e.DashboardStore.driftEventFetchStatus})),N=(0,i.useCallback)((function(e){n(r.fP({appIds:l.R9,startDate:e.startDate,endDate:e.endDate,includePayload:!0})),k(e)}),[n]);return(0,i.useEffect)((function(){N(b)}),[N,b.id]),c().createElement(m.t,{className:"insd-m-toggle-right-on-md ",appName:"Drift",title:t.formatMessage(y.Z.driftCardAppName),body:c().createElement(c().Fragment,null,"pending"===Z?c().createElement(c().Fragment,null,c().createElement(d.k,null,c().createElement(u.B,null,c().createElement(f.ME,{title:t.formatMessage(y.Z.driftCardTitle)})),c().createElement(u.B,{className:"ins-c-drift__drop_down",align:{default:"alignRight"}},c().createElement(_,{fetchDriftData:N,selectedFilter:b}))),c().createElement(g.Bullseye,null,c().createElement(g.Spinner,{className:"ins-c-drift__drift_spinner"}))):c().createElement(c().Fragment,null,c().createElement(d.k,null,c().createElement(u.B,null,c().createElement(f.ME,{title:t.formatMessage(y.Z.driftCardTitle)})),c().createElement(u.B,{className:"ins-c-drift__drop_down",align:{default:"alignRight"}},c().createElement(_,{fetchDriftData:N,selectedFilter:b}))),(null===(e=M.baselineDetail)||void 0===e?void 0:e.length)>0?c().createElement(f.jA,null,c().createElement(d.k,{direction:{default:"column"},alignItems:{default:"alignItemsCenter"}},c().createElement(u.B,null,c().createElement(d.k,{alignItems:{default:"alignItemsFlexCenter"},justifyContent:{default:"justifyContentCenter"}},c().createElement("span",{className:"pf-u-font-size-2xl pf-u-text-align-center pf-u-font-weight-normal"},M.numEvents)),c().createElement(g.TextContent,{className:"insd-c-width-limiter pf-u-text-align-center"},c().createElement("p",{className:"pf-u-font-size-sm"},t.formatMessage(y.Z.driftNumberOfEvents)))),c().createElement(g.Button,{variant:"secondary",component:"a",className:"ins-c-drift__investigate_button",onClick:function(e){return p(e,l.Ld)},href:l.Ld},t.formatMessage(y.Z.driftInventigateButtton))),c().createElement(g.Divider,null),c().createElement(g.TextContent,{className:"insd-c-width-limiter ins-c-drift__top_5"},c().createElement("p",{className:"pf-u-font-size-sm"},t.formatMessage(y.Z.driftTop5))),c().createElement(g.DataList,{className:"insd-m-no-padding insd-m-no-top-border insd-m-no-bottom-border",isCompact:!0},M.baselineDetail.slice(0,l.ds).map((function(e,n){return c().createElement(g.DataListItem,{key:n},c().createElement(g.DataListItemRow,null,c().createElement(g.DataListItemCells,{dataListCells:[c().createElement(c().Fragment,{key:n},c().createElement(g.DataListCell,{key:n,wrapModifier:g.DataListWrapModifier.truncate},c().createElement(g.Text,{component:g.TextVariants.a,href:"".concat(l.fz,"/").concat(e.baselineId),onClick:function(t){return p(t,"".concat(l.fz,"/").concat(e.baselineId))}},e.baselineName)),c().createElement(g.DataListCell,{key:n,className:"ins-c-drift__data_list_cell_system_len"},c().createElement("span",{className:"pf-u-font-weight-normal ins-c-drift__system_len"},c().createElement(D,{color:"black"}),t.formatMessage(y.Z.driftSystems,{systems:e.systems.length}))),c().createElement(g.DataListCell,{key:n,className:"ins-c-drift__data_list_cell_compare"},c().createElement(g.Tooltip,{content:c().createElement("div",null,t.formatMessage(y.Z.driftCompareTooltip))},c().createElement(g.Text,{component:g.TextVariants.a,href:(0,s.My)(e.baselineId,e.systems),className:"ins-c-drift__text_compare",onClick:function(t){return p(t,(0,s.My)(e.baselineId,e.systems))}},t.formatMessage(y.Z.driftCompare)))))]})))})))):c().createElement(C,null)))})};k.propTypes={fetchDrift:E().func,driftEvents:E().object,driftEventFetchStatus:E().string,intl:E().any};const M=(0,b.Z)(k)}}]);
//# sourceMappingURL=../sourcemaps/4400.e58df10ecf7edd8b95a35e4d80e476a5.js.map