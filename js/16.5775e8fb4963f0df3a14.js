(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{1178:function(e,t,a){"use strict";var n=a(4),i=a.n(n),r=a(875),o=a.n(r),s={insert:"head",singleton:!1},c=i()(o.a,s);if(!o.a.locals||e.hot.invalidate){var l=o.a.locals;e.hot.accept(875,function(t){r=a(875),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(l,(o=a.n(r)).a.locals,void 0)?(l=o.a.locals,c(o.a)):e.hot.invalidate()}.bind(this))}e.hot.dispose((function(){c()}));o.a.locals},1179:function(e,t,a){"use strict";var n=a(4),i=a.n(n),r=a(876),o=a.n(r),s={insert:"head",singleton:!1},c=i()(o.a,s);if(!o.a.locals||e.hot.invalidate){var l=o.a.locals;e.hot.accept(876,function(t){r=a(876),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(l,(o=a.n(r)).a.locals,void 0)?(l=o.a.locals,c(o.a)):e.hot.invalidate()}.bind(this))}e.hot.dispose((function(){c()}));o.a.locals},1180:function(e,t,a){"use strict";var n=a(4),i=a.n(n),r=a(877),o=a.n(r),s={insert:"head",singleton:!1},c=i()(o.a,s);if(!o.a.locals||e.hot.invalidate){var l=o.a.locals;e.hot.accept(877,function(t){r=a(877),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(l,(o=a.n(r)).a.locals,void 0)?(l=o.a.locals,c(o.a)):e.hot.invalidate()}.bind(this))}e.hot.dispose((function(){c()}));o.a.locals},1181:function(e,t,a){"use strict";var n=a(4),i=a.n(n),r=a(878),o=a.n(r),s={insert:"head",singleton:!1},c=i()(o.a,s);if(!o.a.locals||e.hot.invalidate){var l=o.a.locals;e.hot.accept(878,function(t){r=a(878),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(l,(o=a.n(r)).a.locals,void 0)?(l=o.a.locals,c(o.a)):e.hot.invalidate()}.bind(this))}e.hot.dispose((function(){c()}));o.a.locals},1194:function(e,t,a){"use strict";a.r(t);var n=a(793),i=a.n(n),r=(a(1178),a(305)),o=a(1),s=a.n(o),c=a(790),l=a(402),u=a(788),d=a(19),m=a.n(d),f=a(409),p=a(410),h=a(507),v=a(433),g=a(774),b=(a(1179),function(){var e=Object(v.a)();return s.a.createElement(f.EmptyState,{variant:f.EmptyStateVariant.small},s.a.createElement(h.Title,{headingLevel:"h6",size:"md"},e.formatMessage(g.a.remediationsNoDataTitle)),s.a.createElement(p.EmptyStateBody,null,e.formatMessage(g.a.remediationsNoDataBody)))});b.propTypes={intl:m.a.any};var E=a(207),y=a.n(E),_=a(255),O=a.n(_),j=a(251),x=a.n(j),S=(a(1180),a(743)),k=a(307),w=a(518),N=a.n(w),F=a(742),P=a.n(F),R=a(741),D=a.n(R),z=(a(778),function(){return s.a.createElement(D.a,{className:"ins-c-dashboard__icon-question"})}),T=a(6),B=(a(1181),function(e){var t=e.timestamp;return s.a.createElement("p",{className:"ins-c-dashboard__time-stamp"},t)});B.propTypes={timestamp:m.a.string};var M=B,A=a(519),I=a.n(A),J=a(78),q=function(e){return{running:"running",pending:"running",acked:"running",failure:"failure",canceled:"failure",success:"success"}[e]},L="ins-c-remediation__status-icon",V=function(e){var t,a=e.id,n=e.name,i=e.index,r=Object(o.useState)({}),c=x()(r,2),u=c[0],d=c[1],m=Object(o.useState)(),f=x()(m,2),p=f[0],h=f[1],b=Object(o.useState)(),E=x()(b,2),_=E[0],j=E[1],w=Object(o.useState)(!1),F=x()(w,2),R=F[0],D=F[1],B=Object(v.a)();return Object(o.useEffect)((function(){(function(){var e=O()(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.get("".concat(T.B).concat(a,"/playbook_runs?limit=1&offset=0&sort=-updated_at"));case 3:t=e.sent,d(t.data.data),j(!0),h(t.data.data.length),e.next=15;break;case 9:e.prev=9,e.t0=e.catch(0),j(!1),h(!1),D(!0),console.error("Error contacting remediations API");case 15:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[a]),s.a.createElement("div",{className:"ins-c-remediations-container"},s.a.createElement("div",{className:"ins-c-remediation__status"},void 0===_&&s.a.createElement(S.Skeleton,{size:"md"}),_&&p?s.a.createElement(s.a.Fragment,null,(t=q(u[0].status),{running:s.a.createElement(P.a,{className:"".concat(L," ").concat(L,"--running"),"aria-label":"Remediation in progress"}),success:s.a.createElement(N.a,{className:"".concat(L," ").concat(L,"--passed"),"aria-label":"Remediation passed"}),failure:s.a.createElement(I.a,{className:"".concat(L," ").concat(L,"--failed"),"aria-label":"Remediation failed"})}[t]),s.a.createElement("p",{className:"ins-c-remediation__status-text"},B.formatMessage(g.a.remediationsPlaybookStatus,{status:q(u[0].status)}))):null,_&&!p&&s.a.createElement(s.a.Fragment,null,s.a.createElement(z,null),s.a.createElement("p",null,B.formatMessage(g.a.remediationsPlaybookNoActivity))),R&&s.a.createElement(s.a.Fragment,null,s.a.createElement("span",null,B.formatMessage(g.a.remediationsPlaybookFailure))," ")),s.a.createElement("div",{className:"ins-c-remediation__timestamp"},n.length>20?s.a.createElement(J.a,{content:n},s.a.createElement(l.Button,{id:"remediation-link-".concat(i),component:"a",variant:"link",isInline:!0,href:"./insights/remediations/".concat(a)},"".concat(n.substring(0,20),"...")," ")):s.a.createElement(l.Button,{id:"remediation-link-".concat(i),component:"a",variant:"link",isInline:!0,href:"./insights/remediations/".concat(a)},n," "),void 0===_&&s.a.createElement(S.Skeleton,{size:"md"}),_&&p?s.a.createElement(M,{timestamp:s.a.createElement(S.DateFormat,{type:"exact",date:u[0].created_at})}):null))};V.propTypes={id:m.a.string,name:m.a.string,intl:m.a.any,index:m.a.any};var C=V,G=a(216),H=a(727),K=a.n(H);function Q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var U=function(e){var t=e.fetchRemediations,a=e.remediationsFetchStatus,n=e.remediations,i=Object(v.a)();return Object(o.useEffect)((function(){t()}),[t]),s.a.createElement(c.a,{appName:"Remediations"},s.a.createElement(c.c,{title:"Remediations"}),s.a.createElement(c.b,null,"fulfilled"===a&&Array.isArray(n.data)&&(n.data.length>0?s.a.createElement(s.a.Fragment,null,n.data.map((function(e,t){return s.a.createElement(C,{id:e.id,name:e.name,key:e.id,index:t+1})})),n.meta.total>n.meta.count&&s.a.createElement("div",{className:"ins-c-remediations-container"},s.a.createElement("div",{className:"ins-c-remediation__status"}),s.a.createElement("div",{className:"ins-c-remediation__timestamp"},s.a.createElement(l.Button,{id:"remediations-link-more",component:"a",href:"./insights/remediations",variant:"link",isInline:!0},i.formatMessage(g.a.remediationsTotal,{total:n.meta.total-n.meta.count}))))):s.a.createElement(b,null)),"rejected"===a&&s.a.createElement(u.a,{appName:"Remediations"})))};U.propTypes={fetchRemediations:m.a.func,remediations:m.a.object,remediationsFetchStatus:m.a.string,intl:m.a.any};t.default=K()(Object(G.connect)((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(a),!0).forEach((function(t){i()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Q(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({remediations:e.DashboardStore.remediations,remediationsFetchStatus:e.DashboardStore.remediationsFetchStatus},t)}),(function(e){return{fetchRemediations:function(){return e(r.i())}}}))(U))},875:function(e,t,a){(t=a(8)(!1)).push([e.i,".ins-c-remediations-container{display:flex;flex-direction:row}.ins-c-remediations-container:not(:last-child){padding-bottom:var(--pf-global--spacer--md)}.ins-c-remediation__status{display:flex;flex-direction:row;padding-top:2px;padding-right:16px;min-width:110px}.ins-c-remediation__status>p{margin-left:var(--pf-global--spacer--sm);font-size:var(--pf-global--FontSize--sm)}\n",""]),e.exports=t},876:function(e,t,a){(t=a(8)(!1)).push([e.i,".ins-c-dashboard__card--Remediations .pf-c-empty-state{margin-left:auto;margin-right:auto}\n",""]),e.exports=t},877:function(e,t,a){(t=a(8)(!1)).push([e.i,".ins-c-remediation__status-icon--passed{color:var(--pf-global--success-color--200)}.ins-c-remediation__status-icon--failed{color:var(--pf-global--danger-color--100)}.ins-c-remediation__status-icon--running{color:var(--pf-global--default-color--300)}.ins-c-remediation__status-text{text-transform:capitalize}\n",""]),e.exports=t},878:function(e,t,a){(t=a(8)(!1)).push([e.i,".ins-c-dashboard__time-stamp{color:var(--pf-global--disabled-color--100);font-size:var(--pf-global--FontSize--sm)}\n",""]),e.exports=t}}]);
//# sourceMappingURL=16.5775e8fb4963f0df3a14.js.map