(self.webpackChunkinsights_dashboard=self.webpackChunkinsights_dashboard||[]).push([[4988],{54988:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>x});var n=a(96156),s=(a(56296),a(28191)),r=a(92298),c=a(59303),l=a(93264),u=a.n(l),o=a(66794),i=a(98756),f=a(57149),m=a(47173),d=a(10358),h=a(37486),p=a(46891),g=a(33818),y=a(45697),b=a.n(y),v=a(55490),S=a(34925),_=a(1900),E=a(77121),O=a(96191),P=a(30893),Z=a(86896);function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var j=function(e){var t=e.systems,a=e.systemsStatus,n=e.fetchSystems,f=e.fetchSecurity,y=e.securityStatus,b=e.security,E=e.bugs,k=e.fetchBugs,j=e.bugsStatus,x=e.enhancements,D=e.fetchEnhancements,I=e.enhancementsStatus,N=e.selectedTags,B=e.workloads,M=e.SID,T=(0,Z.Z)(),A=[a,y,j,I].every((function(e){return"fulfilled"===e})),C=[{x:T.formatMessage(P.Z.securityAdvisories,{count:b}),y:b,fill:_.Z.value,url:"".concat(c.Pu,"/").concat(c._1,"/advisories?offset=0&filter%5Badvisory_type%5D=3")},{x:T.formatMessage(P.Z.bugfixAdvisories,{count:E}),y:E,fill:S.Z.value,url:"".concat(c.Pu,"/").concat(c._1,"/advisories?offset=0&filter%5Badvisory_type%5D=2")},{x:T.formatMessage(P.Z.enhancementAdvisories,{count:x}),y:x,fill:v.Z.value,url:"".concat(c.Pu,"/").concat(c._1,"/advisories?offset=0&filter%5Badvisory_type%5D=1")}],z=[v.Z.value,S.Z.value,_.Z.value];return(0,l.useEffect)((function(){var e=w(w({},(0,i.nY)(B,M)),(null==N?void 0:N.length)>0&&{tags:N});n(e),f(e),k(e),D(e)}),[n,f,k,D,B,M,N]),"rejected"===a?u().createElement(o.wh,{appName:"PatchManager",className:"ins-c-dashboard__card--Patch"},u().createElement(o.ME,{subtitle:T.formatMessage(P.Z.patchTitle)}),u().createElement(o.jA,null,u().createElement(h.Z,{appName:"Patch",isSmall:!0}))):u().createElement(d.t,{appName:"PatchManager",isExpanded:JSON.parse(localStorage.getItem("dashboard_expanded_patch")||"true"),isExpandedCallback:function(e){return localStorage.setItem("dashboard_expanded_patch",e)},title:T.formatMessage(P.Z.patchTitle),className:"ins-c-dashboard__card--Patch ins-m-toggle-right-on-md",body:u().createElement(o.jA,null,A?u().createElement(s.k,{direction:{default:"column"}},u().createElement(m.zx,{component:"a",href:"".concat(c.Pu,"/").concat(c._1,"/systems"),variant:"link",isInline:!0},u().createElement("span",null,T.formatMessage(P.Z.systemsAffected,{count:t}))),u().createElement(s.k,{alignItems:{default:"alignItemsCenter"},spaceItems:{default:"spaceItemsXl"}},u().createElement(r.B,null,u().createElement(g.u,{colorScale:A&&0===b&&0===E&&0===x?[O.Z.value]:z,ariaDesc:"Patch systems chart",ariaTitle:"Patch systems chart",constrainToVisibleArea:!0,data:C,labels:function(e){var t=e.datum;return"".concat(t.x,": ").concat(t.y)},padding:{bottom:0,left:0,right:0,top:0},height:100,width:100})),u().createElement("div",{className:"ins-c-legend"},C.map((function(e,t){return u().createElement("a",{key:e.url,href:e.url,className:"ins-c-legend__item"},u().createElement("span",{className:"ins-c-legend__dot",style:{"--ins-c-legend__dot--BackgroundColor":"".concat(z[t])}}),u().createElement("span",{className:"ins-c-legend__text"},e.y," ",(0,i.kC)(e.x)))}))))):u().createElement(p.Z,null))})};j.propTypes={systems:b().any,systemsStatus:b().string,fetchSystems:b().func,fetchSecurity:b().func,security:b().any,securityStatus:b().string,fetchBugs:b().func,bugs:b().any,bugsStatus:b().string,fetchEnhancements:b().func,enhancements:b().any,enhancementsStatus:b().string,selectedTags:b().arrayOf(b().string),workloads:i.ib,SID:b().arrayOf(b().string)};const x=(0,E.connect)((function(e){var t=e.DashboardStore;return{systems:t.patchmanSystems,systemsStatus:t.patchmanSystemsStatus,security:t.patchmanSecurity,securityStatus:t.patchmanSecurityStatus,bugs:t.patchmanBugs,bugsStatus:t.patchmanBugsStatus,enhancements:t.patchmanEnhancements,enhancementsStatus:t.patchmanEnhancementsStatus,selectedTags:t.selectedTags,workloads:t.workloads,SID:t.SID}}),(function(e){return{fetchSystems:function(t){return e((0,f.Zw)(t))},fetchSecurity:function(t){return e((0,f.yZ)(t))},fetchBugs:function(t){return e((0,f.Nx)(t))},fetchEnhancements:function(t){return e((0,f.rQ)(t))}}}))(j)},22474:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var n=a(23645),s=a.n(n)()((function(e){return e[1]}));s.push([e.id,".dashboard .ins-c-patch__chart .pf-c-chart{margin-right:var(--pf-global--spacer--md);top:var(--pf-global--spacer--sm)}.dashboard .ins-c-pie-chart__legend .pf-c-chart{top:var(--pf-global--spacer--sm);left:var(--pf-global--spacer--md)}\n",""]);const r=s},56296:(e,t,a)=>{"use strict";var n=a(93379),s=a.n(n),r=a(22474),c=s()(r.default,{insert:"head",singleton:!1});if(!r.default.locals||e.hot.invalidate){var l=r.default.locals;e.hot.accept(22474,(t=>{r=a(22474),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(l,r.default.locals)?(l=r.default.locals,c(r.default)):e.hot.invalidate()}))}e.hot.dispose((function(){c()})),r.default.locals}}]);