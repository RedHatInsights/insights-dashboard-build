(self.webpackChunkinsights_dashboard=self.webpackChunkinsights_dashboard||[]).push([[8594,5467,9477],{35293:(e,t,r)=>{"use strict";r.d(t,{i:()=>o});var i=r(70655),a=r(93264),s=r(38296),n=r(51203);const o=e=>{var{children:t=null,className:r=""}=e,o=(0,i._T)(e,["children","className"]);return a.createElement("div",Object.assign({className:(0,s.i)(n.Z.emptyStateSecondary,r)},o),t)};o.displayName="EmptyStateSecondaryActions"},59129:(e,t,r)=>{"use strict";r.d(t,{E:()=>u,L:()=>i});var i,a=r(70655),s=r(93264),n=r(40619),o=r(38296),c=r(36223),l=r(80164);!function(e){e.sm="sm",e.md="md",e.lg="lg"}(i||(i={}));class u extends s.Component{constructor(){super(...arguments),this.id=this.props.id||(0,l.Ki)()}render(){const e=this.props,{id:t,size:r,className:l,value:u,title:d,label:p,variant:m,measureLocation:g,min:f,max:b,valueText:h,isTitleTruncated:v,tooltipPosition:P,"aria-label":E,"aria-labelledby":y}=e,O=(0,a._T)(e,["id","size","className","value","title","label","variant","measureLocation","min","max","valueText","isTitleTruncated","tooltipPosition","aria-label","aria-labelledby"]),T={"aria-valuemin":f,"aria-valuenow":u,"aria-valuemax":b};(d||y)&&(T["aria-labelledby"]=d?`${this.id}-description`:y),E&&(T["aria-label"]=E),h&&(T["aria-valuetext"]=h),d||y||E||console.warn("One of aria-label or aria-labelledby properties should be passed when using the progress component without a title.");const S=Math.min(100,Math.max(0,Math.floor((u-f)/(b-f)*100)))||0;return s.createElement("div",Object.assign({},O,{className:(0,o.i)(n.Z.progress,n.Z.modifiers[m],["inside","outside"].includes(g)&&n.Z.modifiers[g],"inside"===g?n.Z.modifiers[i.lg]:n.Z.modifiers[r],!d&&n.Z.modifiers.singleline,l),id:this.id}),s.createElement(c.p1,{parentId:this.id,value:S,title:d,label:p,variant:m,measureLocation:g,progressBarAriaProps:T,isTitleTruncated:v,tooltipPosition:P}))}}u.displayName="Progress",u.defaultProps={className:"",measureLocation:c.nK.top,variant:null,id:"",title:"",min:0,max:100,size:null,label:null,value:0,valueText:null,isTitleTruncated:!1,tooltipPosition:"top","aria-label":null,"aria-labelledby":null}},53297:(e,t,r)=>{"use strict";r.d(t,{k:()=>o});var i=r(70655),a=r(93264),s=r(40619),n=r(38296);const o=e=>{var{progressBarAriaProps:t,className:r="",children:o=null,value:c}=e,l=(0,i._T)(e,["progressBarAriaProps","className","children","value"]);return a.createElement("div",Object.assign({},l,{className:(0,n.i)(s.Z.progressBar,r)},t),a.createElement("div",{className:(0,n.i)(s.Z.progressIndicator),style:{width:`${c}%`}},a.createElement("span",{className:(0,n.i)(s.Z.progressMeasure)},o)))};o.displayName="ProgressBar"},36223:(e,t,r)=>{"use strict";r.d(t,{n9:()=>a,nK:()=>i,p1:()=>g});var i,a,s=r(93264),n=r(40619),o=r(38296),c=r(75824),l=r(68778),u=r(72781),d=r(69957),p=r(53297);!function(e){e.outside="outside",e.inside="inside",e.top="top",e.none="none"}(i||(i={})),function(e){e.danger="danger",e.success="success",e.warning="warning"}(a||(a={}));const m={danger:u.ZP,success:l.ZP,warning:d.ZP},g=({progressBarAriaProps:e,value:t,title:r="",parentId:a,label:l=null,variant:u=null,measureLocation:d=i.top,isTitleTruncated:g=!1,tooltipPosition:f})=>{const b=m.hasOwnProperty(u)&&m[u],[h,v]=s.useState(""),P=s.createElement("div",{className:(0,o.i)(n.Z.progressDescription,g&&"string"==typeof r&&n.Z.modifiers.truncate),id:`${a}-description`,"aria-hidden":"true",onMouseEnter:g&&"string"==typeof r?e=>{e.target.offsetWidth<e.target.scrollWidth?v(r||e.target.innerHTML):v("")}:null},r);return s.createElement(s.Fragment,null,h?s.createElement(c.u,{position:f,content:h,isVisible:!0},P):P,s.createElement("div",{className:(0,o.i)(n.Z.progressStatus),"aria-hidden":"true"},(d===i.top||d===i.outside)&&s.createElement("span",{className:(0,o.i)(n.Z.progressMeasure)},l||`${t}%`),m.hasOwnProperty(u)&&s.createElement("span",{className:(0,o.i)(n.Z.progressStatusIcon)},s.createElement(b,null))),s.createElement(p.k,{role:"progressbar",progressBarAriaProps:e,value:t},d===i.inside&&`${t}%`))};g.displayName="ProgressContainer"},68778:(e,t,r)=>{"use strict";r.d(t,{GR:()=>a,ZP:()=>n,rE:()=>s});var i=r(40400);const a={name:"CheckCircleIcon",height:512,width:512,svgPath:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z",yOffset:0,xOffset:0},s=(0,i.IU)(a),n=s},80810:(e,t,r)=>{"use strict";r.d(t,{W1:()=>s,ZP:()=>n,xQ:()=>a});var i=r(40400);const a={name:"SearchIcon",height:512,width:512,svgPath:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z",yOffset:0,xOffset:0},s=(0,i.IU)(a),n=s},72781:(e,t,r)=>{"use strict";r.d(t,{B9:()=>a,ZP:()=>n,xD:()=>s});var i=r(40400);const a={name:"TimesCircleIcon",height:512,width:512,svgPath:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z",yOffset:0,xOffset:0},s=(0,i.IU)(a),n=s},40619:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i}),r.e(7739).then(r.t.bind(r,37739,23));const i={modifiers:{sm:"pf-m-sm",lg:"pf-m-lg",inside:"pf-m-inside",outside:"pf-m-outside",staticWidth:"pf-m-static-width",singleline:"pf-m-singleline",success:"pf-m-success",warning:"pf-m-warning",danger:"pf-m-danger",truncate:"pf-m-truncate"},progress:"pf-c-progress",progressBar:"pf-c-progress__bar",progressDescription:"pf-c-progress__description",progressIndicator:"pf-c-progress__indicator",progressMeasure:"pf-c-progress__measure",progressStatus:"pf-c-progress__status",progressStatusIcon:"pf-c-progress__status-icon",themeDark:"pf-theme-dark"}},48320:(e,t,r)=>{"use strict";r.d(t,{Z:()=>b});var i=r(9947),a=r(38424),s=r(75106),n=r(47173),o=r(45697),c=r.n(o),l=r(93264),u=r.n(l),d=r(80810),p=r(38779),m=r(30893),g=r(86896),f=function(e){var t=e.href,r=e.title,o=e.appName,c=(0,g.Z)();return u().createElement(i.u,null,u().createElement(a.k,{className:"fontSizeOverride",icon:d.ZP}),u().createElement(p.D,{headingLevel:"h4",size:"md"},r," "),u().createElement(s.B,null,c.formatMessage("Vulnerability"!==o?m.Z.functionalityNotSupported:m.Z.filteredResultsInApp,{appname:u().createElement(n.zx,{component:"a",href:t,variant:"link",isInline:!0},o)})))};f.propTypes={appName:c().string,href:c().string,title:c().string};const b=f},52953:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>L});var i=r(70885),a=r(57149),s=r(9947),n=r(75106),o=r(59303),c={CORES:"cores",DATE:"date",SOCKETS:"sockets",HAS_DATA:"has_data",HAS_INFINITE:"has_infinite_quantity"},l="SUBSCRIPTIONS1004",u={APP:"".concat(o.Pu,"/subscriptions/rhel"),RHEL:"".concat(o.Pu,"/subscriptions/rhel"),OPENSHIFT:"".concat(o.wG,"/subscriptions/openshift-container")},d=r(93264),p=r.n(d),m=r(75824),g=r(4942);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,g.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.map((function(e){var r={};return(Array.isArray(e)&&e||Object.values(e)).forEach((function(e){r[e]=t})),r}))},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,a=e.reverse(),s=t.reverse(),n={},o=null,l=h([c]),u=(0,i.Z)(l,1),d=u[0],p=void 0===d?{}:d,m=a.find((function(e,t){return o=t,!0===e[c.HAS_DATA]}));if(m){var g=m[c.DATE];(n={date:g,report:b(b({},p),m),capacity:b(b({},p),s[o]),percentage:void 0}).report=n.report[r],n.capacity=n.capacity[c.HAS_INFINITE]?null:n.capacity[r];var f=null===n.capacity?null:(n.report||0)/(n.capacity||0)*100;Number.isNaN(f)&&(f=0),f===1/0&&(f=void 0),"number"==typeof f&&(f=Math.ceil(f)),n.percentage=f}return n},P=r(98756),E=r(37524),y=r(47173),O=r(35293),T=r(10358),S=r(37486),z=r(48320),w=r(33042),Z=r.n(w),N=r(46891),U=r(59129),D=r(36223),I=r(45697),_=r.n(I),M=function(e){var t=e.distance,r=e.label,i=e.value,a=e.title,s=e.variant;return p().createElement(U.E,{distance:t,label:r,value:i,title:a,size:U.L.sm,variant:"danger"===s&&D.n9.danger})};M.propTypes={distance:_().number,label:_().string,value:_().number,title:_().string,variant:_().string};var k=r(66794),A=r(28216),x=r(30893),C=r(86896),F=function(e){var t=e.subscriptionsUtilizedProductOne,r=e.subscriptionsUtilizedProductOneFetch,a=e.subscriptionsUtilizedProductOneFetchStatus,o=e.subscriptionsUtilizedProductTwo,g=e.subscriptionsUtilizedProductTwoFetch,f=e.subscriptionsUtilizedProductTwoFetchStatus,b=e.workloads,h=e.selectedTags,w=e.SID,U=(0,d.useState)([]),D=(0,i.Z)(U,2),I=D[0],_=D[1],A=(0,C.Z)();(0,d.useEffect)((function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return"string"==typeof e&&(e=new Date(e)),{startDate:new Date(new Date(e.setUTCHours(0,0,0,0)).setUTCDate(e.getUTCDate()-t)),endDate:new Date(e.setUTCHours(23,59,59,999))}}(),t=e.startDate,i=e.endDate,a={granularity:"daily",beginning:t.toISOString(),ending:i.toISOString()};r("OpenShift Container Platform",a),g("RHEL",a)}),[r,g]),(0,d.useEffect)((function(){var e={productError:!1,productOptIn:!1,productOne:{},productTwo:{}};if("fulfilled"===a||"fulfilled"===f){var r=Z().asMutable(t,{deep:!0})||[],s=(0,i.Z)(r,2),n=s[0],u=void 0===n?{}:n,d=s[1],p=void 0===d?{}:d,m=Z().asMutable(o,{deep:!0})||[],g=(0,i.Z)(m,2),b=g[0],h=void 0===b?{}:b,P=g[1],E=void 0===P?{}:P;e.productOne=v(u.data,p.data,c.CORES),e.productTwo=v(h.data,E.data,c.SOCKETS)}if("rejected"===a&&"rejected"===f){var y,O,T=(null===(y=t.data)||void 0===y?void 0:y.errors)||[],S=(0,i.Z)(T,1)[0],z=void 0===S?{}:S,w=(null===(O=t.data)||void 0===O?void 0:O.errors)||[],N=(0,i.Z)(w,1)[0],U=void 0===N?{}:N;e.productError=!0,e.productOptIn=z.code===l&&U.code===l}_(e)}),[t,o,a,f]);var F=I.productError,L=I.productOptIn,j=I.productOne,B=void 0===j?{}:j,H=I.productTwo,R=void 0===H?{}:H,$=p().createElement("ul",null,p().createElement("li",null,A.formatMessage(x.Z.subscriptionsUtilizedProductTwoReport,{totalReport:R.report})),p().createElement("li",null,A.formatMessage(x.Z.subscriptionsUtilizedProductCapacity,{totalCapacity:R.capacity})),p().createElement("li",null,A.formatMessage(x.Z.subscriptionsUtilizedProductDate,{formattedDate:p().createElement(E.DateFormat,{type:"exact",date:R.date})}))),K=p().createElement("ul",null,p().createElement("li",null,A.formatMessage(x.Z.subscriptionsUtilizedProductOneReport,{totalReport:B.report})),p().createElement("li",null,A.formatMessage(x.Z.subscriptionsUtilizedProductCapacity,{totalCapacity:B.capacity})),p().createElement("li",null,A.formatMessage(x.Z.subscriptionsUtilizedProductDate,{formattedDate:p().createElement(E.DateFormat,{type:"exact",date:B.date})}))),W=[],G=function(e){var t=e.fetchStatus,r=e.percentage,i=e.title,a=e.tooltip,s=e.link;switch(t){case"pending":W.push(p().createElement(N.Z,{key:"su-loading-".concat(i)}));break;case"fulfilled":null!=r&&W.push(p().createElement(m.u,{key:"su-tooltip-".concat(i),content:a,position:m.D.top,distance:-10,entryDelay:200},p().createElement(y.zx,{className:"insd-c-subscriptions-utilized__chart-link",variant:"link",href:s,component:"a"},p().createElement(M,{title:i,value:r,label:"".concat(r,"%"),variant:r>100?"danger":"info"}))))}};return G({fetchStatus:f,percentage:R.percentage,title:A.formatMessage(x.Z.subscriptionsUtilizedProductTwoTitle),tooltip:$,link:u.RHEL}),G({fetchStatus:a,percentage:B.percentage,title:A.formatMessage(x.Z.subscriptionsUtilizedProductOneTitle),tooltip:K,link:u.OPENSHIFT}),B.percentage>R.percentage&&B.percentage>100&&W.reverse(),p().createElement(T.t,{appName:"SubscriptionsUtilized",className:"insd-m-toggle-right-on-md",title:A.formatMessage(x.Z.subscriptionsUtilizedTitle),isExpanded:JSON.parse(localStorage.getItem("dashboard_expanded_subwatch")||"true"),isExpandedCallback:function(e){return localStorage.setItem("dashboard_expanded_subwatch",e)},body:p().createElement(k.jA,null,(0,P.PF)(h,b,w)?p().createElement(p().Fragment,null,L&&p().createElement(s.u,{className:"insd-c-subscriptions-utilized__empty-state",variant:s.I.full},p().createElement(n.B,null,A.formatMessage(x.Z.subscriptionsUtilizedLearnMore)),p().createElement(O.i,null,p().createElement(y.zx,{className:"insd-c-subscriptions-utilized__app-link",variant:"link",href:u.APP,component:"a"},A.formatMessage(x.Z.subscriptionsUtilizedLearnMoreAction))))||F&&p().createElement(S.Z,{appName:A.formatMessage(x.Z.subscriptionsUtilizedTitle),isSmall:!0})||!W.length&&p().createElement(s.u,{className:"insd-c-subscriptions-utilized__empty-state",variant:s.I.full},p().createElement(n.B,null,A.formatMessage(x.Z.subscriptionsUtilizedNoProductData)))||W):p().createElement(z.Z,{href:u.APP,title:A.formatMessage(x.Z.filterNotApplicable),appName:A.formatMessage(x.Z.subscriptionsTitle)}))})};F.propTypes={intl:_().any,subscriptionsUtilizedProductOne:_().array,subscriptionsUtilizedProductOneFetch:_().func,subscriptionsUtilizedProductOneFetchStatus:_().string,subscriptionsUtilizedProductTwo:_().array,subscriptionsUtilizedProductTwoFetch:_().func,subscriptionsUtilizedProductTwoFetchStatus:_().string,selectedTags:_().array,workloads:P.ib,SID:_().arrayOf(_().string)};const L=(0,A.$j)((function(e){var t=e.DashboardStore;return{subscriptionsUtilizedProductOne:t.subscriptionsUtilizedProductOne,subscriptionsUtilizedProductOneFetchStatus:t.subscriptionsUtilizedProductOneFetchStatus,subscriptionsUtilizedProductTwo:t.subscriptionsUtilizedProductTwo,subscriptionsUtilizedProductTwoFetchStatus:t.subscriptionsUtilizedProductTwoFetchStatus,selectedTags:t.selectedTags,workloads:t.workloads,SID:t.SID}}),(function(e){return{subscriptionsUtilizedProductOneFetch:function(t,r){return e(a.hW(t,r))},subscriptionsUtilizedProductTwoFetch:function(t,r){return e(a._z(t,r))}}}))(F)},45467:()=>{}}]);
//# sourceMappingURL=../sourcemaps/8594.bececd5380a0292e4b5c8a9b29d9d190.js.map