"use strict";(self.webpackChunkinsights_dashboard=self.webpackChunkinsights_dashboard||[]).push([[968],{18968:(e,t,a)=>{a.r(t),a.d(t,{default:()=>A});var n=a(87462),c=a(57149),l=a(31765),o=a(61282),r=a(81217),i=a(14087),s=a(27511),m=a(47173),p=a(9947),u=a(60485),d=a(75106),f=a(35293),g=a(28191),E=a(92298),h=a(93264),_=a.n(h),k=a(66794),y=a(98756),S=a(10358),b=a(37486),Z=a(48320),C=a(46891),x=a(45697),N=a.n(x),v=a(59303),w=a(82041),I=a(30893),F=a(36873),M=a(86896),P=a(89319),T=function(e){var t=e.fetchCompliance,a=e.complianceFetchStatus,c=e.complianceSummary,x=e.selectedTags,N=e.workloads,w=e.SID;(0,h.useEffect)((function(){t()}),[t]);var F,T=(0,M.Z)(),A=(0,P.s)();return _().createElement(S.t,(0,n.Z)({appName:"Compliance",className:"ins-c-card__compliance insd-m-toggle-right-on-md"},"pending"!==a?{"data-ouia-safe":!0}:{"data-ouia-safe":!1},{title:T.formatMessage(I.Z.complianceTitle),isExpanded:JSON.parse(localStorage.getItem("dashboard_expanded_compliance")||"true"),isExpandedCallback:function(e){return localStorage.setItem("dashboard_expanded_compliance",e)},header:_().createElement(k.KZ,null),body:_().createElement(k.jA,null,(0,y.PF)(x,N,w)?_().createElement(_().Fragment,null,"fulfilled"===a&&Array.isArray(c.data)&&(c.data.length>0?_().createElement(_().Fragment,null,_().createElement(l.FR,{className:"insd-m-no-padding insd-m-no-top-border",isCompact:!0},(F=c,F.data.length>1?F.data.slice(0,3):F.data.slice()).map((function(e,t){return _().createElement(o.L,{key:t},_().createElement(r.V,null,_().createElement(i.p,{dataListCells:[_().createElement(s.K,{key:t},_().createElement(g.k,{direction:{default:"column"},spaceItems:{default:"spaceItemsNone"}},_().createElement(m.zx,{id:"compliance-link-".concat(t+1),className:"ins-c-compliance__policy-link",component:"a",onClick:function(t){return A(t,"".concat(v.Pu,"/compliance/reports/").concat(e.id))},href:"".concat(v.Pu,"/compliance/reports/").concat(e.id),variant:"link",isInline:!0},e.attributes.name),_().createElement(g.k,null,_().createElement(E.B,{flex:{default:"flex_1"}},_().createElement("p",null,"RHEL ",e.attributes.os_version)),_().createElement(g.k,{flex:{default:"None"}},_().createElement(E.B,null,T.formatMessage(I.Z.compliantHostCount,{count:e.attributes.test_result_host_count})),_().createElement(E.B,null,T.formatMessage(I.Z.compliantScore,{score:+(e.attributes.test_result_host_count&&e.attributes.compliant_host_count/e.attributes.test_result_host_count*100).toFixed(1)}))))))]})))}))),_().createElement(m.zx,{className:"ins-c-compliance__policy-link",component:"a",onClick:function(e){return A(e,"".concat(v.Pu,"/compliance/reports/"))},href:"".concat(v.Pu,"/compliance/reports/"),variant:"link",isInline:!0},"fulfilled"===a&&Array.isArray(c.data)&&c.data.length-3>=1&&"".concat(c.data.length-3," more reports"))):_().createElement(p.u,{className:"ins-c-compliance__empty-state",variant:p.I.full},_().createElement(u.D,{headingLevel:"h5",size:"md"},T.formatMessage(I.Z.complianceEmptyStateTitle)),_().createElement(d.B,null,T.formatMessage(I.Z.complianceEmptyStateBody)),_().createElement(f.i,null,_().createElement(m.zx,{variant:"link",onClick:function(e){return A(e,"".concat(v.Pu,"/compliance/scappolicies/new"))},href:"".concat(v.Pu,"/compliance/scappolicies/new"),component:"a"},T.formatMessage(I.Z.complianceEmptyStateAction1)),_().createElement(m.zx,{variant:"link",component:"a",href:"https://www.open-scap.org/getting-started/"},T.formatMessage(I.Z.complianceEmptyStateAction2))))),"pending"===a&&_().createElement(C.Z,null),"rejected"===a&&_().createElement(b.Z,{appName:"Compliance"})):_().createElement(Z.Z,{onClick:function(e){return A(e,"".concat(v.Pu,"/compliance/"))},href:"".concat(v.Pu,"/compliance/"),title:T.formatMessage(I.Z.filterNotApplicable),appName:T.formatMessage(I.Z.complianceTitle)}))}))};T.propTypes={fetchCompliance:N().func,complianceSummary:N().object,complianceFetchStatus:N().string,intl:N().any,selectedTags:N().array,workloads:y.ib,SID:N().arrayOf(N().string)};const A=(0,F.Z)((0,w.connect)((function(e){var t=e.DashboardStore;return{complianceSummary:t.complianceSummary,complianceFetchStatus:t.complianceFetchStatus,selectedTags:t.selectedTags,workloads:t.workloads,SID:t.SID}}),(function(e){return{fetchCompliance:function(t){return e(c.T2(t))}}}))(T))}}]);
//# sourceMappingURL=../sourcemaps/968.c31dc4f5cbccdba7bb74cd8acf2c410a.js.map