(self.webpackChunkinsights_dashboard=self.webpackChunkinsights_dashboard||[]).push([[4988],{54988:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>k});var s=a(96156),n=(a(56296),a(28191)),r=a(59303),c=a(93264),l=a.n(c),o=a(66794),i=a(98756),u=a(57149),d=a(47173),f=a(10358),m=a(37486),h=a(46891),p=a(33818),g=a(45697),y=a.n(g),b=a(55490),v=a(34925),S=a(1900),_=a(77121),E=a(96191),A=a(30893),C=a(86896);function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(Object(a),!0).forEach((function(t){(0,s.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Z=function(e){var t=e.systems,a=e.systemsStatus,s=e.fetchSystems,u=e.fetchSecurity,g=e.securityStatus,y=e.security,_=e.bugs,P=e.fetchBugs,Z=e.bugsStatus,k=e.enhancements,w=e.fetchEnhancements,D=e.enhancementsStatus,j=e.selectedTags,N=e.workloads,x=e.SID,M=(0,C.Z)(),B=[a,g,Z,D].every((function(e){return"fulfilled"===e})),T=[{x:M.formatMessage(A.Z.securityAdvisories,{count:y}),y,fill:S.Z.value,url:"".concat(r.Pu,"/").concat(r._1,"/advisories?offset=0&filter%5Badvisory_type%5D=3")},{x:M.formatMessage(A.Z.bugfixAdvisories,{count:_}),y:_,fill:v.Z.value,url:"".concat(r.Pu,"/").concat(r._1,"/advisories?offset=0&filter%5Badvisory_type%5D=2")},{x:M.formatMessage(A.Z.enhancementAdvisories,{count:k}),y:k,fill:b.Z.value,url:"".concat(r.Pu,"/").concat(r._1,"/advisories?offset=0&filter%5Badvisory_type%5D=1")}],I=[b.Z.value,v.Z.value,S.Z.value];return(0,c.useEffect)((function(){var e=O(O({},(0,i.nY)(N,x)),(null==j?void 0:j.length)>0&&{tags:j});s(e),u(e),P(e),w(e)}),[s,u,P,w,N,x,j]),"rejected"===a?l().createElement(o.wh,{appName:"PatchManager",className:"ins-c-dashboard__card--Patch"},l().createElement(o.ME,{subtitle:M.formatMessage(A.Z.patchTitle)}),l().createElement(o.jA,null,l().createElement(m.Z,{appName:"Patch",isSmall:!0}))):l().createElement(f.t,{appName:"PatchManager",isExpanded:JSON.parse(localStorage.getItem("dashboard_expanded_patch")||"true"),isExpandedCallback:function(e){return localStorage.setItem("dashboard_expanded_patch",e)},title:M.formatMessage(A.Z.patchTitle),className:"ins-c-dashboard__card--Patch ins-m-toggle-right-on-md",body:l().createElement(o.jA,null,B?l().createElement(n.k,{direction:{default:"column"}},l().createElement(d.zx,{component:"a",href:"".concat(r.Pu,"/").concat(r._1,"/systems"),variant:"link",isInline:!0},l().createElement("span",null,M.formatMessage(A.Z.systemsAffected,{count:t}))),l().createElement("div",{className:"ins-c-dashboard__card-chart-container"},l().createElement("div",{className:"ins-c-dashboard__card-pie-chart"},l().createElement(p.u,{colorScale:B&&0===y&&0===_&&0===k?[E.Z.value]:I,ariaDesc:"Patch systems chart",ariaTitle:"Patch systems chart",constrainToVisibleArea:!0,data:T,labels:function(e){var t=e.datum;return"".concat(t.x,": ").concat(t.y)},padding:{bottom:0,left:0,right:0,top:0}})),l().createElement("div",{className:"ins-c-dashboard__card-pie-chart-legend"},l().createElement("div",{className:"ins-c-legend"},T.map((function(e,t){return l().createElement("a",{key:e.url,href:e.url,className:"ins-c-legend__item"},l().createElement("span",{className:"ins-c-legend__dot",style:{"--ins-c-legend__dot--BackgroundColor":"".concat(I[t])}}),l().createElement("span",{className:"ins-c-legend__text"},e.y," ",(0,i.kC)(e.x)))})))))):l().createElement(h.Z,null))})};Z.propTypes={systems:y().any,systemsStatus:y().string,fetchSystems:y().func,fetchSecurity:y().func,security:y().any,securityStatus:y().string,fetchBugs:y().func,bugs:y().any,bugsStatus:y().string,fetchEnhancements:y().func,enhancements:y().any,enhancementsStatus:y().string,selectedTags:y().arrayOf(y().string),workloads:i.ib,SID:y().arrayOf(y().string)};const k=(0,_.connect)((function(e){var t=e.DashboardStore;return{systems:t.patchmanSystems,systemsStatus:t.patchmanSystemsStatus,security:t.patchmanSecurity,securityStatus:t.patchmanSecurityStatus,bugs:t.patchmanBugs,bugsStatus:t.patchmanBugsStatus,enhancements:t.patchmanEnhancements,enhancementsStatus:t.patchmanEnhancementsStatus,selectedTags:t.selectedTags,workloads:t.workloads,SID:t.SID}}),(function(e){return{fetchSystems:function(t){return e((0,u.Zw)(t))},fetchSecurity:function(t){return e((0,u.yZ)(t))},fetchBugs:function(t){return e((0,u.Nx)(t))},fetchEnhancements:function(t){return e((0,u.rQ)(t))}}}))(Z)},22474:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var s=a(94015),n=a.n(s),r=a(23645),c=a.n(r)()(n());c.push([e.id,".dashboard .ins-c-patch__chart .pf-c-chart{margin-right:var(--pf-global--spacer--md);top:var(--pf-global--spacer--sm)}.dashboard .ins-c-pie-chart__legend .pf-c-chart{top:var(--pf-global--spacer--sm);left:var(--pf-global--spacer--md)}\n","",{version:3,sources:["webpack://./src/SmartComponents/PatchManager/PatchManagerCard.scss"],names:[],mappings:"AAAA,2CACgC,yCAAyC,CAAC,gCAAgC,CAD1G,gDACgJ,gCAAgC,CAAC,iCAAiC",sourcesContent:[".dashboard{\n.ins-c-patch__chart .pf-c-chart{margin-right:var(--pf-global--spacer--md);top:var(--pf-global--spacer--sm)}.ins-c-pie-chart__legend .pf-c-chart{top:var(--pf-global--spacer--sm);left:var(--pf-global--spacer--md)}\n\n}"],sourceRoot:""}]);const l=c},56296:(e,t,a)=>{"use strict";var s=a(93379),n=a.n(s),r=a(22474),c=n()(r.default,{insert:"head",singleton:!1});if(!r.default.locals||e.hot.invalidate){var l=r.default.locals;e.hot.accept(22474,(t=>{r=a(22474),function(e,t,a){if(!e&&t||e&&!t)return!1;var s;for(s in e)if(e[s]!==t[s])return!1;for(s in t)if(!e[s])return!1;return!0}(l,r.default.locals)?(l=r.default.locals,c(r.default)):e.hot.invalidate()}))}e.hot.dispose((function(){c()})),r.default.locals}}]);
//# sourceMappingURL=../sourcemaps/4988.30d06ee68e9aae200a69.js.map