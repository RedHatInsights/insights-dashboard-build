(self.webpackChunkinsights_dashboard=self.webpackChunkinsights_dashboard||[]).push([[6482],{62394:(e,t,a)=>{"use strict";a.d(t,{e:()=>l});var n=a(65353),r=a(32747),i=a(54918),c=a(38296);const l=e=>{var{children:t,className:a,component:l="div",isFilled:s=!0}=e,o=(0,n._T)(e,["children","className","component","isFilled"]);const d=l;return r.createElement(d,Object.assign({className:(0,c.i)(i.Z.cardBody,!s&&i.Z.modifiers.noFill,a)},o),t)};l.displayName="CardBody"},68774:(e,t,a)=>{"use strict";a.d(t,{D:()=>l});var n=a(65353),r=a(32747),i=a(62873),c=a(38296);const l=e=>{var{children:t,className:a="",isVisited:l=!1}=e,s=(0,n._T)(e,["children","className","isVisited"]);return r.createElement("div",Object.assign({},s,{className:(0,c.i)(i.Z.content,l&&i.Z.modifiers.visited,a)}),t)};l.displayName="TextContent"},62873:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n}),a(10108);const n={content:"pf-v5-c-content",modifiers:{visited:"pf-m-visited",plain:"pf-m-plain"}}},33818:(e,t,a)=>{"use strict";a.d(t,{u:()=>u});var n=a(45987),r=a(10310),i=a(95665),c=a(20243),l=a(32747),s=a.n(l),o=a(45697),d=a.n(o),m=["index"],u=function(e){var t=e.ariaDesc,a=e.ariaTitle,l=e.constrainToVisibleArea,o=e.data,d=e.legendData,u=e.padding,f=e.height,p=e.width,g=e.legendOrientation,v=e.colorScale,h=e.legend,b=e.legendWidth,E=e.legendHeight,y=e.legendClick,_=function(e){var t=e.index,i=(0,n.Z)(e,m);return s().createElement("a",{id:"".concat(a.toLowerCase().replace(/\s/g,"-"),"-legend-").concat(t+1),href:y[t],className:"pf-v5-c-button pf-m-link pf-m-inline"},s().createElement(r.D,i))};return s().createElement("div",{className:"insd-c-pie-chart__row"},s().createElement("div",{style:{width:p,height:f,position:"relative"}},s().createElement(c.T,{ariaDesc:t,ariaTitle:a,constrainToVisibleArea:l,data:o,height:f,labels:function(e){var t=e.datum;return"".concat(t.x,": ").concat(t.y)},padding:u,width:p,colorScale:v}),s().createElement("table",{tabIndex:"0",className:"visually-hidden","aria-label":a+" data"},s().createElement("tbody",null,o.map((function(e,t){return[s().createElement("tr",{key:t},s().createElement("td",null,e.y),s().createElement("td",null,e.x))]}))))),h&&s().createElement("div",{className:"insd-c-pie-chart__legend","aria-label":"Chart legend",style:{width:b,height:E}},s().createElement(i.Q,{height:E,width:b,fontSize:14,data:d,rowGutter:{top:-5,bottom:-5},orientation:g,labelComponent:y&&s().createElement(_,null)})))};u.propTypes={ariaDesc:d().string,ariaTitle:d().string,constrainToVisibleArea:d().bool,data:d().array,legendData:d().array,padding:d().object,height:d().number,width:d().number,legendOrientation:d().string,colorScale:d().array,legend:d().bool,legendWidth:d().number,legendHeight:d().number,legendClick:d().any}},74183:(e,t,a)=>{"use strict";a.d(t,{M:()=>m});var n=a(87462),r=a(45987),i=a(32203),c=a(32747),l=a.n(c),s=a(45697),o=a.n(s),d=["className","children"],m=function(e){var t=e.className,a=e.children,c=(0,r.Z)(e,d);return l().createElement(i.Z,(0,n.Z)({className:"insd-c-dashboard-compound-card insd-c-dashboard__card ".concat(t)},c),a)};m.propTypes={children:o().any,className:o().string}},15006:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>V});var n=a(4942),r=a(70885),i=a(57149),c=a(75824),l=a(68774),s=a(47173),o=a(15627),d=a(32203),m=a(70),u=a(38779),f=a(62394),p=a(28191),g=a(92298),v=a(32747),h=a.n(v),b=a(59303),E=a(98756);const y="#bee1f4",_="#73bcf7",N="#2b9af3",Z="#06c";var k=a(96191),S=a(65422),C=a(74183),x=a(43047),w=a(10358),j=a(37486),D=a(91727),O=a(46891),I=a(33818),M=a(66794),A=a(30893),T=a(86896),P=a(92397);function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const V=function(){var e,t,a,n=[y,_,N,Z],J=(0,T.Z)(),V=(0,v.useState)([]),F=(0,r.Z)(V,2),H=F[0],L=F[1],B=(0,v.useState)([]),R=(0,r.Z)(B,2),W=R[0],G=R[1],Q=(0,v.useState)(),$=(0,r.Z)(Q,2),q=$[0],K=$[1],U=(0,S.I0)(),X=(0,S.v9)((function(e){return e.DashboardStore.advisorStatsRecs})),Y=(0,S.v9)((function(e){return e.DashboardStore.advisorStatsRecsStatus})),ee=(0,S.v9)((function(e){return e.DashboardStore.advisorIncidents})),te=(0,S.v9)((function(e){return e.DashboardStore.advisorIncidentsStatus})),ae=(0,S.v9)((function(e){return e.DashboardStore.selectedTags})),ne=(0,S.v9)((function(e){return e.DashboardStore.workloads})),re=(0,S.v9)((function(e){return e.DashboardStore.SID})),ie="&reports_shown=true&impacting=true&offset=0&limit=10".concat(null!=ae&&ae.length?"&tags=".concat(null==ae?void 0:ae.join()):"").concat(null!=ne&&ne.SAP?"&sap_system=true":"").concat(null!=re&&re.length?"&sap_sids=".concat(null==re?void 0:re.join()):""),ce=function(e){return"/recommendations?sort=-total_risk&total_risk=".concat(e).concat(ie)},le=W.map((function(e){return{name:"".concat(e.y," ").concat(e.x," "),fill:"".concat(e.fill),url:"/recommendations?sort=-category&category=".concat(e.value).concat(ie)}}));return(0,v.useEffect)((function(){var e=z(z({},(0,E.Rm)(ne,re)),(null==ae?void 0:ae.length)>0&&{tags:ae});!function(e){U(i.$i(e))}(e),function(e){U(i.l5(e))}(e),function(e){U(i.ag(e))}(e)}),[ae,ne,re,U]),(0,v.useEffect)((function(){if("fulfilled"===Y){var e=X.total_risk,t=X.category,a=t.Stability+t.Availability+t.Performance+t.Security;L([{title:"".concat((0,E.kC)(J.formatMessage(A.Z.critical))," "),risk:"".concat(e[b.eJ.critical]),value:b.eJ.critical},{title:"".concat((0,E.kC)(J.formatMessage(A.Z.important))," "),risk:"".concat(e[b.eJ.important]),value:b.eJ.important},{title:"".concat((0,E.kC)(J.formatMessage(A.Z.moderate))," "),risk:"".concat(e[b.eJ.moderate]),value:b.eJ.moderate},{title:"".concat((0,E.kC)(J.formatMessage(A.Z.low))," "),risk:"".concat(e[b.eJ.low]),value:b.eJ.low}]),G([{x:J.formatMessage(A.Z.availability,{count:t.Availability}),y:t.Availability,fill:n[0],value:1},{x:J.formatMessage(A.Z.stability,{count:t.Stability}),y:t.Stability,fill:n[1],value:3},{x:J.formatMessage(A.Z.performance,{count:t.Performance}),y:t.Performance,fill:n[2],value:4},{x:J.formatMessage(A.Z.security,{count:t.Security}),y:t.Security,fill:n[3],value:2}]),K(0===a?[k.J.value]:n)}}),[X,Y]),h().createElement(C.M,{className:"insd-c-dashboard-card-parent insd-c-dashboard__card--compound--Advisor"},"pending"===te||"pending"===Y&&h().createElement(O.Z,null),"rejected"===te?h().createElement(M.jA,null,h().createElement(j.Z,{appName:"Advisor"})):h().createElement(h().Fragment,null,h().createElement(w.t,{appName:"Advisor",className:"insd-m-toggle-right-on-md",title:J.formatMessage(A.Z.advisorCardHeader1),isExpanded:JSON.parse(localStorage.getItem("dashboard_expanded_advisor1")||"true"),isExpandedCallback:function(e){return localStorage.setItem("dashboard_expanded_advisor1",e)},body:h().createElement(M.jA,{className:"ins-c-advisor-recs__card-body pf-v5-u-pb-2xl"},h().createElement(p.k,{direction:{default:"column"},alignItems:{default:"alignItemsCenter"}},h().createElement(g.B,null,h().createElement(p.k,{alignItems:{default:"alignItemsFlexCenter"},justifyContent:{default:"justifyContentCenter"}},(null==ee||null===(e=ee.meta)||void 0===e?void 0:e.count)>0&&h().createElement(x.ZP,{className:"pf-v5-u-font-size-xl pf-v5-u-danger-color-100"}),h().createElement("span",{className:"pf-v5-u-font-size-2xl pf-v5-u-text-align-center pf-v5-u-font-weight-normal"},J.formatMessage(A.Z.incidents,{incidents:null==ee||null===(t=ee.meta)||void 0===t?void 0:t.count}))),h().createElement(l.D,{className:"insd-c-width-limiter pf-v5-u-text-align-center",style:{"--insd-c-width-limiter--MaxWidth":"34ch"}},h().createElement("p",{className:"pf-v5-u-font-size-md pf-v5-u-text-center"},J.formatMessage(A.Z.advisorCardMessage)))),h().createElement(P.Z,{app:"advisor",to:"/recommendations?reports_shown=true&impacting=true&offset=0&limit=10&sort=-publish_date&incident=true"},h().createElement(s.zx,{variant:"secondary",size:"sm"},J.formatMessage(A.Z.advisorCardCTA)))))}),h().createElement(o.i,{inset:{md:"insetLg"}}),h().createElement(w.t,{appName:"advisor-recommendation-by-total-risk",className:"insd-m-toggle-right-on-md",title:h().createElement(p.k,{flexWrap:{default:"nowrap"}},h().createElement("h3",null,J.formatMessage(A.Z.advisorCardHeader2)),(a=J.formatMessage(A.Z.totalRiskDef,{strong:function(e){return h().createElement("strong",null,e)}}),h().createElement(c.u,{key:a,position:c.D.top,content:h().createElement("div",null,a)},h().createElement("span",{"aria-label":"Action",className:"insd-c-info-icon"},h().createElement(D.Z,null))))),isExpanded:JSON.parse(localStorage.getItem("dashboard_expanded_advisor2")||"true"),isExpandedCallback:function(e){return localStorage.setItem("dashboard_expanded_advisor2",e)},body:h().createElement(M.jA,{className:"ins-c-advisor-recs__card-body pf-v5-u-pb-0"},h().createElement(p.k,{justifyContent:{default:"justifyContentCenter"},spaceItems:{default:"spaceItemsLg",sm:"spaceItems2xl"}},H.map((function(e){var t=e.title,a=e.risk,n=e.value;return h().createElement(P.Z,{key:t,app:"advisor",to:ce(n)},h().createElement(p.k,{direction:{default:"column"},spaceItems:{default:"spaceItemsNone"},alignItems:{default:"alignItemsCenter"}},h().createElement("span",{className:"pf-v5-u-font-size-2xl pf-v5-u-color-100 pf-v5-u-font-weight-normal"},a),h().createElement("span",{className:"pf-v5-u-font-size-sm"},t)))}))),h().createElement(d.Z,{component:"div"},h().createElement(m.l,null,h().createElement(u.D,{headingLevel:"h4",size:"lg"},J.formatMessage(A.Z.advisorCardHeader3))),h().createElement(f.e,{className:"pf-v5-u-pt-sm"},h().createElement(p.k,{direction:{default:"column"},spaceItems:{default:"spaceItemsLg"}},h().createElement("div",{className:"insd-c-dashboard__card-chart-container"},h().createElement("div",{className:"insd-c-dashboard__card-pie-chart"},h().createElement(I.u,{ariaDesc:"Advisor Category pie chart",ariaTitle:"Advisor Category pie chart",constrainToVisibleArea:!0,data:W,colorScale:q,padding:{bottom:0,left:0,right:0,top:0}})),h().createElement("div",{className:"insd-c-dashboard__card-pie-chart-legend"},h().createElement("div",{className:"insd-c-legend insd-m-2-col"},le.map((function(e){return h().createElement(P.Z,{key:e.url,app:"advisor",to:e.url,className:"insd-c-legend__item"},h().createElement("span",{className:"insd-c-legend__dot",style:{"--insd-c-legend__dot--BackgroundColor":"".concat(e.fill)}}),h().createElement("span",{className:"insd-c-legend__text"},e.name))})))))))))})))}},45467:()=>{},10108:()=>{},49854:()=>{}}]);
//# sourceMappingURL=../sourcemaps/6482.8c93bb09fe5e5dd206657c9c66dfa653.js.map