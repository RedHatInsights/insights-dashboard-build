(self.webpackChunkinsights_dashboard=self.webpackChunkinsights_dashboard||[]).push([[6077],{35293:(e,t,r)=>{"use strict";r.d(t,{i:()=>o});var a=r(70655),s=r(93264),i=r(38296),n=r(51203);const o=e=>{var{children:t=null,className:r=""}=e,o=(0,a._T)(e,["children","className"]);return s.createElement("div",Object.assign({className:(0,i.i)(n.Z.emptyStateSecondary,r)},o),t)};o.displayName="EmptyStateSecondaryActions"},59129:(e,t,r)=>{"use strict";r.d(t,{E:()=>u,L:()=>a});var a,s=r(70655),i=r(93264),n=r(40619),o=r(38296),l=r(43314),c=r(80164);!function(e){e.sm="sm",e.md="md",e.lg="lg"}(a||(a={}));class u extends i.Component{constructor(){super(...arguments),this.id=this.props.id||(0,c.Ki)()}render(){const e=this.props,{id:t,size:r,className:c,value:u,title:d,label:p,variant:m,measureLocation:g,min:f,max:b,valueText:h,isTitleTruncated:v,tooltipPosition:P,"aria-label":E,"aria-labelledby":y,helperText:T}=e,O=(0,s._T)(e,["id","size","className","value","title","label","variant","measureLocation","min","max","valueText","isTitleTruncated","tooltipPosition","aria-label","aria-labelledby","helperText"]),S={"aria-valuemin":f,"aria-valuenow":u,"aria-valuemax":b};(d||y)&&(S["aria-labelledby"]=d?`${this.id}-description`:y),E&&(S["aria-label"]=E),h&&(S["aria-valuetext"]=h),d||y||E||console.warn("One of aria-label or aria-labelledby properties should be passed when using the progress component without a title.");const z=Math.min(100,Math.max(0,Math.floor((u-f)/(b-f)*100)))||0;return i.createElement("div",Object.assign({},O,{className:(0,o.i)(n.Z.progress,n.Z.modifiers[m],["inside","outside"].includes(g)&&n.Z.modifiers[g],"inside"===g?n.Z.modifiers[a.lg]:n.Z.modifiers[r],!d&&n.Z.modifiers.singleline,c),id:this.id}),i.createElement(l.p1,{parentId:this.id,value:z,title:d,label:p,variant:m,measureLocation:g,progressBarAriaProps:S,isTitleTruncated:v,tooltipPosition:P,helperText:T}))}}u.displayName="Progress",u.defaultProps={className:"",measureLocation:l.nK.top,variant:null,id:"",title:"",min:0,max:100,size:null,label:null,value:0,valueText:null,isTitleTruncated:!1,tooltipPosition:"top","aria-label":null,"aria-labelledby":null}},53297:(e,t,r)=>{"use strict";r.d(t,{k:()=>o});var a=r(70655),s=r(93264),i=r(40619),n=r(38296);const o=e=>{var{progressBarAriaProps:t,className:r="",children:o=null,value:l}=e,c=(0,a._T)(e,["progressBarAriaProps","className","children","value"]);return s.createElement("div",Object.assign({},c,{className:(0,n.i)(i.Z.progressBar,r)},t),s.createElement("div",{className:(0,n.i)(i.Z.progressIndicator),style:{width:`${l}%`}},s.createElement("span",{className:(0,n.i)(i.Z.progressMeasure)},o)))};o.displayName="ProgressBar"},43314:(e,t,r)=>{"use strict";r.d(t,{p1:()=>b,nK:()=>m,n9:()=>g});var a=r(93264),s=r(40619),i=r(38296),n=r(75824),o=r(68778),l=r(72781),c=r(69957),u=r(53297),d=r(70655);const p=e=>{var{children:t}=e,r=(0,d._T)(e,["children"]);return a.createElement("div",Object.assign({className:s.Z.progressHelperText},r),t)};var m,g;p.displayName="ProgressHelperText",function(e){e.outside="outside",e.inside="inside",e.top="top",e.none="none"}(m||(m={})),function(e){e.danger="danger",e.success="success",e.warning="warning"}(g||(g={}));const f={danger:l.ZP,success:o.ZP,warning:c.ZP},b=({progressBarAriaProps:e,value:t,title:r="",parentId:o,label:l=null,variant:c=null,measureLocation:d=m.top,isTitleTruncated:g=!1,tooltipPosition:b,helperText:h})=>{const v=f.hasOwnProperty(c)&&f[c],[P,E]=a.useState(""),y=a.createElement("div",{className:(0,i.i)(s.Z.progressDescription,g&&"string"==typeof r&&s.Z.modifiers.truncate),id:`${o}-description`,"aria-hidden":"true",onMouseEnter:g&&"string"==typeof r?e=>{e.target.offsetWidth<e.target.scrollWidth?E(r||e.target.innerHTML):E("")}:null},r);return a.createElement(a.Fragment,null,P?a.createElement(n.u,{position:b,content:P,isVisible:!0},y):y,a.createElement("div",{className:(0,i.i)(s.Z.progressStatus),"aria-hidden":"true"},(d===m.top||d===m.outside)&&a.createElement("span",{className:(0,i.i)(s.Z.progressMeasure)},l||`${t}%`),f.hasOwnProperty(c)&&a.createElement("span",{className:(0,i.i)(s.Z.progressStatusIcon)},a.createElement(v,null))),a.createElement(u.k,{role:"progressbar",progressBarAriaProps:e,value:t},d===m.inside&&`${t}%`),h&&a.createElement(p,null,h))};b.displayName="ProgressContainer"},68778:(e,t,r)=>{"use strict";r.d(t,{GR:()=>s,ZP:()=>n,rE:()=>i});var a=r(40400);const s={name:"CheckCircleIcon",height:512,width:512,svgPath:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z",yOffset:0,xOffset:0},i=(0,a.IU)(s),n=i},80810:(e,t,r)=>{"use strict";r.d(t,{W1:()=>i,ZP:()=>n,xQ:()=>s});var a=r(40400);const s={name:"SearchIcon",height:512,width:512,svgPath:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z",yOffset:0,xOffset:0},i=(0,a.IU)(s),n=i},72781:(e,t,r)=>{"use strict";r.d(t,{B9:()=>s,ZP:()=>n,xD:()=>i});var a=r(40400);const s={name:"TimesCircleIcon",height:512,width:512,svgPath:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z",yOffset:0,xOffset:0},i=(0,a.IU)(s),n=i},40619:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a}),r(37739);const a={modifiers:{sm:"pf-m-sm",lg:"pf-m-lg",inside:"pf-m-inside",outside:"pf-m-outside",staticWidth:"pf-m-static-width",singleline:"pf-m-singleline",success:"pf-m-success",warning:"pf-m-warning",danger:"pf-m-danger",truncate:"pf-m-truncate"},progress:"pf-c-progress",progressBar:"pf-c-progress__bar",progressDescription:"pf-c-progress__description",progressHelperText:"pf-c-progress__helper-text",progressIndicator:"pf-c-progress__indicator",progressMeasure:"pf-c-progress__measure",progressStatus:"pf-c-progress__status",progressStatusIcon:"pf-c-progress__status-icon",themeDark:"pf-theme-dark"}},48320:(e,t,r)=>{"use strict";r.d(t,{Z:()=>b});var a=r(9947),s=r(38424),i=r(75106),n=r(47173),o=r(45697),l=r.n(o),c=r(93264),u=r.n(c),d=r(80810),p=r(38779),m=r(30893),g=r(86896),f=function(e){var t=e.href,r=e.title,o=e.appName,l=(0,g.Z)();return u().createElement(a.u,null,u().createElement(s.k,{className:"fontSizeOverride",icon:d.ZP}),u().createElement(p.D,{headingLevel:"h4",size:"md"},r," "),u().createElement(i.B,null,l.formatMessage("Vulnerability"!==o?m.Z.functionalityNotSupported:m.Z.filteredResultsInApp,{appname:u().createElement(n.zx,{component:"a",href:t,variant:"link",isInline:!0},o)})))};f.propTypes={appName:l().string,href:l().string,title:l().string};const b=f},52953:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>j});var a=r(98152),s=r(57149),i=r(9947),n=r(75106),o=r(59303),l={CORES:"cores",DATE:"date",SOCKETS:"sockets",HAS_DATA:"has_data",HAS_INFINITE:"has_infinite_quantity"},c="SUBSCRIPTIONS1004",u={APP:"".concat(o.Pu,"/subscriptions/rhel"),RHEL:"".concat(o.Pu,"/subscriptions/rhel"),OPENSHIFT:"".concat(o.wG,"/subscriptions/openshift-container")},d=r(93264),p=r.n(d),m=r(75824),g=r(4942);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,g.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.map((function(e){var r={};return(Array.isArray(e)&&e||Object.values(e)).forEach((function(e){r[e]=t})),r}))},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,s=e.reverse(),i=t.reverse(),n={},o=null,c=h([l]),u=(0,a.Z)(c,1),d=u[0],p=void 0===d?{}:d,m=s.find((function(e,t){return o=t,!0===e[l.HAS_DATA]}));if(m){var g=m[l.DATE];(n={date:g,report:b(b({},p),m),capacity:b(b({},p),i[o]),percentage:void 0}).report=n.report[r],n.capacity=n.capacity[l.HAS_INFINITE]?null:n.capacity[r];var f=null===n.capacity?null:(n.report||0)/(n.capacity||0)*100;Number.isNaN(f)&&(f=0),f===1/0&&(f=void 0),"number"==typeof f&&(f=Math.ceil(f)),n.percentage=f}return n},P=r(98756),E=r(37524),y=r(47173),T=r(35293),O=r(10358),S=r(37486),z=r(48320),Z=r(33042),w=r.n(Z),N=r(46891),U=r(59129),_=r(43314),D=r(45697),I=r.n(D),M=function(e){var t=e.distance,r=e.label,a=e.value,s=e.title,i=e.variant;return p().createElement(U.E,{distance:t,label:r,value:a,title:s,size:U.L.sm,variant:"danger"===i&&_.n9.danger})};M.propTypes={distance:I().number,label:I().string,value:I().number,title:I().string,variant:I().string};var x=r(66794),k=r(28216),A=r(30893),C=r(86896),F=function(e){var t=e.subscriptionsUtilizedProductOne,r=e.subscriptionsUtilizedProductOneFetch,s=e.subscriptionsUtilizedProductOneFetchStatus,o=e.subscriptionsUtilizedProductTwo,g=e.subscriptionsUtilizedProductTwoFetch,f=e.subscriptionsUtilizedProductTwoFetchStatus,b=e.workloads,h=e.selectedTags,Z=e.SID,U=(0,d.useState)([]),_=(0,a.Z)(U,2),D=_[0],I=_[1],k=(0,C.Z)();(0,d.useEffect)((function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return"string"==typeof e&&(e=new Date(e)),{startDate:new Date(new Date(e.setUTCHours(0,0,0,0)).setUTCDate(e.getUTCDate()-t)),endDate:new Date(e.setUTCHours(23,59,59,999))}}(),t=e.startDate,a=e.endDate,s={granularity:"daily",beginning:t.toISOString(),ending:a.toISOString()};r("OpenShift Container Platform",s),g("RHEL",s)}),[r,g]),(0,d.useEffect)((function(){var e={productError:!1,productOptIn:!1,productOne:{},productTwo:{}};if("fulfilled"===s||"fulfilled"===f){var r=w().asMutable(t,{deep:!0})||[],i=(0,a.Z)(r,2),n=i[0],u=void 0===n?{}:n,d=i[1],p=void 0===d?{}:d,m=w().asMutable(o,{deep:!0})||[],g=(0,a.Z)(m,2),b=g[0],h=void 0===b?{}:b,P=g[1],E=void 0===P?{}:P;e.productOne=v(u.data,p.data,l.CORES),e.productTwo=v(h.data,E.data,l.SOCKETS)}if("rejected"===s&&"rejected"===f){var y,T,O=(null===(y=t.data)||void 0===y?void 0:y.errors)||[],S=(0,a.Z)(O,1)[0],z=void 0===S?{}:S,Z=(null===(T=t.data)||void 0===T?void 0:T.errors)||[],N=(0,a.Z)(Z,1)[0],U=void 0===N?{}:N;e.productError=!0,e.productOptIn=z.code===c&&U.code===c}I(e)}),[t,o,s,f]);var F=D.productError,j=D.productOptIn,L=D.productOne,H=void 0===L?{}:L,B=D.productTwo,R=void 0===B?{}:B,$=p().createElement("ul",null,p().createElement("li",null,k.formatMessage(A.Z.subscriptionsUtilizedProductTwoReport,{totalReport:R.report})),p().createElement("li",null,k.formatMessage(A.Z.subscriptionsUtilizedProductCapacity,{totalCapacity:R.capacity})),p().createElement("li",null,k.formatMessage(A.Z.subscriptionsUtilizedProductDate,{formattedDate:p().createElement(E.DateFormat,{type:"exact",date:R.date})}))),K=p().createElement("ul",null,p().createElement("li",null,k.formatMessage(A.Z.subscriptionsUtilizedProductOneReport,{totalReport:H.report})),p().createElement("li",null,k.formatMessage(A.Z.subscriptionsUtilizedProductCapacity,{totalCapacity:H.capacity})),p().createElement("li",null,k.formatMessage(A.Z.subscriptionsUtilizedProductDate,{formattedDate:p().createElement(E.DateFormat,{type:"exact",date:H.date})}))),W=[],G=function(e){var t=e.fetchStatus,r=e.percentage,a=e.title,s=e.tooltip,i=e.link;switch(t){case"pending":W.push(p().createElement(N.Z,{key:"su-loading-".concat(a)}));break;case"fulfilled":null!=r&&W.push(p().createElement(m.u,{key:"su-tooltip-".concat(a),content:s,position:m.D.top,distance:-10,entryDelay:200},p().createElement(y.zx,{className:"insd-c-subscriptions-utilized__chart-link",variant:"link",href:i,component:"a"},p().createElement(M,{title:a,value:r,label:"".concat(r,"%"),variant:r>100?"danger":"info"}))))}};return G({fetchStatus:f,percentage:R.percentage,title:k.formatMessage(A.Z.subscriptionsUtilizedProductTwoTitle),tooltip:$,link:u.RHEL}),G({fetchStatus:s,percentage:H.percentage,title:k.formatMessage(A.Z.subscriptionsUtilizedProductOneTitle),tooltip:K,link:u.OPENSHIFT}),H.percentage>R.percentage&&H.percentage>100&&W.reverse(),p().createElement(O.t,{appName:"SubscriptionsUtilized",className:"insd-m-toggle-right-on-md",title:k.formatMessage(A.Z.subscriptionsUtilizedTitle),isExpanded:JSON.parse(localStorage.getItem("dashboard_expanded_subwatch")||"true"),isExpandedCallback:function(e){return localStorage.setItem("dashboard_expanded_subwatch",e)},body:p().createElement(x.jA,null,(0,P.PF)(h,b,Z)?p().createElement(p().Fragment,null,j&&p().createElement(i.u,{className:"insd-c-subscriptions-utilized__empty-state",variant:i.I.full},p().createElement(n.B,null,k.formatMessage(A.Z.subscriptionsUtilizedLearnMore)),p().createElement(T.i,null,p().createElement(y.zx,{className:"insd-c-subscriptions-utilized__app-link",variant:"link",href:u.APP,component:"a"},k.formatMessage(A.Z.subscriptionsUtilizedLearnMoreAction))))||F&&p().createElement(S.Z,{appName:k.formatMessage(A.Z.subscriptionsUtilizedTitle),isSmall:!0})||!W.length&&p().createElement(i.u,{className:"insd-c-subscriptions-utilized__empty-state",variant:i.I.full},p().createElement(n.B,null,k.formatMessage(A.Z.subscriptionsUtilizedNoProductData)))||W):p().createElement(z.Z,{href:u.APP,title:k.formatMessage(A.Z.filterNotApplicable),appName:k.formatMessage(A.Z.subscriptionsTitle)}))})};F.propTypes={intl:I().any,subscriptionsUtilizedProductOne:I().array,subscriptionsUtilizedProductOneFetch:I().func,subscriptionsUtilizedProductOneFetchStatus:I().string,subscriptionsUtilizedProductTwo:I().array,subscriptionsUtilizedProductTwoFetch:I().func,subscriptionsUtilizedProductTwoFetchStatus:I().string,selectedTags:I().array,workloads:P.ib,SID:I().arrayOf(I().string)};const j=(0,k.$j)((function(e){var t=e.DashboardStore;return{subscriptionsUtilizedProductOne:t.subscriptionsUtilizedProductOne,subscriptionsUtilizedProductOneFetchStatus:t.subscriptionsUtilizedProductOneFetchStatus,subscriptionsUtilizedProductTwo:t.subscriptionsUtilizedProductTwo,subscriptionsUtilizedProductTwoFetchStatus:t.subscriptionsUtilizedProductTwoFetchStatus,selectedTags:t.selectedTags,workloads:t.workloads,SID:t.SID}}),(function(e){return{subscriptionsUtilizedProductOneFetch:function(t,r){return e(s.hW(t,r))},subscriptionsUtilizedProductTwoFetch:function(t,r){return e(s._z(t,r))}}}))(F)},45467:()=>{},37739:()=>{},49854:()=>{}}]);
//# sourceMappingURL=../sourcemaps/6077.f99211c07fb37f4b9465bcc45d158838.js.map