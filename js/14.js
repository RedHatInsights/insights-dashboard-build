(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{1213:function(t,e,a){"use strict";a.r(e);a(811);var n=a(806),s={critical:4,important:3,moderate:2,low:1},r=a(2),o=a.n(r),i=a(682),c=a(731),l=a(1),d=a.n(l),m=a(1239),u=a(1250),f=a(1245),v=a(1246),p=a(1247),S=a(1251),h=a(820),y=a(37),b=function(t){return t[0].toUpperCase()+t.substring(1)},g=a(45),E=a(699),w=function(t){var e=t.data,a=t.intl,n=[{name:a.formatMessage(E.a.critical),y:e[s.critical]},{name:a.formatMessage(E.a.important),y:e[s.important]},{name:a.formatMessage(E.a.moderate),y:e[s.moderate]},{name:a.formatMessage(E.a.low),y:e[s.low]}],r=[h.d.value,h.c.value,h.b.value,h.a.value],i=n.map((function(t){return{name:"".concat(t.y," ").concat(b(t.name)),symbol:{type:null}}}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(u.a,{ariaDesc:"Advisor recommendations by severity",ariaTitle:"Advisor recommendations by severity",padding:{left:0,right:0,bottom:0,top:0},width:600,height:40,maxWidth:600},o.a.createElement(f.a,{axisComponent:o.a.createElement(o.a.Fragment,null)}),o.a.createElement(v.a,{horizontal:!0,colorScale:r},n.map((function(t){return o.a.createElement(p.a,{key:t,barWidth:22,labelComponent:o.a.createElement(m.a,{text:function(t){var e=t.datum;return"".concat(b(e.name),": ").concat(e.y)},constrainToVisibleArea:!0}),data:[{name:t.name,y:t.y,x:1,label:t.name}]})})))),o.a.createElement("span",{className:"stackChartLegend"},o.a.createElement(S.a,{data:i,responsive:!1,height:36,width:600,fontSize:14,events:[{target:"labels",eventHandlers:{onClick:function(){return[{target:"labels",mutation:function(t){var e=t.datum.name.split(" ")[1].toLowerCase();window.location.href="".concat(y.m,"/advisor/recommendations?total_risk=").concat(s[e],"&reports_shown=true&impacting=true&offset=0&limit=10")}}]},onMouseOver:function(){return[{mutation:function(t){return{style:Object.assign({},t.style,{cursor:"pointer"})}}}]}}}],orientation:"horizontal",colorScale:r})))};w.propTypes={data:d.a.object,intl:d.a.any};var _=Object(g.c)(w),F=a(155),I=a(760),k=function(t){var e=t.recStats,a=t.recStatsStatus,n=t.advisorFetchStatsRecs,s=t.advisorFetchStatsSystems,l=t.advisorIncidents,d=t.advisorIncidentsStatus,m=t.advisorFetchIncidents,u=t.systemsStats,f=t.systemsStatsStatus,v=t.intl;return Object(r.useEffect)((function(){n(),s(),m()}),[m,n,s]),o.a.createElement(i.a,{appName:"Advisor"},o.a.createElement(i.e,{title:"Advisor recommendations"}),o.a.createElement(i.c,null,"fulfilled"!==d?o.a.createElement(c.a,null):o.a.createElement(I.a,{data:l.meta.count,dataSize:"md",layout:"horizontal",linkDescription:v.formatMessage(E.a.incidentsDetected,{incidents:l.meta.count}),critical:l.meta.count>50?"true":"false",link:"".concat(y.m).concat("/advisor/recommendations?reports_shown=undefined&impacting=false&offset=0&limit=10&sort=-publish_date&incident=true")}),"fulfilled"!==a?o.a.createElement(c.a,null):o.a.createElement(_,{data:e.total_risk}),"fulfilled"!==f?o.a.createElement(c.a,null):o.a.createElement(o.a.Fragment,null,o.a.createElement("a",{href:"".concat(y.m).concat("/advisor/recommendations?reports_shown=undefined&impacting=false&offset=0&limit=10&sort=-publish_date")},v.formatMessage(E.a.recsImpactingSystems,{totalRecs:e.total,systems:u.total})))))};k.propTypes={advisorFetchStatsRecs:d.a.func,recStats:d.a.object,recStatsStatus:d.a.string,advisorFetchStatsSystems:d.a.func,systemsStats:d.a.object,systemsStatsStatus:d.a.string,advisorIncidents:d.a.object,advisorIncidentsStatus:d.a.string,advisorFetchIncidents:d.a.func,intl:d.a.any};e.default=Object(g.c)(Object(F.connect)((function(t){var e=t.DashboardStore;return{recStats:e.advisorStatsRecs,recStatsStatus:e.advisorStatsRecsStatus,systemsStats:e.advisorStatsSystems,systemsStatsStatus:e.advisorStatsSystemsStatus,advisorIncidents:e.advisorIncidents,advisorIncidentsStatus:e.advisorIncidentsStatus}}),(function(t){return{advisorFetchStatsRecs:function(e){return t(n.b(e))},advisorFetchStatsSystems:function(e){return t(n.c(e))},advisorFetchIncidents:function(e){return t(n.a(e))}}}))(k))},766:function(t,e,a){(e=a(7)(!1)).push([t.i,".ins-c-dashboard__card--Advisor .pf-c-chart{top:0}.ins-c-dashboard__card--Advisor .stackChartLegend{left:-9px;position:relative}.ins-c-dashboard__card--Advisor a{font-size:small}\n",""]),t.exports=e},811:function(t,e,a){var n=a(8),s=a(766);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[t.i,s,""]]);var r={insert:"head",singleton:!1},o=n(s,r),i=s.locals?s.locals:{};s.locals||t.hot.accept(766,(function(){var e=a(766);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[t.i,e,""]]),o(e)})),t.hot.dispose((function(){o()})),t.exports=i}}]);
//# sourceMappingURL=14.js.map