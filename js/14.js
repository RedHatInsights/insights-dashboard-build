(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{1219:function(t,e,a){"use strict";a.r(e);a(826);var n=a(820),s={critical:4,important:3,moderate:2,low:1},r=a(2),c=a.n(r),o=a(704),i=a(197),l=a.n(i),m=a(744),u=a(1),d=a.n(u),f=a(1246),p=a(1257),v=a(1252),S=a(1253),y=a(1254),h=a(1258);const g="#f4c145",b="#f0ab00",E="#ec7a08",_="#a30000";var w=a(37),F=function(t){return t[0].toUpperCase()+t.substring(1)},I=a(46),j=a(777),M=function(t){var e=t.data,a=t.intl,n=[{name:a.formatMessage(j.a.critical),y:e[s.critical]},{name:a.formatMessage(j.a.important),y:e[s.important]},{name:a.formatMessage(j.a.moderate),y:e[s.moderate]},{name:a.formatMessage(j.a.low),y:e[s.low]}],r=[_,E,b,g],o=n.map((function(t){return{name:"".concat(t.y," ").concat(F(t.name)),symbol:{type:null}}}));return c.a.createElement(c.a.Fragment,null,c.a.createElement(p.a,{ariaDesc:"Advisor recommendations by severity",ariaTitle:"Advisor recommendations by severity",padding:{left:0,right:0,bottom:0,top:0},width:600,height:40,maxWidth:600},c.a.createElement(v.a,{axisComponent:c.a.createElement(c.a.Fragment,null)}),c.a.createElement(S.a,{horizontal:!0,colorScale:r},n.map((function(t){return c.a.createElement(y.a,{key:t,barWidth:22,labelComponent:c.a.createElement(f.a,{text:function(t){var e=t.datum;return"".concat(F(e.name),": ").concat(e.y)},constrainToVisibleArea:!0}),data:[{name:t.name,y:t.y,x:1,label:t.name}]})})))),c.a.createElement("span",{className:"stackChartLegend"},c.a.createElement(h.a,{data:o,responsive:!1,height:36,width:600,fontSize:14,events:[{target:"labels",eventHandlers:{onClick:function(){return[{target:"labels",mutation:function(t){var e=t.datum.name.split(" ")[1].toLowerCase();window.location.href="".concat(w.m,"/advisor/recommendations?total_risk=").concat(s[e],"&reports_shown=true&impacting=true&offset=0&limit=10")}}]},onMouseOver:function(){return[{mutation:function(t){return{style:Object.assign({},t.style,{cursor:"pointer"})}}}]}}}],orientation:"horizontal",colorScale:r})))};M.propTypes={data:d.a.object,intl:d.a.any};var k=Object(I.c)(M),x=a(155),C=function(t){var e=t.recStats,a=t.recStatsStatus,n=t.advisorFetchStatsRecs,s=t.advisorFetchStatsSystems,i=t.advisorIncidents,u=t.advisorIncidentsStatus,d=t.advisorFetchIncidents,f=t.systemsStats,p=t.systemsStatsStatus,v=t.intl;return Object(r.useEffect)((function(){n(),s(),d()}),[d,n,s]),c.a.createElement(o.a,{appName:"Advisor"},c.a.createElement(o.f,{title:"Advisor recommendations"}),c.a.createElement(o.c,null,"fulfilled"!==u?c.a.createElement(m.a,null):c.a.createElement("div",{className:"ins-c-summary"},c.a.createElement(l.a,{className:"ins-c-summary__icon ins-c-summary__icon-critical"}),c.a.createElement("span",{className:"ins-c-summary__emphasis"},i.meta.count),c.a.createElement("span",{className:"ins-c-summary__label"},c.a.createElement("a",{href:"".concat(w.m).concat("/advisor/recommendations?reports_shown=undefined&impacting=false&offset=0&limit=10&sort=-publish_date&incident=true")},v.formatMessage(j.a.incidentsDetected,{incidents:i.meta.count})))),"fulfilled"!==a?c.a.createElement(m.a,null):c.a.createElement(k,{data:e.total_risk}),"fulfilled"!==p?c.a.createElement(m.a,null):c.a.createElement(c.a.Fragment,null,c.a.createElement("a",{href:"".concat(w.m).concat("/advisor/recommendations?reports_shown=undefined&impacting=false&offset=0&limit=10&sort=-publish_date")},v.formatMessage(j.a.recsImpactingSystems,{totalRecs:e.total,systems:f.total})))))};C.propTypes={advisorFetchStatsRecs:d.a.func,recStats:d.a.object,recStatsStatus:d.a.string,advisorFetchStatsSystems:d.a.func,systemsStats:d.a.object,systemsStatsStatus:d.a.string,advisorIncidents:d.a.object,advisorIncidentsStatus:d.a.string,advisorFetchIncidents:d.a.func,intl:d.a.any};e.default=Object(I.c)(Object(x.connect)((function(t){var e=t.DashboardStore;return{recStats:e.advisorStatsRecs,recStatsStatus:e.advisorStatsRecsStatus,systemsStats:e.advisorStatsSystems,systemsStatsStatus:e.advisorStatsSystemsStatus,advisorIncidents:e.advisorIncidents,advisorIncidentsStatus:e.advisorIncidentsStatus}}),(function(t){return{advisorFetchStatsRecs:function(e){return t(n.b(e))},advisorFetchStatsSystems:function(e){return t(n.c(e))},advisorFetchIncidents:function(e){return t(n.a(e))}}}))(C))},779:function(t,e,a){(e=a(7)(!1)).push([t.i,".pf-c-chart{top:0}.stackChartLegend{left:-9px;position:relative}a{font-size:small}\n",""]),t.exports=e},826:function(t,e,a){var n=a(8),s=a(779);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[t.i,s,""]]);var r={insert:"head",singleton:!1},c=n(s,r),o=s.locals?s.locals:{};s.locals||t.hot.accept(779,(function(){var e=a(779);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[t.i,e,""]]),c(e)})),t.hot.dispose((function(){c()})),t.exports=o}}]);
//# sourceMappingURL=14.js.map