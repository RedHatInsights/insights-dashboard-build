(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{1050:function(t,e,a){var s=a(8),n=a(779);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[t.i,n,""]]);var i={insert:"head",singleton:!1},c=s(n,i),r=n.locals?n.locals:{};n.locals||t.hot.accept(779,(function(){var e=a(779);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[t.i,e,""]]),c(e)})),t.hot.dispose((function(){c()})),t.exports=r},1257:function(t,e,a){"use strict";a.r(e);var s=a(281),n=a.n(s),i=(a(1050),a(772)),c={critical:4,important:3,moderate:2,low:1},r=a(2),o=a.n(r),d=a(693),l=a(731),u=a(1),m=a.n(u),f=a(19),S=a(156),v=a(45),p=a(703),h=a(771),g=a(1022),y=function(t){var e=t.recStats,a=t.recStatsStatus,s=t.advisorFetchStatsRecs,i=t.advisorFetchStatsSystems,u=t.advisorIncidents,m=t.advisorIncidentsStatus,S=t.advisorFetchIncidents,v=t.systemsStats,y=t.systemsStatsStatus,b=t.intl,_=Object(r.useState)([]),w=n()(_,2),E=w[0],I=w[1],F=Object(r.useCallback)((function(){if("fulfilled"===a){var t=e.total_risk,s=[{name:b.formatMessage(p.a.critical),y:t[c.critical]},{name:b.formatMessage(p.a.important),y:t[c.important]},{name:b.formatMessage(p.a.moderate),y:t[c.moderate]},{name:b.formatMessage(p.a.low),y:t[c.low]}];I(s)}}),[e,a,b]);Object(r.useEffect)((function(){s(),i(),S()}),[S,s,i]),Object(r.useEffect)((function(){F()}),[F]);return o.a.createElement(d.a,{appName:"Advisor"},o.a.createElement(d.e,{title:"Advisor recommendations"}),o.a.createElement(d.c,null,"fulfilled"!==m?o.a.createElement(l.a,null):o.a.createElement(h.a,{data:u.meta.count,dataSize:"md",layout:"horizontal",linkDescription:b.formatMessage(p.a.incidentsDetected,{incidents:u.meta.count}),critical:u.meta.count>50?"true":"false",link:"".concat(f.v).concat("/advisor/recommendations?reports_shown=undefined&impacting=false&offset=0&limit=10&sort=-publish_date&incident=true")}),"fulfilled"!==a?o.a.createElement(l.a,null):o.a.createElement(g.a,{ariaDesc:"CVEs impacting your systems",ariaTitle:"Vulnerabilities chart",height:40,width:600,maxWidth:600,legendHeight:36,legendWidth:600,data:E,legendClick:function(){return[{target:"labels",mutation:function(t){var e=t.datum.name.split(" ")[1].toLowerCase();window.location.href="".concat(f.v,"/advisor/recommendations?total_risk=").concat(c[e],"&reports_shown=true&impacting=true&offset=0&limit=10")}}]}}),"fulfilled"!==y?o.a.createElement(l.a,null):o.a.createElement(o.a.Fragment,null,o.a.createElement("a",{href:"".concat(f.v).concat("/advisor/recommendations?reports_shown=undefined&impacting=false&offset=0&limit=10&sort=-publish_date")},b.formatMessage(p.a.recsImpactingSystems,{totalRecs:e.total,systems:v.total})))))};y.propTypes={advisorFetchStatsRecs:m.a.func,recStats:m.a.object,recStatsStatus:m.a.string,advisorFetchStatsSystems:m.a.func,systemsStats:m.a.object,systemsStatsStatus:m.a.string,advisorIncidents:m.a.object,advisorIncidentsStatus:m.a.string,advisorFetchIncidents:m.a.func,intl:m.a.any};e.default=Object(v.c)(Object(S.connect)((function(t){var e=t.DashboardStore;return{recStats:e.advisorStatsRecs,recStatsStatus:e.advisorStatsRecsStatus,systemsStats:e.advisorStatsSystems,systemsStatsStatus:e.advisorStatsSystemsStatus,advisorIncidents:e.advisorIncidents,advisorIncidentsStatus:e.advisorIncidentsStatus}}),(function(t){return{advisorFetchStatsRecs:function(e){return t(i.b(e))},advisorFetchStatsSystems:function(e){return t(i.c(e))},advisorFetchIncidents:function(e){return t(i.a(e))}}}))(y))},779:function(t,e,a){(e=a(7)(!1)).push([t.i,".ins-c-dashboard__card--Advisor .pf-c-chart{top:0}.ins-c-dashboard__card--Advisor .stackChartLegend{left:-9px;position:relative}.ins-c-dashboard__card--Advisor a{font-size:small}\n",""]),t.exports=e}}]);
//# sourceMappingURL=14.js.map