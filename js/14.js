(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{686:function(e,t,a){(t=a(10)(!1)).push([e.i,".ins-c-remediation__status-icon--passed{color:var(--pf-global--success-color--200)}.ins-c-remediation__status-icon--failed{color:var(--pf-global--danger-color--100)}.ins-c-remediation__status-icon--running{color:var(--pf-global--default-color--300)}.ins-c-remediation__status-text{text-transform:capitalize}\n",""]),e.exports=t},687:function(e,t,a){(t=a(10)(!1)).push([e.i,".ins-c-dashboard__time-stamp{color:var(--pf-global--disabled-color--100);font-size:var(--pf-global--FontSize--sm)}\n",""]),e.exports=t},688:function(e,t,a){(t=a(10)(!1)).push([e.i,".ins-c-remediations-container{display:flex;flex-direction:row}.ins-c-remediations-container:not(:last-child){padding-bottom:var(--pf-global--spacer--md)}.ins-c-remediation__status{display:flex;flex-direction:row;padding-top:2px;padding-right:16px;min-width:110px}.ins-c-remediation__status>p{margin-left:var(--pf-global--spacer--sm);font-size:var(--pf-global--FontSize--sm)}.ins-c-dashboard__card--Remediations .pf-c-card__header{padding:0}\n",""]),e.exports=t},689:function(e,t,a){(t=a(10)(!1)).push([e.i,".ins-c-dashboard__card--Remediations .pf-c-empty-state{margin-left:auto;margin-right:auto}\n",""]),e.exports=t},963:function(e,t,a){var n=a(12),i=a(686);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1},o=n(i,r);if(!i.locals||e.hot.invalidate){var s=i.locals;e.hot.accept(686,(function(){"string"==typeof(i=(i=a(686)).__esModule?i.default:i)&&(i=[[e.i,i,""]]),function(e,t){if(!e&&t||e&&!t)return!1;var a;for(a in e)if(e[a]!==t[a])return!1;for(a in t)if(!e[a])return!1;return!0}(s,i.locals)?(s=i.locals,o(i)):e.hot.invalidate()}))}e.hot.dispose((function(){o()})),e.exports=i.locals||{}},964:function(e,t,a){var n=a(12),i=a(687);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1},o=n(i,r);if(!i.locals||e.hot.invalidate){var s=i.locals;e.hot.accept(687,(function(){"string"==typeof(i=(i=a(687)).__esModule?i.default:i)&&(i=[[e.i,i,""]]),function(e,t){if(!e&&t||e&&!t)return!1;var a;for(a in e)if(e[a]!==t[a])return!1;for(a in t)if(!e[a])return!1;return!0}(s,i.locals)?(s=i.locals,o(i)):e.hot.invalidate()}))}e.hot.dispose((function(){o()})),e.exports=i.locals||{}},965:function(e,t,a){var n=a(12),i=a(688);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1},o=n(i,r);if(!i.locals||e.hot.invalidate){var s=i.locals;e.hot.accept(688,(function(){"string"==typeof(i=(i=a(688)).__esModule?i.default:i)&&(i=[[e.i,i,""]]),function(e,t){if(!e&&t||e&&!t)return!1;var a;for(a in e)if(e[a]!==t[a])return!1;for(a in t)if(!e[a])return!1;return!0}(s,i.locals)?(s=i.locals,o(i)):e.hot.invalidate()}))}e.hot.dispose((function(){o()})),e.exports=i.locals||{}},966:function(e,t,a){var n=a(12),i=a(689);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1},o=n(i,r);if(!i.locals||e.hot.invalidate){var s=i.locals;e.hot.accept(689,(function(){"string"==typeof(i=(i=a(689)).__esModule?i.default:i)&&(i=[[e.i,i,""]]),function(e,t){if(!e&&t||e&&!t)return!1;var a;for(a in e)if(e[a]!==t[a])return!1;for(a in t)if(!e[a])return!1;return!0}(s,i.locals)?(s=i.locals,o(i)):e.hot.invalidate()}))}e.hot.dispose((function(){o()})),e.exports=i.locals||{}},977:function(e,t,a){"use strict";a.r(t);var n=a(659),i=a.n(n),r=a(1),o=a.n(r),s=a(80),c=a(0),l=a.n(c),u=a(546),d=a(496),m=a.n(d),f=a(322),p=a(551),g=a(529),v=a(70),h=a.n(v),_=a(81),b=a.n(_),y=a(77),E=a.n(y),O=(a(963),a(519)),j=a(515),x=a(279),S=a(330),w=a.n(S),N=a(506),M=a.n(N),k=a(505),P=a.n(k),F=(a(547),function(){return o.a.createElement(P.a,{className:"ins-c-dashboard__icon-question"})}),R=a(2),z=(a(964),function(e){var t=e.timestamp;return o.a.createElement("p",{className:"ins-c-dashboard__time-stamp"},t)});z.propTypes={timestamp:l.a.string};var D=z,T=a(331),B=a.n(T),A=a(329),I=function(e){return{running:"running",pending:"running",acked:"running",failure:"failure",canceled:"failure",success:"success"}[e]},J="ins-c-remediation__status-icon",q=function(e){var t,a=e.id,n=e.name,i=Object(r.useState)({}),s=E()(i,2),c=s[0],l=s[1],u=Object(r.useState)(),d=E()(u,2),m=d[0],p=d[1],v=Object(r.useState)(),_=E()(v,2),y=_[0],S=_[1],N=Object(r.useState)(!1),k=E()(N,2),P=k[0],z=k[1],T=Object(A.a)();return Object(r.useEffect)((function(){(function(){var e=b()(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("".concat(R.B).concat(a,"/playbook_runs?limit=1&offset=0&sort=-updated_at"));case 3:t=e.sent,l(t.data.data),S(!0),p(t.data.data.length),e.next=15;break;case 9:e.prev=9,e.t0=e.catch(0),S(!1),p(!1),z(!0),console.error("Error contacting remediations API");case 15:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[a]),o.a.createElement("div",{className:"ins-c-remediations-container"},o.a.createElement("div",{className:"ins-c-remediation__status"},void 0===y&&o.a.createElement(O.a,{size:"md"}),y&&m?o.a.createElement(o.a.Fragment,null,(t=I(c[0].status),{running:o.a.createElement(M.a,{className:"".concat(J," ").concat(J,"--running"),"aria-label":"Remediation in progress"}),success:o.a.createElement(w.a,{className:"".concat(J," ").concat(J,"--passed"),"aria-label":"Remediation passed"}),failure:o.a.createElement(B.a,{className:"".concat(J," ").concat(J,"--failed"),"aria-label":"Remediation failed"})}[t]),o.a.createElement("p",{className:"ins-c-remediation__status-text"},T.formatMessage(g.a.remediationsPlaybookStatus,{status:I(c[0].status)}))):null,y&&!m&&o.a.createElement(o.a.Fragment,null,o.a.createElement(F,null),o.a.createElement("p",null,T.formatMessage(g.a.remediationsPlaybookNoActivity))),P&&o.a.createElement(o.a.Fragment,null,o.a.createElement("span",null,T.formatMessage(g.a.remediationsPlaybookFailure))," ")),o.a.createElement("div",{className:"ins-c-remediation__timestamp"},o.a.createElement(f.Button,{component:"a",variant:"link",isInline:!0,href:"./insights/remediations/".concat(a)},n," "),void 0===y&&o.a.createElement(O.a,{size:"md"}),y&&m?o.a.createElement(D,{timestamp:o.a.createElement(j.a,{type:"exact",date:c[0].created_at})}):null))};q.propTypes={id:l.a.string,name:l.a.string,intl:l.a.any};var L=q,V=(a(965),a(323)),C=a(324),G=a(477),H=(a(966),function(){var e=Object(A.a)();return o.a.createElement(V.EmptyState,{variant:V.EmptyStateVariant.small},o.a.createElement(G.Title,{headingLevel:"h6",size:"md"},e.formatMessage(g.a.remediationsNoDataTitle)),o.a.createElement(C.EmptyStateBody,null,e.formatMessage(g.a.remediationsNoDataBody)))});H.propTypes={intl:l.a.any};var K=a(548);function Q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var U=function(e){var t=e.fetchRemediations,a=e.remediationsFetchStatus,n=e.remediations,i=Object(A.a)();return Object(r.useEffect)((function(){t()}),[t]),o.a.createElement(p.a,{appName:"Remediations"},o.a.createElement(p.c,null,o.a.createElement(p.d,{title:"Remediations"})),o.a.createElement(p.b,null,"fulfilled"===a&&Array.isArray(n.data)&&(n.data.length>0?o.a.createElement(o.a.Fragment,null,n.data.map((function(e){return o.a.createElement(L,{id:e.id,name:e.name,key:e.id})})),n.meta.total>n.meta.count&&o.a.createElement("div",{className:"ins-c-remediations-container"},o.a.createElement("div",{className:"ins-c-remediation__status"}),o.a.createElement("div",{className:"ins-c-remediation__timestamp"},o.a.createElement(f.Button,{component:"a",href:"./insights/remediations",variant:"link",isInline:!0},i.formatMessage(g.a.remediationsTotal,{total:n.meta.total-n.meta.count}))))):o.a.createElement(H,null)),"rejected"===a&&o.a.createElement(K.a,{appName:"Remediations"})))};U.propTypes={fetchRemediations:l.a.func,remediations:l.a.object,remediationsFetchStatus:l.a.string,intl:l.a.any};t.default=m()(Object(s.connect)((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(a),!0).forEach((function(t){i()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Q(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({remediations:e.DashboardStore.remediations,remediationsFetchStatus:e.DashboardStore.remediationsFetchStatus},t)}),(function(e){return{fetchRemediations:function(){return e(u.i())}}}))(U))}}]);
//# sourceMappingURL=14.js.map