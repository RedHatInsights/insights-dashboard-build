{"version":3,"sources":["webpack:///./src/SmartComponents/PatchManager/PatchManagerCard.scss?61b6","webpack:///./src/SmartComponents/PatchManager/PatchManagerCard.js","webpack:///./src/SmartComponents/PatchManager/PatchManagerCard.scss"],"names":["api","content","__esModule","default","module","i","options","update","exported","locals","hot","accept","newContent","dispose","exports","PatchManagerCard","systems","systemsStatus","fetchSystems","fetchSecurity","securityStatus","security","bugs","fetchBugs","bugsStatus","enhancements","fetchEnhancements","enhancementsStatus","React","useEffect","intl","useIntl","isLoaded","every","item","pieChartData","x","formatMessage","messages","securityAdvisories","count","y","fill","chart_color_blue_400","value","bugfixAdvisories","chart_color_blue_200","enhancementAdvisories","chart_color_blue_300","pieChartLegendData","map","name","symbol","type","colorScale","appName","className","subtitle","patchTitle","Fragment","component","href","UI_BASE","PATCHMAN_ID","variant","isInline","systemsAffected","ariaDesc","ariaTitle","constrainToVisibleArea","data","labels","datum","padding","bottom","left","right","top","height","width","legend","legendData","legendOrientation","legendHeight","legendWidth","propTypes","PropTypes","number","string","func","connect","DashboardStore","patchmanSystems","patchmanSystemsStatus","patchmanSecurity","patchmanSecurityStatus","patchmanBugs","patchmanBugsStatus","patchmanEnhancements","patchmanEnhancementsStatus","dispatch","url","patchmanFetchSystems","patchmanFetchSecurity","patchmanFetchBugs","patchmanFetchEnhancements","___CSS_LOADER_API_IMPORT___","push"],"mappings":"+EAAA,IAAIA,EAAM,EAAQ,GACFC,EAAU,EAAQ,KAIC,iBAFvBA,EAAUA,EAAQC,WAAaD,EAAQE,QAAUF,KAG/CA,EAAU,CAAC,CAACG,EAAOC,EAAIJ,EAAS,MAG9C,IAAIK,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAEhBC,EAASP,EAAIC,EAASK,GAEtBE,EAAWP,EAAQQ,OAASR,EAAQQ,OAAS,GAI1CR,EAAQQ,QACXL,EAAOM,IAAIC,OACT,KACA,WACE,IAAIC,EAAa,EAAQ,KAIO,iBAF1BA,EAAaA,EAAWV,WAAaU,EAAWT,QAAUS,KAGxDA,EAAa,CAAC,CAACR,EAAOC,EAAIO,EAAY,MAGxCL,EAAOK,MAKnBR,EAAOM,IAAIG,SAAQ,WACjBN,OAIJH,EAAOU,QAAUN,G,kCC1CjB,uJAuBMO,EAAmB,SAAC,GAC2E,IADzEC,EACyE,EADzEA,QAASC,EACgE,EADhEA,cAAeC,EACiD,EADjDA,aAAcC,EACmC,EADnCA,cAAeC,EACoB,EADpBA,eAC7EC,EAAiG,EAAjGA,SAAUC,EAAuF,EAAvFA,KAAMC,EAAiF,EAAjFA,UAAWC,EAAsE,EAAtEA,WAAYC,EAA0D,EAA1DA,aAAcC,EAA4C,EAA5CA,kBAAmBC,EAAyB,EAAzBA,mBAExEC,IAAMC,WAAU,WACZX,IACAC,IACAI,IACAG,MACD,CAACR,EAAcC,EAAeI,EAAWG,IAE5C,IAAMI,EAAOC,cACPC,EAAW,CAACf,EAAeG,EAAgBI,EAAYG,GAAoBM,OAAM,SAAAC,GAAI,MAAa,cAATA,KAEzFC,EAAe,CACjB,CAAEC,EAAGN,EAAKO,cAAcC,IAASC,mBAAoB,CAAEC,MAAOnB,IAAaoB,EAAGpB,EAAUqB,KAAMC,uBAAqBC,OACnH,CAAER,EAAGN,EAAKO,cAAcC,IAASO,iBAAkB,CAAEL,MAAOlB,IAASmB,EAAGnB,EAAMoB,KAAMI,uBAAqBF,OACzG,CAAER,EAAGN,EAAKO,cAAcC,IAASS,sBAAuB,CAAEP,MAAOf,IAAiBgB,EAAGhB,EAAciB,KAAMM,uBAAqBJ,QAE5HK,EAAqBd,EAAae,KAAI,SAAAhB,GAAI,MAAK,CAAEiB,KAAM,GAAF,OAAKjB,EAAKO,EAAV,YAAeP,EAAKE,GAAKgB,OAAQ,CAAEV,KAAM,GAAF,OAAKR,EAAKQ,MAAQW,KAAM,cAGpHC,EAAa,CACfX,uBAAqBC,MACrBI,uBAAqBJ,MACrBE,uBAAqBF,OAGzB,MAAsB,aAAlB3B,EAEI,kBAAC,IAAD,CAAcsC,QAAQ,eAAeC,UAAY,gCAC7C,kBAAC,IAAD,CAAoBC,SAAW3B,EAAKO,cAAcC,IAASoB,cAC3D,kBAAC,IAAD,KAAkB,kBAAC,IAAD,CAAWH,QAAQ,YAK1C,kBAAC,IAAD,CAAcA,QAAQ,eAAeC,UAAY,gCACpD,kBAAC,IAAD,CAAoBC,SAAW3B,EAAKO,cAAcC,IAASoB,cAC3D,kBAAC,IAAD,KACM1B,EACE,kBAAC,IAAM2B,SAAP,KACI,kBAAC,SAAD,CACIC,UAAU,IACVC,KAAI,UAAMC,IAAN,YAAiBC,IAAjB,YACJC,QAAQ,OACRC,UAAQ,GAER,8BAAOnC,EAAKO,cAAcC,IAAS4B,gBAAiB,CAAE1B,MAAOxB,MAEjE,yBAAKwC,UAAU,sBACX,kBAAC,IAAD,CACIW,SAAS,yBACTC,UAAU,8BACVC,wBAAyB,EACzBC,KAAOnC,EACPoC,OAAS,gBAAGC,EAAH,EAAGA,MAAH,gBAAkBA,EAAMpC,EAAxB,aAA8BoC,EAAM/B,IAC7CgC,QArCA,CAAEC,OAAQ,EAAGC,KAAM,EAAGC,MAAO,EAAGC,IAAK,GAsCrCC,OAAS,GACTC,MAAQ,GACRzB,WAAaA,EACb0B,OAAO,OACPC,WAAahC,EACbiC,kBAAkB,WAClBC,aAAe,GACfC,YAAc,QAzBjB,kBAAC,IAAD,SAkCzBrE,EAAiBsE,UAAY,CACzBrE,QAASsE,IAAUC,OACnBtE,cAAeqE,IAAUE,OACzBtE,aAAcoE,IAAUG,KACxBtE,cAAemE,IAAUG,KACzBpE,SAAUiE,IAAUC,OACpBnE,eAAgBkE,IAAUE,OAC1BjE,UAAW+D,IAAUG,KACrBnE,KAAMgE,IAAUC,OAChB/D,WAAY8D,IAAUE,OACtB9D,kBAAmB4D,IAAUG,KAC7BhE,aAAc6D,IAAUC,OACxB5D,mBAAoB2D,IAAUE,QAGnBE,6BACX,gBAAGC,EAAH,EAAGA,eAAH,MAAyB,CACrB3E,QAAS2E,EAAeC,gBACxB3E,cAAe0E,EAAeE,sBAC9BxE,SAAUsE,EAAeG,iBACzB1E,eAAgBuE,EAAeI,uBAC/BzE,KAAMqE,EAAeK,aACrBxE,WAAYmE,EAAeM,mBAC3BxE,aAAckE,EAAeO,qBAC7BvE,mBAAoBgE,EAAeQ,+BAEvC,SAAAC,GAAQ,MAAK,CACTlF,aAAc,SAACmF,GAAD,OAASD,EAASE,YAAqBD,KACrDlF,cAAe,SAACkF,GAAD,OAASD,EAASG,YAAsBF,KACvD9E,UAAW,SAAC8E,GAAD,OAASD,EAASI,YAAkBH,KAC/C3E,kBAAmB,SAAC2E,GAAD,OAASD,EAASK,YAA0BJ,QAfxDX,CAiBb3E,I,qBC9HFD,EADkC,EAAQ,EAChC4F,EAA4B,IAE9BC,KAAK,CAACvG,EAAOC,EAAI,qRAAsR,KAE/SD,EAAOU,QAAUA","file":"js/13.js","sourcesContent":["var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./PatchManagerCard.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\nif (module.hot) {\n  if (!content.locals) {\n    module.hot.accept(\n      \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./PatchManagerCard.scss\",\n      function () {\n        var newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./PatchManagerCard.scss\");\n\n              newContent = newContent.__esModule ? newContent.default : newContent;\n\n              if (typeof newContent === 'string') {\n                newContent = [[module.id, newContent, '']];\n              }\n\n              update(newContent);\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\nmodule.exports = exported;","/* eslint-disable camelcase */\nimport { Button } from '@patternfly/react-core/dist/js/components/Button/Button';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { useIntl } from 'react-intl';\nimport { connect } from 'react-redux';\nimport { patchmanFetchBugs, patchmanFetchEnhancements, patchmanFetchSecurity, patchmanFetchSystems } from '../../AppActions';\nimport { PATCHMAN_ID, UI_BASE } from '../../AppConstants';\nimport { PieChart } from '../../ChartTemplates/PieChart/PieChartTemplate';\nimport messages from '../../Messages';\nimport Loading from '../../PresentationalComponents/Loading/Loading';\nimport { TemplateCard, TemplateCardBody, TemplateCardHeader } from '../../PresentationalComponents/Template/TemplateCard';\nimport './PatchManagerCard.scss';\nimport {\n    chart_color_blue_200,\n    chart_color_blue_300,\n    chart_color_blue_400\n} from '@patternfly/react-tokens';\nimport FailState from '../../PresentationalComponents/FailState/FailState';\n\n/**\n * Operating systems card for showing the ratio of operating systems used.\n */\nconst PatchManagerCard = ({ systems, systemsStatus, fetchSystems, fetchSecurity, securityStatus,\n    security, bugs, fetchBugs, bugsStatus, enhancements, fetchEnhancements, enhancementsStatus }) => {\n\n    React.useEffect(() => {\n        fetchSystems();\n        fetchSecurity();\n        fetchBugs();\n        fetchEnhancements();\n    }, [fetchSystems, fetchSecurity, fetchBugs, fetchEnhancements]);\n\n    const intl = useIntl();\n    const isLoaded = [systemsStatus, securityStatus, bugsStatus, enhancementsStatus].every(item => item === 'fulfilled');\n\n    const pieChartData = [\n        { x: intl.formatMessage(messages.securityAdvisories, { count: security }), y: security, fill: chart_color_blue_400.value },\n        { x: intl.formatMessage(messages.bugfixAdvisories, { count: bugs }), y: bugs, fill: chart_color_blue_200.value },\n        { x: intl.formatMessage(messages.enhancementAdvisories, { count: enhancements }), y: enhancements, fill: chart_color_blue_300.value }\n    ];\n    const pieChartLegendData = pieChartData.map(item => ({ name: `${item.y} ${item.x}`, symbol: { fill: `${item.fill}`, type: 'circle' } }));\n    const pieChartPadding = { bottom: 0, left: 0, right: 0, top: 0 };\n\n    const colorScale = [\n        chart_color_blue_400.value,\n        chart_color_blue_300.value,\n        chart_color_blue_200.value\n    ];\n\n    if (systemsStatus === 'rejected') {\n        return (\n            <TemplateCard appName='PatchManager' className={ 'ins-c-dashboard__card--Patch' }>\n                <TemplateCardHeader subtitle={ intl.formatMessage(messages.patchTitle) }/>\n                <TemplateCardBody><FailState appName='Patch'/></TemplateCardBody>\n            </TemplateCard>\n        );\n    }\n\n    return <TemplateCard appName='PatchManager' className={ 'ins-c-dashboard__card--Patch' }>\n        <TemplateCardHeader subtitle={ intl.formatMessage(messages.patchTitle) }/>\n        <TemplateCardBody>\n            {!isLoaded ? <Loading/> :\n                <React.Fragment>\n                    <Button\n                        component=\"a\"\n                        href={ `${UI_BASE}/${PATCHMAN_ID}/systems` }\n                        variant=\"link\"\n                        isInline\n                    >\n                        <span>{intl.formatMessage(messages.systemsAffected, { count: systems })}</span>\n                    </Button>\n                    <div className=\"ins-c-patch__chart\">\n                        <PieChart\n                            ariaDesc=\"Operating systems used\"\n                            ariaTitle=\"Pie chart operating systems\"\n                            constrainToVisibleArea={ true }\n                            data={ pieChartData }\n                            labels={ ({ datum }) => `${datum.x}: ${datum.y}` }\n                            padding={ pieChartPadding }\n                            height={ 65 }\n                            width={ 65 }\n                            colorScale={ colorScale }\n                            legend=\"true\"\n                            legendData={ pieChartLegendData }\n                            legendOrientation=\"vertical\"\n                            legendHeight={ 75 }\n                            legendWidth={ 200 }\n                        />\n                    </div>\n                </React.Fragment>\n            }\n        </TemplateCardBody>\n    </TemplateCard>;\n};\n\nPatchManagerCard.propTypes = {\n    systems: PropTypes.number,\n    systemsStatus: PropTypes.string,\n    fetchSystems: PropTypes.func,\n    fetchSecurity: PropTypes.func,\n    security: PropTypes.number,\n    securityStatus: PropTypes.string,\n    fetchBugs: PropTypes.func,\n    bugs: PropTypes.number,\n    bugsStatus: PropTypes.string,\n    fetchEnhancements: PropTypes.func,\n    enhancements: PropTypes.number,\n    enhancementsStatus: PropTypes.string\n};\n\nexport default connect(\n    ({ DashboardStore }) => ({\n        systems: DashboardStore.patchmanSystems,\n        systemsStatus: DashboardStore.patchmanSystemsStatus,\n        security: DashboardStore.patchmanSecurity,\n        securityStatus: DashboardStore.patchmanSecurityStatus,\n        bugs: DashboardStore.patchmanBugs,\n        bugsStatus: DashboardStore.patchmanBugsStatus,\n        enhancements: DashboardStore.patchmanEnhancements,\n        enhancementsStatus: DashboardStore.patchmanEnhancementsStatus\n    }),\n    dispatch => ({\n        fetchSystems: (url) => dispatch(patchmanFetchSystems(url)),\n        fetchSecurity: (url) => dispatch(patchmanFetchSecurity(url)),\n        fetchBugs: (url) => dispatch(patchmanFetchBugs(url)),\n        fetchEnhancements: (url) => dispatch(patchmanFetchEnhancements(url))\n    })\n)(PatchManagerCard);\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".ins-c-patch__chart{padding-top:var(--pf-global--spacer--sm)}.ins-c-patch__chart .pf-c-chart{margin-right:var(--pf-global--spacer--md);top:var(--pf-global--spacer--sm)}.ins-c-pie-chart__legend .pf-c-chart{top:var(--pf-global--spacer--sm);left:var(--pf-global--spacer--md)}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n"],"sourceRoot":""}