(self.webpackChunkinsights_dashboard=self.webpackChunkinsights_dashboard||[]).push([[3273],{31924:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var n=a(94015),i=a.n(n),r=a(23645),s=a.n(r)()(i());s.push([e.id,".dashboard .ins-c-dashboard__time-stamp{color:var(--pf-global--disabled-color--100);font-size:var(--pf-global--FontSize--sm)}\n","",{version:3,sources:["webpack://./src/PresentationalComponents/TimeStamp/TimeStamp.scss"],names:[],mappings:"AAAA,wCAAwC,2CAA2C,CAAC,wCAAwC",sourcesContent:[".dashboard .ins-c-dashboard__time-stamp{color:var(--pf-global--disabled-color--100);font-size:var(--pf-global--FontSize--sm)}\n"],sourceRoot:""}]);const o=s},73411:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var n=a(94015),i=a.n(n),r=a(23645),s=a.n(r)()(i());s.push([e.id,".dashboard .ins-c-remediations-container{display:flex;flex-direction:row}.ins-c-remediations-container:not(:last-child){padding-bottom:var(--pf-global--spacer--md)}.ins-c-remediation__status{display:flex;flex-direction:row;padding-top:2px;padding-right:16px;min-width:110px}.ins-c-remediation__status>p{margin-left:var(--pf-global--spacer--sm);font-size:var(--pf-global--FontSize--sm)}\n","",{version:3,sources:["webpack://./src/SmartComponents/Remediations/RemediationsCard.scss"],names:[],mappings:"AAAA,yCAAyC,YAAY,CAAC,kBAAkB,CAAC,+CAA+C,2CAA2C,CAAC,2BAA2B,YAAY,CAAC,kBAAkB,CAAC,eAAe,CAAC,kBAAkB,CAAC,eAAe,CAAC,6BAA6B,wCAAwC,CAAC,wCAAwC",sourcesContent:[".dashboard .ins-c-remediations-container{display:flex;flex-direction:row}.ins-c-remediations-container:not(:last-child){padding-bottom:var(--pf-global--spacer--md)}.ins-c-remediation__status{display:flex;flex-direction:row;padding-top:2px;padding-right:16px;min-width:110px}.ins-c-remediation__status>p{margin-left:var(--pf-global--spacer--sm);font-size:var(--pf-global--FontSize--sm)}\n"],sourceRoot:""}]);const o=s},24906:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var n=a(94015),i=a.n(n),r=a(23645),s=a.n(r)()(i());s.push([e.id,".dashboard .ins-c-dashboard__card--Remediations .pf-c-empty-state{margin-left:auto;margin-right:auto}\n","",{version:3,sources:["webpack://./src/SmartComponents/Remediations/RemediationsEmptyState.scss"],names:[],mappings:"AAAA,kEAAkE,gBAAgB,CAAC,iBAAiB",sourcesContent:[".dashboard .ins-c-dashboard__card--Remediations .pf-c-empty-state{margin-left:auto;margin-right:auto}\n"],sourceRoot:""}]);const o=s},22087:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var n=a(94015),i=a.n(n),r=a(23645),s=a.n(r)()(i());s.push([e.id,".dashboard .ins-c-remediation__status-icon--passed{color:var(--pf-global--success-color--200)}.ins-c-remediation__status-icon--failed{color:var(--pf-global--danger-color--100)}.ins-c-remediation__status-icon--running{color:var(--pf-global--default-color--300)}.ins-c-remediation__status-text{text-transform:capitalize}\n","",{version:3,sources:["webpack://./src/SmartComponents/Remediations/RunStatus.scss"],names:[],mappings:"AAAA,mDAAmD,0CAA0C,CAAC,wCAAwC,yCAAyC,CAAC,yCAAyC,0CAA0C,CAAC,gCAAgC,yBAAyB",sourcesContent:[".dashboard .ins-c-remediation__status-icon--passed{color:var(--pf-global--success-color--200)}.ins-c-remediation__status-icon--failed{color:var(--pf-global--danger-color--100)}.ins-c-remediation__status-icon--running{color:var(--pf-global--default-color--300)}.ins-c-remediation__status-text{text-transform:capitalize}\n"],sourceRoot:""}]);const o=s},53273:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>V});var n=a(59713),i=a.n(n),r=(a(58404),a(64169)),s=a(97522),o=a.n(s),c=a(81404),l=a(6202),d=a(58093),u=a(45697),m=a.n(u),f=a(219),p=a(74183),A=a(34348),g=a(86896),h=a(18623),v=(a(52117),function(){var e=(0,g.Z)();return o().createElement(f.EmptyState,{variant:f.EmptyStateVariant.small},o().createElement(A.Dx,{headingLevel:"h6",size:"md"},e.formatMessage(h.Z.remediationsNoDataTitle)),o().createElement(p.EmptyStateBody,null,e.formatMessage(h.Z.remediationsNoDataBody)))});v.propTypes={intl:m().any};var b=a(87757),C=a.n(b),_=a(48926),y=a.n(_),E=a(63038),k=a.n(E),w=(a(84143),a(84561)),S=a(37802),x=a(35451),B=a(18802),R=a(87673);a(13480);const N=function(){return o().createElement(R.ZP,{className:"ins-c-dashboard__icon-question"})};var O=a(20999),P=(a(73295),function(e){var t=e.timestamp;return o().createElement("p",{className:"ins-c-dashboard__time-stamp"},t)});P.propTypes={timestamp:m().string};const j=P;var F=a(77669),Z=a(44479),z=function(e){return{running:"running",pending:"running",acked:"running",failure:"failure",canceled:"failure",success:"success"}[e]},D="ins-c-remediation__status-icon",T=function(e){var t,a=e.id,n=e.name,i=e.index,r=(0,s.useState)({}),c=k()(r,2),d=c[0],u=c[1],m=(0,s.useState)(),f=k()(m,2),p=f[0],A=f[1],v=(0,s.useState)(),b=k()(v,2),_=b[0],E=b[1],R=(0,s.useState)(!1),P=k()(R,2),T=P[0],M=P[1],I=(0,g.Z)();return(0,s.useEffect)((function(){!function(){var e=y()(C().mark((function e(){var t;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.Z.get("".concat(O.X9).concat(a,"/playbook_runs?limit=1&offset=0&sort=-updated_at"));case 3:t=e.sent,u(t.data.data),E(!0),A(t.data.data.length),e.next=15;break;case 9:e.prev=9,e.t0=e.catch(0),E(!1),A(!1),M(!0),console.error("Error contacting remediations API");case 15:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}()()}),[a]),o().createElement("div",{className:"ins-c-remediations-container"},o().createElement("div",{className:"ins-c-remediation__status"},void 0===_&&o().createElement(w.Skeleton,{size:"md"}),_&&p?o().createElement(o().Fragment,null,(t=z(d[0].status),{running:o().createElement(B.ZP,{className:"".concat(D," ").concat(D,"--running"),"aria-label":"Remediation in progress"}),success:o().createElement(x.default,{className:"".concat(D," ").concat(D,"--passed"),"aria-label":"Remediation passed"}),failure:o().createElement(F.default,{className:"".concat(D," ").concat(D,"--failed"),"aria-label":"Remediation failed"})}[t]),o().createElement("p",{className:"ins-c-remediation__status-text"},I.formatMessage(h.Z.remediationsPlaybookStatus,{status:z(d[0].status)}))):null,_&&!p&&o().createElement(o().Fragment,null,o().createElement(N,null),o().createElement("p",null,I.formatMessage(h.Z.remediationsPlaybookNoActivity))),T&&o().createElement(o().Fragment,null,o().createElement("span",null,I.formatMessage(h.Z.remediationsPlaybookFailure))," ")),o().createElement("div",{className:"ins-c-remediation__timestamp"},n.length>20?o().createElement(Z.u,{content:n},o().createElement(l.Button,{id:"remediation-link-".concat(i),component:"a",variant:"link",isInline:!0,href:"./insights/remediations/".concat(a)},"".concat(n.substring(0,20),"...")," ")):o().createElement(l.Button,{id:"remediation-link-".concat(i),component:"a",variant:"link",isInline:!0,href:"./insights/remediations/".concat(a)},n," "),void 0===_&&o().createElement(w.Skeleton,{size:"md"}),_&&p?o().createElement(j,{timestamp:o().createElement(w.DateFormat,{type:"exact",date:d[0].created_at})}):null))};T.propTypes={id:m().string,name:m().string,intl:m().any,index:m().any};const M=T;var I=a(86588),Y=a(36873);function q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var L=function(e){var t=e.fetchRemediations,a=e.remediationsFetchStatus,n=e.remediations,i=(0,g.Z)();return(0,s.useEffect)((function(){t()}),[t]),o().createElement(c.wh,{appName:"Remediations"},o().createElement(c.ME,{title:"Remediations"}),o().createElement(c.jA,null,"fulfilled"===a&&Array.isArray(n.data)&&(n.data.length>0?o().createElement(o().Fragment,null,n.data.map((function(e,t){return o().createElement(M,{id:e.id,name:e.name,key:e.id,index:t+1})})),n.meta.total>n.meta.count&&o().createElement("div",{className:"ins-c-remediations-container"},o().createElement("div",{className:"ins-c-remediation__status"}),o().createElement("div",{className:"ins-c-remediation__timestamp"},o().createElement(l.Button,{id:"remediations-link-more",component:"a",href:"./insights/remediations",variant:"link",isInline:!0},i.formatMessage(h.Z.remediationsTotal,{total:n.meta.total-n.meta.count}))))):o().createElement(v,null)),"rejected"===a&&o().createElement(d.Z,{appName:"Remediations"})))};L.propTypes={fetchRemediations:m().func,remediations:m().object,remediationsFetchStatus:m().string,intl:m().any};const V=(0,Y.Z)((0,I.connect)((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?q(Object(a),!0).forEach((function(t){i()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):q(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({remediations:e.DashboardStore.remediations,remediationsFetchStatus:e.DashboardStore.remediationsFetchStatus},t)}),(function(e){return{fetchRemediations:function(){return e(r.y7())}}}))(L))},73295:(e,t,a)=>{"use strict";var n=a(93379),i=a.n(n),r=a(31924),s=i()(r.default,{insert:"head",singleton:!1});if(!r.default.locals||e.hot.invalidate){var o=r.default.locals;e.hot.accept(31924,(t=>{r=a(31924),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(o,r.default.locals)?(o=r.default.locals,s(r.default)):e.hot.invalidate()}))}e.hot.dispose((function(){s()})),r.default.locals},58404:(e,t,a)=>{"use strict";var n=a(93379),i=a.n(n),r=a(73411),s=i()(r.default,{insert:"head",singleton:!1});if(!r.default.locals||e.hot.invalidate){var o=r.default.locals;e.hot.accept(73411,(t=>{r=a(73411),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(o,r.default.locals)?(o=r.default.locals,s(r.default)):e.hot.invalidate()}))}e.hot.dispose((function(){s()})),r.default.locals},52117:(e,t,a)=>{"use strict";var n=a(93379),i=a.n(n),r=a(24906),s=i()(r.default,{insert:"head",singleton:!1});if(!r.default.locals||e.hot.invalidate){var o=r.default.locals;e.hot.accept(24906,(t=>{r=a(24906),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(o,r.default.locals)?(o=r.default.locals,s(r.default)):e.hot.invalidate()}))}e.hot.dispose((function(){s()})),r.default.locals},84143:(e,t,a)=>{"use strict";var n=a(93379),i=a.n(n),r=a(22087),s=i()(r.default,{insert:"head",singleton:!1});if(!r.default.locals||e.hot.invalidate){var o=r.default.locals;e.hot.accept(22087,(t=>{r=a(22087),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(o,r.default.locals)?(o=r.default.locals,s(r.default)):e.hot.invalidate()}))}e.hot.dispose((function(){s()})),r.default.locals}}]);
//# sourceMappingURL=3273.2b654124e1e9bd826f03.js.map