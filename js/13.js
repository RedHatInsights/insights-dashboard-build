(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{988:function(t,e,a){"use strict";a.r(e);var n=a(733),s=a(2),r=a.n(s),o=a(631),c=a(470),i=a.n(c),l={critical:4,important:3,moderate:2,low:1},m=a(668),d=a(1),u=a.n(d),v=a(1015),f=a(1026),S=a(1027),p=a(1021),y=a(1022),b=a(1023),g=a(25),h=a(34),_=a(36),E=a(693),w=function(t){var e=t.data,a=t.intl,n=[{name:a.formatMessage(E.a.critical),y:e[l.critical]},{name:a.formatMessage(E.a.important),y:e[l.important]},{name:a.formatMessage(E.a.moderate),y:e[l.moderate]},{name:a.formatMessage(E.a.low),y:e[l.low]}],s=[g.global_palette_red_200.value,g.global_palette_orange_300.value,g.global_palette_gold_400.value,g.global_palette_gold_300.value],o=n.map((function(t){return{name:"".concat(t.y," ").concat(t.name),symbol:{type:null}}}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{ariaDesc:"Advisor recommendations by severity",ariaTitle:"Advisor recommendations by severity",padding:{left:0,right:0,bottom:56,top:20},width:500,legendPosition:"bottom-left",height:110,maxWidth:600,legendComponent:r.a.createElement(S.a,{data:o,width:400,events:[{target:"labels",eventHandlers:{onClick:function(){return[{target:"labels",mutation:function(t){var e=t.datum.name.split(" ")[1].toLowerCase();window.location.href="".concat(h.m,"/advisor/recommendations?total_risk=").concat(l[e],"&reports_shown=true&impacting=true&offset=0&limit=10")}}]},onMouseOver:function(){return[{mutation:function(t){return{style:Object.assign({},t.style,{cursor:"pointer"})}}}]}}}],orientation:"horizontal",colorScale:s})},r.a.createElement(p.a,{axisComponent:r.a.createElement(r.a.Fragment,null)}),r.a.createElement(y.a,{horizontal:!0,colorScale:s},n.map((function(t){return r.a.createElement(b.a,{key:t,barWidth:22,labelComponent:r.a.createElement(v.a,{text:function(t){var e=t.datum;return"".concat(e.name,": ").concat(e.y)},constrainToVisibleArea:!0}),data:[{name:t.name,y:t.y,x:1,label:t.name}]})})))))};w.propTypes={data:u.a.object,intl:u.a.any};var F=Object(_.c)(w),I=a(152),j=function(t){var e=t.recStats,a=t.recStatsStatus,n=t.advisorFetchStatsRecs,c=t.advisorFetchStatsSystems,l=t.advisorIncidents,d=t.advisorIncidentsStatus,u=t.advisorFetchIncidents,v=t.intl;return Object(s.useEffect)((function(){n(),c(),u()}),[u,n,c]),r.a.createElement(o.a,{appName:"Advisor"},r.a.createElement(o.f,{title:"Advisor recommendations"}),r.a.createElement(o.c,null,"fulfilled"!==d?r.a.createElement(m.a,null):r.a.createElement("div",{className:"ins-c-summary"},r.a.createElement(i.a,{className:"ins-c-summary__icon ins-c-summary__icon-critical"}),r.a.createElement("span",{className:"ins-c-summary__emphasis"},l.meta.count),r.a.createElement("span",{className:"ins-c-summary__label"},r.a.createElement("a",{href:"".concat(h.m).concat("/advisor/recommendations?reports_shown=undefined&impacting=false&offset=0&limit=10&sort=-publish_date&incident=true")},v.formatMessage(E.a.incidentsDetected,{incidents:l.meta.count})))),"fulfilled"!==a?r.a.createElement(m.a,null):r.a.createElement(F,{data:e.total_risk})))};j.propTypes={advisorFetchStatsRecs:u.a.func,recStats:u.a.object,recStatsStatus:u.a.string,advisorFetchStatsSystems:u.a.func,systemsStats:u.a.object,systemsStatsStatus:u.a.string,advisorIncidents:u.a.object,advisorIncidentsStatus:u.a.string,advisorFetchIncidents:u.a.func,intl:u.a.any};e.default=Object(_.c)(Object(I.connect)((function(t){var e=t.DashboardStore;return{recStats:e.advisorStatsRecs,recStatsStatus:e.advisorStatsRecsStatus,systemsStats:e.advisorStatsSystems,systemsStatsStatus:e.advisorStatsSystemsStatus,advisorIncidents:e.advisorIncidents,advisorIncidentsStatus:e.advisorIncidentsStatus}}),(function(t){return{advisorFetchStatsRecs:function(e){return t(n.b(e))},advisorFetchStatsSystems:function(e){return t(n.c(e))},advisorFetchIncidents:function(e){return t(n.a(e))}}}))(j))}}]);
//# sourceMappingURL=13.js.map