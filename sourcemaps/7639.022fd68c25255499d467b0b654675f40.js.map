{"version":3,"file":"js/7639.1686566264209.9d420d99e81f6b67340a.js","mappings":"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","sources":["webpack:///./node_modules/@patternfly/react-icons/dist/esm/icons/caret-down-icon.js","webpack:///./node_modules/@patternfly/react-icons/dist/esm/icons/sort-up-icon.js","webpack:///./src/SmartComponents/Drift/DriftDropDown.js","webpack:///./src/SmartComponents/Drift/DriftEmptyState.js","webpack:///./src/SmartComponents/Drift/DriftCard.js"],"sourcesContent":["import { createIcon } from '../createIcon';\n\nexport const CaretDownIconConfig = {\n  name: 'CaretDownIcon',\n  height: 512,\n  width: 320,\n  svgPath: 'M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z',\n  yOffset: 0,\n  xOffset: 0,\n};\n\nexport const CaretDownIcon = createIcon(CaretDownIconConfig);\n\nexport default CaretDownIcon;","import { createIcon } from '../createIcon';\n\nexport const SortUpIconConfig = {\n  name: 'SortUpIcon',\n  height: 512,\n  width: 320,\n  svgPath: 'M279 224H41c-21.4 0-32.1-25.9-17-41L143 64c9.4-9.4 24.6-9.4 33.9 0l119 119c15.2 15.1 4.5 41-16.9 41z',\n  yOffset: 0,\n  xOffset: 0,\n};\n\nexport const SortUpIcon = createIcon(SortUpIconConfig);\n\nexport default SortUpIcon;","\nimport React, { useEffect, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useIntl } from 'react-intl';\nimport { translateDriftDropdownItems } from './utils';\n\nimport {\n    Dropdown,\n    DropdownToggle,\n    DropdownItem\n} from '@patternfly/react-core';\nimport CaretDownIcon from '@patternfly/react-icons/dist/esm/icons/caret-down-icon';\n\nexport const DriftDropDown = ({ fetchDriftData, selectedFilter }) => {\n\n    const intl = useIntl();\n    const dropdownItems = useRef([]);\n    const [isOpen, setIsOpen] = useState(false);\n\n    useEffect(() => {\n        dropdownItems.current = translateDriftDropdownItems(intl);\n    }, []);\n\n    const onItemClick = (item, itemRef) => {\n        fetchDriftData(item);\n        setIsOpen((prevOpen) => !prevOpen);\n        itemRef.focus();\n    };\n\n    return <Dropdown\n        toggle={\n            <DropdownToggle onToggle={setIsOpen} toggleIndicator={CaretDownIcon}>\n                {selectedFilter.description}\n            </DropdownToggle>\n        }\n        isOpen={isOpen}\n        dropdownItems={dropdownItems.current.map((item, key) => (\n            <DropdownItem\n                key={key}\n                ref={(el) => dropdownItems.current[key].el = el}\n                onClick={() => onItemClick(item, dropdownItems.current[key].el)}>\n                {item.description}\n            </DropdownItem>\n        ))}\n    />;\n};\n\nDriftDropDown.propTypes = {\n    fetchDriftData: PropTypes.func,\n    selectedFilter: PropTypes.shape({\n        description: PropTypes.string\n    })\n};\n","import { Button, EmptyState, EmptyStateBody, Text, Title } from '@patternfly/react-core';\nimport React from 'react';\nimport { useIntl } from 'react-intl';\nimport messages from '../../Messages';\nimport * as ActionTypes from '../../AppConstants';\n\nexport const DriftEmptyState = () => {\n\n    const intl = useIntl();\n\n    return (\n        <EmptyState>\n            <Title headingLevel=\"h4\" size=\"lg\">\n                {intl.formatMessage(messages.driftEmptyStateTitle)}\n            </Title>\n            <EmptyStateBody>\n                <Text>\n                    {intl.formatMessage(messages.driftEmptyStateBodyCreateBaseline)}\n                </Text>\n                <Text>\n                    {intl.formatMessage(messages.driftEmptyStateBodyEnableNotif)}\n                </Text>\n            </EmptyStateBody>\n            <Button\n                href={`${ActionTypes.DRIFT_BASELINES_URL}`}\n                component='a'\n                variant=\"primary\">Go to Baselines\n            </Button>\n        </EmptyState>\n    );\n};\n","import './DriftCard.scss';\n\nimport * as AppActions from '../../AppActions';\nimport * as ActionTypes from '../../AppConstants';\nimport { getDate, buildCompareUrl } from './utils';\n\nimport React, { useEffect, useState } from 'react';\nimport { useIntl } from 'react-intl';\nimport { ExpandableCardTemplate } from '../../PresentationalComponents/Template/ExpandableCardTemplate';\nimport { TemplateCardBody } from '../../PresentationalComponents/Template/TemplateCard';\nimport { Flex, FlexItem } from '@patternfly/react-core/dist/esm/layouts';\nimport { DriftDropDown } from './DriftDropDown';\nimport messages from '../../Messages';\nimport SortUpIcon from '@patternfly/react-icons/dist/esm/icons/sort-up-icon';\nimport {\n    TextContent,\n    Divider,\n    DataList,\n    DataListItem,\n    DataListItemRow,\n    DataListCell,\n    DataListItemCells,\n    DataListWrapModifier,\n    Button,\n    TextVariants,\n    Text,\n    Bullseye,\n    Spinner,\n    Tooltip\n} from '@patternfly/react-core';\nimport { DriftEmptyState } from './DriftEmptyState';\nimport { useDispatch } from 'react-redux';\nimport routerParams from '@redhat-cloud-services/frontend-components-utilities/RouterParams';\nimport { useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { useCallback } from 'react';\nimport useChrome from '@redhat-cloud-services/frontend-components/useChrome';\n\nconst DriftCard = () => {\n    const chrome = useChrome();\n\n    const driftAppId = chrome.getEnvironment() === 'prod' ? '2212b1ce-4ed0-49a3-ba3c-bc147f1690fd' : 'ccb37fde-8564-4a7c-8720-d78a07e2fbde';\n    const intl = useIntl();\n    const dispatch = useDispatch();\n    const [activeDrift, setActiveDrift] = useState({\n        id: 'hours-24',\n        description: intl.formatMessage(messages.driftDropDown24hours),\n        startDate: getDate(1),\n        endDate: getDate(0)\n    });\n    const [isCardExpanded, setIsCardExpanded] = useState(true);\n    const driftEvents = useSelector(({ DashboardStore }) => DashboardStore.driftEvents);\n    const driftEventFetchStatus = useSelector(({ DashboardStore }) => DashboardStore.driftEventFetchStatus);\n    const fetchDriftData = useCallback((dropDownItem) => {\n        dispatch(AppActions.fetchDrift({\n            appIds: driftAppId,\n            startDate: dropDownItem.startDate,\n            endDate: dropDownItem.endDate,\n            includePayload: true\n        }));\n        setActiveDrift(dropDownItem);\n    }, [dispatch]);\n\n    useEffect(() => {\n        fetchDriftData(activeDrift);\n    }, [fetchDriftData, activeDrift.id]);\n\n    return (\n        <ExpandableCardTemplate\n            className='insd-m-toggle-right-on-md'\n            appName='Drift'\n            isExpanded={isCardExpanded}\n            isExpandedCallback={setIsCardExpanded}\n            title={\n                <Flex>\n                    <FlexItem>\n                        {intl.formatMessage(messages.driftCardTitle)}\n                    </FlexItem>\n                    {isCardExpanded ? (\n                        <FlexItem\n                            className='ins-c-drift__drop_down'\n                            align={{ default: 'alignRight' }}>\n                            <DriftDropDown fetchDriftData={fetchDriftData} selectedFilter={activeDrift} />\n                        </FlexItem>) : null}\n                </Flex>}\n            body={\n                <React.Fragment>\n                    {driftEventFetchStatus === 'pending' ?\n                        (\n                            <React.Fragment>\n                                <Bullseye>\n                                    <Spinner className='ins-c-drift__drift_spinner' />\n                                </Bullseye>\n                            </React.Fragment>\n                        ) : (\n                            <React.Fragment>\n                                {driftEvents.baselineDetail?.length > 0 ?\n                                    (<TemplateCardBody>\n                                        <Flex\n                                            direction={{ default: 'column' }}\n                                            alignItems={{ default: 'alignItemsCenter' }}>\n                                            <FlexItem>\n                                                <Flex\n                                                    alignItems={{ default: 'alignItemsFlexCenter' }}\n                                                    justifyContent={{ default: 'justifyContentCenter' }}>\n                                                    <span className='pf-u-font-size-2xl pf-u-text-align-center pf-u-font-weight-normal'>\n                                                        {driftEvents.numEvents}\n                                                    </span>\n                                                </Flex>\n                                                <TextContent\n                                                    className='insd-c-width-limiter pf-u-text-align-center'>\n                                                    <p className='pf-u-font-size-sm'>\n                                                        {intl.formatMessage(messages.driftNumberOfEvents)}\n                                                    </p>\n                                                </TextContent>\n                                            </FlexItem>\n                                            <Button\n                                                variant=\"secondary\"\n                                                component='a'\n                                                className='ins-c-drift__investigate_button'\n                                                href={ActionTypes.DRIFT_URL}>\n                                                {intl.formatMessage(messages.driftInventigateButtton)}\n                                            </Button>\n                                        </Flex>\n                                        <Divider />\n                                        <TextContent\n                                            className='insd-c-width-limiter ins-c-drift__top_5'>\n                                            <p className='pf-u-font-size-sm pf-u-font-weight-bold'>\n                                                {intl.formatMessage(messages.driftTop5)}\n                                            </p>\n                                        </TextContent>\n                                        <DataList className='insd-m-no-padding insd-m-no-top-border insd-m-no-bottom-border' isCompact>\n                                            {driftEvents.baselineDetail.slice(0, ActionTypes.TOP_BASELINES).map((baseline, index) =>\n                                                <DataListItem key={index}>\n                                                    <DataListItemRow>\n                                                        <DataListItemCells\n                                                            dataListCells={[\n                                                                <React.Fragment key={index}>\n                                                                    <DataListCell key={`title-${index}`}\n                                                                        wrapModifier={DataListWrapModifier.truncate}>\n                                                                        <Text\n                                                                            component={TextVariants.a}\n                                                                            href={`${ActionTypes.DRIFT_BASELINES_URL}/${baseline.baselineId}`}\n                                                                        >\n                                                                            {baseline.baselineName}\n                                                                        </Text>\n                                                                    </DataListCell>\n                                                                    <DataListCell key={`system-${index}`}\n                                                                        className='ins-c-drift__data_list_cell_system_len'>\n                                                                        <span className='pf-u-font-weight-normal ins-c-drift__system_len'>\n                                                                            <SortUpIcon  color='black'/>\n                                                                            {intl.formatMessage(messages.driftSystems,\n                                                                                { systems: baseline.systems.length })}\n                                                                        </span>\n                                                                    </DataListCell>\n                                                                    <DataListCell key={`compare-${index}`}\n                                                                        className='ins-c-drift__data_list_cell_compare'>\n                                                                        <Tooltip\n                                                                            content={\n                                                                                <div>\n                                                                                    {intl.formatMessage(messages.driftCompareTooltip)}\n                                                                                </div>}>\n                                                                            <Text\n                                                                                component={TextVariants.a}\n                                                                                href={buildCompareUrl(baseline.baselineId, baseline.systems)}\n                                                                                className='ins-c-drift__text_compare'\n                                                                            >\n                                                                                {intl.formatMessage(messages.driftCompare)}\n                                                                            </Text>\n                                                                        </Tooltip>\n                                                                    </DataListCell>\n                                                                </React.Fragment>\n                                                            ]}\n                                                        />\n                                                    </DataListItemRow>\n                                                </DataListItem>\n                                            )}\n                                        </DataList>\n                                    </TemplateCardBody>)\n                                    : (<DriftEmptyState />)\n                                }\n                            </React.Fragment>\n                        )}\n                </React.Fragment>\n            }\n        />\n    );\n};\n\nDriftCard.propTypes = {\n    fetchDrift: PropTypes.func,\n    driftEvents: PropTypes.object,\n    driftEventFetchStatus: PropTypes.string,\n    intl: PropTypes.any\n};\n\nexport default routerParams(DriftCard);\n"],"names":["CaretDownIconConfig","name","height","width","svgPath","yOffset","xOffset","CaretDownIcon","SortUpIconConfig","SortUpIcon","DriftDropDown","fetchDriftData","selectedFilter","intl","useIntl","dropdownItems","useRef","useState","isOpen","setIsOpen","useEffect","current","translateDriftDropdownItems","Dropdown","toggle","DropdownToggle","onToggle","toggleIndicator","description","map","item","key","DropdownItem","ref","el","onClick","itemRef","prevOpen","focus","onItemClick","propTypes","PropTypes","DriftEmptyState","EmptyState","Title","headingLevel","size","formatMessage","messages","EmptyStateBody","Text","Button","href","ActionTypes","component","variant","DriftCard","driftAppId","useChrome","getEnvironment","dispatch","useDispatch","id","startDate","getDate","endDate","activeDrift","setActiveDrift","isCardExpanded","setIsCardExpanded","driftEvents","useSelector","DashboardStore","driftEventFetchStatus","useCallback","dropDownItem","AppActions","appIds","includePayload","ExpandableCardTemplate","className","appName","isExpanded","isExpandedCallback","title","Flex","FlexItem","align","default","body","Bullseye","Spinner","baselineDetail","length","TemplateCard","direction","alignItems","justifyContent","numEvents","TextContent","Divider","DataList","isCompact","slice","baseline","index","DataListItem","DataListItemRow","DataListItemCells","dataListCells","DataListCell","wrapModifier","DataListWrapModifier","TextVariants","baselineId","baselineName","color","systems","Tooltip","content","buildCompareUrl","fetchDrift","routerParams"],"sourceRoot":""}