{"version":3,"sources":["webpack:///./src/SmartComponents/Cards/ComplianceCard.js"],"names":["_react","__webpack_require__","_insightsFrontendComponents","_reactRedux","_reactCore","AppActions","ComplianceCard","props","_classCallCheck3","default","this","_possibleConstructorReturn3","__proto__","Object","getPrototypeOf","call","fetchCompliance","_props","complianceFetchStatus","complianceSummary","_react2","createElement","Card","className","CardHeader","Title","size","CardBody","Stack","Array","isArray","data","length","map","element","StackItem","gutter","key","id","Split","SplitItem","attributes","score","Gauge","label","name","value","width","height","timeframe","identifier","href","compliant_host_count","total_host_count","_Loading2","CardFooter","Component","propTypes","PropTypes","func","object","string","routerParams","connect","state","ownProps","_extends3","DashboardStore","dispatch","url","fetchComplianceSummary"],"mappings":"2MAAAA,EAAAC,EAAA,cACAA,EAAA,IACAC,EAAAD,EAAA,KACAE,EAAAF,EAAA,IAEAG,EAAAH,EAAA,KAOYI,0JAAZJ,EAAA,UACAA,EAAA,yDAEAA,EAAA,KAIA,IASMK,cAEF,SAAAA,EAAYC,GAAO,SAAAC,EAAAC,SAAAC,KAAAJ,IAAA,EAAAK,EAAAF,SAAAC,MAAAJ,EAAAM,WAAAC,OAAAC,eAAAR,IAAAS,KAAAL,KACTH,wFAING,KAAKH,MAAMS,mDAGN,IAAAC,EAIDP,KAAKH,MAFLW,EAFCD,EAEDC,sBACAC,EAHCF,EAGDE,kBAGJ,OACIC,EAAAX,QAAAY,cAACjB,EAAAkB,KAAD,CAAMC,UAAU,0BACZH,EAAAX,QAAAY,cAACjB,EAAAoB,WAAD,KACIJ,EAAAX,QAAAY,cAACjB,EAAAqB,MAAD,CAAOC,KAAM,MAAb,eAEJN,EAAAX,QAAAY,cAACjB,EAAAuB,SAAD,KACIP,EAAAX,QAAAY,cAACjB,EAAAwB,MAAD,KACgC,cAA1BV,GACEW,MAAMC,QAAQX,EAAkBY,OAASZ,EAAkBY,KAAKC,OAAS,GACrEb,EAAkBY,KAAKE,IAAI,SAAAC,GAAA,OACvBd,EAAAX,QAAAY,cAACjB,EAAA+B,UAAD,CAAWC,OAAO,KAAKC,IAAMH,EAAQI,IACjClB,EAAAX,QAAAY,cAACjB,EAAAmC,MAAD,CAAOH,OAAO,KAAKC,IAAMH,EAAQI,IAC7BlB,EAAAX,QAAAY,cAACjB,EAAAoC,UAAD,CAAWjB,UAAU,sCACjBH,EAAAX,QAAAY,cAAA,OAAKE,UAAU,mCACkB,IAA3BW,EAAQO,WAAWC,MADzB,KAGAtB,EAAAX,QAAAY,cAACnB,EAAAyC,MAAD,CAAOC,MAAQV,EAAQO,WAAWI,KAC9BC,MAAmC,IAA3BZ,EAAQO,WAAWC,MAAcK,MAAQ,GAAKC,OAAS,GAC/DC,UAAU,KACVC,WAAA,oBAAkChB,EAAQI,MAElDlB,EAAAX,QAAAY,cAACjB,EAAAoC,UAAD,KACIpB,EAAAX,QAAAY,cAACjB,EAAAwB,MAAD,KACIR,EAAAX,QAAAY,cAACjB,EAAA+B,UAAD,KACIf,EAAAX,QAAAY,cAAA,KAAG8B,KAAA,2CAAuDjB,EAAQO,WAAWI,OAEjFzB,EAAAX,QAAAY,cAACjB,EAAA+B,UAAD,KACMD,EAAQO,WAAWW,qBADzB,QAEYlB,EAAQO,WAAWY,iBAF/B,kBAUA,YAA1BnC,GAAwCE,EAAAX,QAAAY,cAACiC,EAAA7C,QAAD,QAGlDW,EAAAX,QAAAY,cAACjB,EAAAmD,WAAD,KAAYnC,EAAAX,QAAAY,cAAA,KAAG8B,KAAA,2CAAH,yCAvDCK,aA6D7BlD,EAAemD,UAAY,CACvBzC,gBAAiB0C,UAAUC,KAC3BxC,kBAAmBuC,UAAUE,OAC7B1C,sBAAuBwC,UAAUG,mBAatB,EAAA3D,EAAA4D,eAAa,EAAA3D,EAAA4D,SAVJ,SAACC,EAAOC,GAAR,SAAAC,EAAAzD,SAAA,CACpBU,kBAAmB6C,EAAMG,eAAehD,kBACxCD,sBAAuB8C,EAAMG,eAAejD,uBACzC+C,IAGoB,SAAAG,GAAA,MAAa,CACpCpD,gBAAiB,SAACqD,GAAD,OAASD,EAAS/D,EAAWiE,uBAAuBD,OAG7C,CAG1B/D","file":"js/4.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { routerParams, Gauge } from '@red-hat-insights/insights-frontend-components';\nimport { connect } from 'react-redux';\n\nimport {\n    Card, CardBody, CardFooter, CardHeader,\n    Split, SplitItem,\n    Stack, StackItem,\n    Title\n} from '@patternfly/react-core';\n\nimport * as AppActions from '../../AppActions';\nimport Loading from '../../PresentationalComponents/Loading/Loading';\n\nimport './_cards.scss';\n\n// expose RELEASE\n/*global RELEASE:true*/\nconst release = RELEASE;\n\n/**\n * A smart component that handles all the api calls and data needed by the dumb components.\n * Smart components are usually classes.\n *\n * https://reactjs.org/docs/components-and-props.html\n * https://medium.com/@thejasonfile/dumb-components-and-smart-components-e7b33a698d43\n */\nclass ComplianceCard extends Component {\n\n    constructor(props) {\n        super(props);\n    }\n\n    componentDidMount() {\n        this.props.fetchCompliance();\n    }\n\n    render() {\n        const {\n            complianceFetchStatus,\n            complianceSummary\n        } = this.props;\n\n        return (\n            <Card className='ins-c-card__compliance'>\n                <CardHeader>\n                    <Title size={'lg'}>Compliance</Title>\n                </CardHeader>\n                <CardBody>\n                    <Stack>\n                        { complianceFetchStatus === 'fulfilled' && (\n                            Array.isArray(complianceSummary.data) && complianceSummary.data.length > 0 && (\n                                complianceSummary.data.map(element =>\n                                    <StackItem gutter='sm' key={ element.id }>\n                                        <Split gutter='md' key={ element.id }>\n                                            <SplitItem className='ins-c-gauge pf-u-text-align-center'>\n                                                <div className='ins-c-gauge__metrics-percentage'>\n                                                    { element.attributes.score * 100 }%\n                                                </div>\n                                                <Gauge label={ element.attributes.name }\n                                                    value={ element.attributes.score * 100 } width={ 82 } height={ 82 }\n                                                    timeframe='30'\n                                                    identifier={ `compliance-gauge-${ element.id }` } />\n                                            </SplitItem>\n                                            <SplitItem>\n                                                <Stack>\n                                                    <StackItem>\n                                                        <a href={ `/${release}/platform/compliance/policies/` }>{ element.attributes.name }</a>\n                                                    </StackItem>\n                                                    <StackItem>\n                                                        { element.attributes.compliant_host_count } of\n                                                        &nbsp;{ element.attributes.total_host_count } systems</StackItem>\n                                                </Stack>\n                                            </SplitItem>\n                                        </Split>\n                                    </StackItem>\n                                )\n                            )\n                        ) }\n                        { complianceFetchStatus === 'pending' && (<Loading/>) }\n                    </Stack>\n                </CardBody>\n                <CardFooter><a href={ `/${release}/platform/compliance/policies/` }>View All Compliance Policies</a></CardFooter>\n            </Card>\n        );\n    }\n}\n\nComplianceCard.propTypes = {\n    fetchCompliance: PropTypes.func,\n    complianceSummary: PropTypes.object,\n    complianceFetchStatus: PropTypes.string\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n    complianceSummary: state.DashboardStore.complianceSummary,\n    complianceFetchStatus: state.DashboardStore.complianceFetchStatus,\n    ...ownProps\n});\n\nconst mapDispatchToProps = dispatch => ({\n    fetchCompliance: (url) => dispatch(AppActions.fetchComplianceSummary(url))\n});\n\nexport default routerParams(connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(ComplianceCard));\n"],"sourceRoot":""}