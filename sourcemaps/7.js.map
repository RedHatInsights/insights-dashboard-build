{"version":3,"sources":["webpack:///./src/SmartComponents/Cards/VulnerabilitiesCard.js"],"names":["_react","__webpack_require__","_insightsFrontendComponents","_reactRedux","_reactIcons","_reactCore","AppActions","VulnerabilitiesCard","props","_classCallCheck3","default","this","_this","_possibleConstructorReturn3","__proto__","Object","getPrototypeOf","call","fetchCriticalVulnerabilities","fetchLatestVulnerabilities","fetchVulnerabilities","_props","criticalVulnerabilitiesFetchStatus","latestVulnerabilitiesFetchStatus","criticalVulnerabilities","latestVulnerabilities","vulnerabilitiesFetchStatus","vulnerabilities","_react2","createElement","Card","className","CardHeader","Title","size","CardBody","ExclamationCircleIcon","meta","total_items","href","_Loading2","FlagIcon","CardFooter","Component","propTypes","PropTypes","func","object","string","routerParams","connect","state","ownProps","_extends3","DashboardStore","dispatch","url"],"mappings":"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","file":"js/7.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { routerParams } from '@red-hat-insights/insights-frontend-components';\nimport { connect } from 'react-redux';\nimport { ExclamationCircleIcon, FlagIcon } from '@patternfly/react-icons';\n\nimport {\n    Card, CardBody, CardFooter, CardHeader,\n    Title\n} from '@patternfly/react-core';\n\nimport * as AppActions from '../../AppActions';\nimport Loading from '../../PresentationalComponents/Loading/Loading';\n\nimport './_cards.scss';\n\n// expose RELEASE\n/*global RELEASE:true*/\nconst release = RELEASE;\n\n/**\n * Vulnerabilities Card for showing number of critical vulnerabilities\n */\nclass VulnerabilitiesCard extends Component {\n\n    constructor(props) {\n        super(props);\n        this.props = {};\n    }\n\n    componentDidMount () {\n        this.props.fetchCriticalVulnerabilities();\n        this.props.fetchLatestVulnerabilities();\n        this.props.fetchVulnerabilities();\n    }\n\n    render() {\n        const {\n            criticalVulnerabilitiesFetchStatus,\n            latestVulnerabilitiesFetchStatus,\n            criticalVulnerabilities,\n            latestVulnerabilities,\n            vulnerabilitiesFetchStatus,\n            vulnerabilities\n        } = this.props;\n\n        return (\n            <Card className='ins-c-card__vulnerabilities'>\n                <CardHeader>\n                    <Title className=\"pf-u-mt-0 pf-u-mb-0\" size={'lg'}>Vulnerabilities</Title>\n                </CardHeader>\n                <CardBody>\n                    { criticalVulnerabilitiesFetchStatus === 'fulfilled' && (\n                        <div className='ins-c-summary'>\n                            <ExclamationCircleIcon className='ins-c-summary__icon ins-c-summary__icon-critical' />\n                            <span className='ins-c-summary__emphasis'>{ criticalVulnerabilities.meta.total_items }</span>\n                            <span className='ins-c-summary__label'>\n                                <a href={ `/${release}/platform/vulnerability/` }>Critical</a>\n                            </span>\n                        </div>\n                    ) } { criticalVulnerabilitiesFetchStatus === 'pending' && (<Loading />) }\n                    { latestVulnerabilitiesFetchStatus === 'fulfilled' && (\n                        <div className='ins-c-summary'>\n                            <FlagIcon className='ins-c-summary__icon ins-c-summary__icon-flag' />\n                            <span className='ins-c-summary__emphasis'>{ latestVulnerabilities.meta.total_items }</span>\n                            <span className='ins-c-summary__label'>CVEs added in the last 7 days</span>\n                        </div>\n                    ) }\n                </CardBody>\n                <CardFooter>\n                    <a href={ `/${release}/platform/vulnerability/` }>\n                        View All{ vulnerabilitiesFetchStatus === 'fulfilled' && vulnerabilities.meta.total_items > 0 ?\n                            ` ${vulnerabilities.meta.total_items} ` : ''} Vulnerabilities\n                    </a>\n                </CardFooter>\n            </Card>\n        );\n    }\n}\n\nVulnerabilitiesCard.propTypes = {\n    fetchCriticalVulnerabilities: PropTypes.func,\n    criticalVulnerabilities: PropTypes.object,\n    criticalVulnerabilitiesFetchStatus: PropTypes.string,\n    fetchLatestVulnerabilities: PropTypes.func,\n    latestVulnerabilities: PropTypes.object,\n    latestVulnerabilitiesFetchStatus: PropTypes.string,\n    fetchVulnerabilities: PropTypes.func,\n    vulnerabilities: PropTypes.object,\n    vulnerabilitiesFetchStatus: PropTypes.string\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n    criticalVulnerabilities: state.DashboardStore.criticalVulnerabilities,\n    criticalVulnerabilitiesFetchStatus: state.DashboardStore.criticalVulnerabilitiesFetchStatus,\n    latestVulnerabilities: state.DashboardStore.latestVulnerabilities,\n    latestVulnerabilitiesFetchStatus: state.DashboardStore.latestVulnerabilitiesFetchStatus,\n    vulnerabilities: state.DashboardStore.vulnerabilities,\n    vulnerabilitiesFetchStatus: state.DashboardStore.vulnerabilitiesFetchStatus,\n    ...ownProps\n});\n\nconst mapDispatchToProps = dispatch => ({\n    fetchCriticalVulnerabilities: (url) => dispatch(AppActions.fetchCriticalVulnerabilities(url)),\n    fetchLatestVulnerabilities: (url) => dispatch(AppActions.fetchLatestVulnerabilities(url)),\n    fetchVulnerabilities: (url) => dispatch(AppActions.fetchVulnerabilities(url))\n});\n\nexport default routerParams(connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(VulnerabilitiesCard));\n"],"sourceRoot":""}