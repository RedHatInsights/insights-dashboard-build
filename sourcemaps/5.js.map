{"version":3,"sources":["webpack:///./src/SmartComponents/Cards/VulnerabilityCard.js"],"names":["release","RELEASE","VulnerabilityCard","props","_this","_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default","this","_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default","_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default","call","fetchCriticalVulnerabilities","fetchLatestVulnerabilities","fetchVulnerabilities","_this$props","criticalVulnerabilitiesFetchStatus","latestVulnerabilitiesFetchStatus","criticalVulnerabilities","latestVulnerabilities","vulnerabilitiesFetchStatus","vulnerabilities","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","_patternfly_react_core__WEBPACK_IMPORTED_MODULE_12__","className","_patternfly_react_core__WEBPACK_IMPORTED_MODULE_13__","_patternfly_react_core__WEBPACK_IMPORTED_MODULE_14__","size","_patternfly_react_core__WEBPACK_IMPORTED_MODULE_15__","_patternfly_react_icons__WEBPACK_IMPORTED_MODULE_10__","meta","total_items","href","concat","_PresentationalComponents_Loading_Loading__WEBPACK_IMPORTED_MODULE_18__","_patternfly_react_icons__WEBPACK_IMPORTED_MODULE_11__","_patternfly_react_core__WEBPACK_IMPORTED_MODULE_16__","Component","propTypes","PropTypes","func","object","string","routerParams","connect","state","ownProps","_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default","DashboardStore","dispatch","url","AppActions"],"mappings":"6UAkBMA,UAAUC,SAKVC,cAEF,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,IAAAC,KAAAJ,IACfE,EAAAG,IAAAD,KAAAE,IAAAN,GAAAO,KAAAH,KAAMH,KACDA,MAAQ,GAFEC,mEAMfE,KAAKH,MAAMO,+BACXJ,KAAKH,MAAMQ,6BACXL,KAAKH,MAAMS,wDAGN,IAAAC,EAQDP,KAAKH,MANLW,EAFCD,EAEDC,mCACAC,EAHCF,EAGDE,iCACAC,EAJCH,EAIDG,wBACAC,EALCJ,EAKDI,sBACAC,EANCL,EAMDK,2BACAC,EAPCN,EAODM,gBAGJ,OACIC,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMC,UAAU,6BACZJ,EAAAC,EAAAC,cAACG,EAAA,EAAD,KACIL,EAAAC,EAAAC,cAACI,EAAA,EAAD,CAAOF,UAAU,sBAAsBG,KAAO,MAA9C,kBAEJP,EAAAC,EAAAC,cAACM,EAAA,EAAD,KAC6C,cAAvCd,GACEM,EAAAC,EAAAC,cAAA,OAAKE,UAAU,iBACXJ,EAAAC,EAAAC,cAACO,EAAA,EAAD,CAAuBL,UAAU,qDACjCJ,EAAAC,EAAAC,cAAA,QAAME,UAAU,2BAA4BR,EAAwBc,KAAKC,aACzEX,EAAAC,EAAAC,cAAA,QAAME,UAAU,wBACZJ,EAAAC,EAAAC,cAAA,KAAGU,KAAI,IAAAC,OAAOjC,EAAP,oBAAP,+BANhB,IASiD,YAAvCc,GAAqDM,EAAAC,EAAAC,cAACY,EAAA,EAAD,MACpB,cAArCnB,GACEK,EAAAC,EAAAC,cAAA,OAAKE,UAAU,iBACXJ,EAAAC,EAAAC,cAACa,EAAA,EAAD,CAAUX,UAAU,iDACpBJ,EAAAC,EAAAC,cAAA,QAAME,UAAU,2BAA4BP,EAAsBa,KAAKC,aACvEX,EAAAC,EAAAC,cAAA,QAAME,UAAU,wBAAhB,mCAIZJ,EAAAC,EAAAC,cAACc,EAAA,EAAD,KACIhB,EAAAC,EAAAC,cAAA,KAAGU,KAAI,GAAAC,OAAMjC,EAAN,oBAAP,WAC6C,cAA/BkB,GAA8CC,EAAgBW,KAAKC,YAAc,EAAjF,IAAAE,OACFd,EAAgBW,KAAKC,YADnB,KACoC,GAFlD,6BA/CYM,aAyDhCnC,EAAkBoC,UAAY,CAC1B5B,6BAA8B6B,IAAUC,KACxCxB,wBAAyBuB,IAAUE,OACnC3B,mCAAoCyB,IAAUG,OAC9C/B,2BAA4B4B,IAAUC,KACtCvB,sBAAuBsB,IAAUE,OACjC1B,iCAAkCwB,IAAUG,OAC5C9B,qBAAsB2B,IAAUC,KAChCrB,gBAAiBoB,IAAUE,OAC3BvB,2BAA4BqB,IAAUG,QAmB3BC,iCAAaC,kBAhBJ,SAACC,EAAOC,GAAR,OAAAC,IAAA,CACpB/B,wBAAyB6B,EAAMG,eAAehC,wBAC9CF,mCAAoC+B,EAAMG,eAAelC,mCACzDG,sBAAuB4B,EAAMG,eAAe/B,sBAC5CF,iCAAkC8B,EAAMG,eAAejC,iCACvDI,gBAAiB0B,EAAMG,eAAe7B,gBACtCD,2BAA4B2B,EAAMG,eAAe9B,4BAC9C4B,IAGoB,SAAAG,GAAQ,MAAK,CACpCvC,6BAA8B,SAACwC,GAAD,OAASD,EAASE,IAAwCD,KACxFvC,2BAA4B,SAACuC,GAAD,OAASD,EAASE,IAAsCD,KACpFtC,qBAAsB,SAACsC,GAAD,OAASD,EAASE,IAAgCD,OAGhDN,CAG1B1C","file":"js/5.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { routerParams } from '@red-hat-insights/insights-frontend-components';\nimport { connect } from 'react-redux';\nimport { ExclamationCircleIcon, FlagIcon } from '@patternfly/react-icons';\n\nimport {\n    Card, CardBody, CardFooter, CardHeader,\n    Title\n} from '@patternfly/react-core';\n\nimport * as AppActions from '../../AppActions';\nimport Loading from '../../PresentationalComponents/Loading/Loading';\n\nimport './_cards.scss';\n\n// expose RELEASE\n/*global RELEASE:true*/\nconst release = RELEASE;\n\n/**\n * Vulnerability Card for showing number of critical vulnerabilities\n */\nclass VulnerabilityCard extends Component {\n\n    constructor(props) {\n        super(props);\n        this.props = {};\n    }\n\n    componentDidMount () {\n        this.props.fetchCriticalVulnerabilities();\n        this.props.fetchLatestVulnerabilities();\n        this.props.fetchVulnerabilities();\n    }\n\n    render() {\n        const {\n            criticalVulnerabilitiesFetchStatus,\n            latestVulnerabilitiesFetchStatus,\n            criticalVulnerabilities,\n            latestVulnerabilities,\n            vulnerabilitiesFetchStatus,\n            vulnerabilities\n        } = this.props;\n\n        return (\n            <Card className='ins-c-card__vulnerability'>\n                <CardHeader>\n                    <Title className=\"pf-u-mt-0 pf-u-mb-0\" size={ 'lg' }>Vulnerability</Title>\n                </CardHeader>\n                <CardBody>\n                    { criticalVulnerabilitiesFetchStatus === 'fulfilled' && (\n                        <div className='ins-c-summary'>\n                            <ExclamationCircleIcon className='ins-c-summary__icon ins-c-summary__icon-critical' />\n                            <span className='ins-c-summary__emphasis'>{ criticalVulnerabilities.meta.total_items }</span>\n                            <span className='ins-c-summary__label'>\n                                <a href={ `/${release}/vulnerability/` }>CVEs with CVSS Score &gt;= 7</a>\n                            </span>\n                        </div>\n                    ) } { criticalVulnerabilitiesFetchStatus === 'pending' && (<Loading />) }\n                    { latestVulnerabilitiesFetchStatus === 'fulfilled' && (\n                        <div className='ins-c-summary'>\n                            <FlagIcon className='ins-c-summary__icon ins-c-summary__icon-flag' />\n                            <span className='ins-c-summary__emphasis'>{ latestVulnerabilities.meta.total_items }</span>\n                            <span className='ins-c-summary__label'>CVEs added in the last 7 days</span>\n                        </div>\n                    ) }\n                </CardBody>\n                <CardFooter>\n                    <a href={ `${release}/vulnerability/` }>\n                        View All{ vulnerabilitiesFetchStatus === 'fulfilled' && vulnerabilities.meta.total_items > 0 ?\n                            ` ${vulnerabilities.meta.total_items} ` : '' } Vulnerabilities\n                    </a>\n                </CardFooter>\n            </Card>\n        );\n    }\n}\n\nVulnerabilityCard.propTypes = {\n    fetchCriticalVulnerabilities: PropTypes.func,\n    criticalVulnerabilities: PropTypes.object,\n    criticalVulnerabilitiesFetchStatus: PropTypes.string,\n    fetchLatestVulnerabilities: PropTypes.func,\n    latestVulnerabilities: PropTypes.object,\n    latestVulnerabilitiesFetchStatus: PropTypes.string,\n    fetchVulnerabilities: PropTypes.func,\n    vulnerabilities: PropTypes.object,\n    vulnerabilitiesFetchStatus: PropTypes.string\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n    criticalVulnerabilities: state.DashboardStore.criticalVulnerabilities,\n    criticalVulnerabilitiesFetchStatus: state.DashboardStore.criticalVulnerabilitiesFetchStatus,\n    latestVulnerabilities: state.DashboardStore.latestVulnerabilities,\n    latestVulnerabilitiesFetchStatus: state.DashboardStore.latestVulnerabilitiesFetchStatus,\n    vulnerabilities: state.DashboardStore.vulnerabilities,\n    vulnerabilitiesFetchStatus: state.DashboardStore.vulnerabilitiesFetchStatus,\n    ...ownProps\n});\n\nconst mapDispatchToProps = dispatch => ({\n    fetchCriticalVulnerabilities: (url) => dispatch(AppActions.fetchCriticalVulnerabilities(url)),\n    fetchLatestVulnerabilities: (url) => dispatch(AppActions.fetchLatestVulnerabilities(url)),\n    fetchVulnerabilities: (url) => dispatch(AppActions.fetchVulnerabilities(url))\n});\n\nexport default routerParams(connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(VulnerabilityCard));\n"],"sourceRoot":""}