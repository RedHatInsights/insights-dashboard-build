{"version":3,"sources":["webpack:///./src/SmartComponents/Cards/ConfigAssessmentCard.js"],"names":["_react","__webpack_require__","_insightsFrontendComponents","_reactRedux","_reactIcons","_reactCore","AppActions","ConfigAssessmentCard","props","_classCallCheck3","default","this","_possibleConstructorReturn3","__proto__","Object","getPrototypeOf","call","fetchConfigAssessment","_props","configAssessmentFetchStatus","configAssessment","severities","Array","severity","label","link","some","element","rules","push","value","length","_react2","createElement","Card","className","CardHeader","Title","size","CardBody","isArray","map","key","ExclamationCircleIcon","ExclamationTriangleIcon","ExclamationIcon","getIcon","href","_Loading2","CheckCircleIcon","CardFooter","total","Component","propTypes","PropTypes","func","object","string","routerParams","connect","state","ownProps","_extends3","DashboardStore","dispatch","url"],"mappings":"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","file":"js/5.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { routerParams } from '@red-hat-insights/insights-frontend-components';\nimport { connect } from 'react-redux';\n\nimport {\n    CheckCircleIcon,\n    ExclamationCircleIcon, ExclamationTriangleIcon, ExclamationIcon\n} from '@patternfly/react-icons';\n\nimport {\n    Card, CardBody, CardFooter, CardHeader,\n    Title\n} from '@patternfly/react-core';\n\nimport * as AppActions from '../../AppActions';\nimport Loading from '../../PresentationalComponents/Loading/Loading';\n\nimport './_cards.scss';\n\n// expose RELEASE\n/*global RELEASE:true*/\nconst release = RELEASE;\n\n/**\n * Configuration Assessment for showing 2 highest categories with rule hits\n */\nclass ConfigAssessmentCard extends Component {\n\n    constructor (props) {\n        super(props);\n    }\n\n    componentDidMount () {\n        this.props.fetchConfigAssessment();\n    }\n\n    render() {\n        const {\n            configAssessmentFetchStatus,\n            configAssessment\n        } = this.props;\n\n        let severities = new Array();\n\n        if (configAssessmentFetchStatus === 'fulfilled') {\n            // iterate over rules.severities and push to topSeverities if value > 0 in order of greatest to least\n            // break after 2 items have been added\n            [\n                { severity: 'Critical', label: 'Critical', link: 'critical-risk/' },\n                { severity: 'Error', label: 'High', link: 'high-risk/' },\n                { severity: 'Warn', label: 'Medium', link: 'medium-risk/' },\n                { severity: 'Info', label: 'Low', link: 'low-risk/' }\n            ].some(element => {\n                if (configAssessment.rules.severity[element.severity] > 0) {\n                    severities.push({\n                        label: element.label,\n                        value: configAssessment.rules.severity[element.severity],\n                        link: element.link\n                    });\n                    if (severities.length > 1) {\n                        return true;\n                    }\n                }\n            });\n        }\n\n        function getIcon (label) {\n            switch (label) {\n                case 'Critical':\n                    return <ExclamationCircleIcon className='ins-c-summary__icon ins-c-summary__icon-critical' />;\n                case 'High':\n                    return <ExclamationTriangleIcon className='ins-c-summary__icon ins-c-summary__icon-high' />;\n                case 'Medium':\n                    return <ExclamationTriangleIcon className='ins-c-summary__icon ins-c-summary__icon-medium' />;\n                case 'Low':\n                    return <ExclamationIcon className='ins-c-summary__icon ins-c-summary__icon-low' />;\n            }\n        }\n\n        return (\n            <Card className='ins-c-card__config-assessment'>\n                <CardHeader>\n                    <Title className=\"pf-u-mt-0 pf-u-mb-0\" size={'lg'}>Configuration Assessment</Title>\n                </CardHeader>\n                <CardBody>\n                    { configAssessmentFetchStatus === 'fulfilled' && Array.isArray(severities) && severities.length > 0 && (\n                        severities.map(element =>\n                            <div className='ins-c-summary' key={ element.label }>\n                                { getIcon(element.label) }\n                                <span className='ins-c-summary__emphasis'>{ element.value }</span>\n                                <span className='ins-c-summary__label'>\n                                    <a href={ `/${ release }/platform/advisor/${ element.link }` }>{ element.label } Rule Hits</a>\n                                </span>\n                            </div>\n                        )\n                    ) }\n                    { configAssessmentFetchStatus === 'pending' && (<Loading/>) }\n                    { configAssessmentFetchStatus === 'fulfilled' && (!Array.isArray(severities) || severities.length === 0) && (\n                        <div className='ins-c-summary'>\n                            <CheckCircleIcon className='ins-c-summary__icon ins-c-summary__icon-check' />\n                            <span className='ins-c-summary__label'>You have no issues</span>\n                        </div>\n                    ) }\n                </CardBody>\n                <CardFooter>\n                    <a href={ `/${ release }/platform/advisor/` }>\n                        View All{ configAssessment.rules && configAssessment.rules.total > 0 ?\n                            ` ${configAssessment.rules.total} ` : ''} Rule Hits\n                    </a>\n                </CardFooter>\n            </Card>\n        );\n    }\n}\n\nConfigAssessmentCard.propTypes = {\n    fetchConfigAssessment: PropTypes.func,\n    configAssessment: PropTypes.object,\n    configAssessmentFetchStatus: PropTypes.string\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n    configAssessment: state.DashboardStore.configAssessment,\n    configAssessmentFetchStatus: state.DashboardStore.configAssessmentFetchStatus,\n    ...ownProps\n});\n\nconst mapDispatchToProps = dispatch => ({\n    fetchConfigAssessment: (url) => dispatch(AppActions.fetchConfigAssessment(url))\n});\n\nexport default routerParams(connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(ConfigAssessmentCard));\n"],"sourceRoot":""}